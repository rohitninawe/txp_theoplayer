/*!
 THEOplayer

 Usage of this software is limited by the THEOplayer License.

 It is prohibited to reverse engineer, decompile, translate,
 disassemble, decipher, decrypt, or otherwise attempt to
 discover the source code of this software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.

 For more information, visit https://www.theoplayer.com or contact
 contact @ theoplayer . com

 This product makes use of Open Source Software: Bluebird (MIT -
 Copyright (c) 2013-2015 Petka Antonov), long.js (Apache 2.0)
 The code of these projects has been heavily modified during
 integration.
 More information on the licenses can be found here: Apache 2.0
(http://www.apache.org/licenses/LICENSE-2.0), MIT
(https://opensource.org/licenses/MIT)

 THEOplayer is based on patented technology developed by
 THEO Technologies (https://www.theoplayer.com).

 Version: 2020.4.1 (2.78.0)
 Created: 2020-11-25T10:47:13.039Z
 */

!function(t){!function(n,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((n="undefined"!=typeof globalThis?globalThis:n||t).THEOplayer={})}(this,function(n){"use strict";var i,r,e=t.window,u=t.document,s=t.location,o=t.navigator,a=t.setTimeout,c=t.clearTimeout,h=t.setInterval,f=t.clearInterval,v=t.Error,d=t.TypeError,l=(t.SyntaxError,t.Object),_=t.Math,g=t.parseInt,w=t.parseFloat,y=t.isNaN,m=t.Uint8Array,p=t.Worker,k=(t.WorkerGlobalScope,t.XMLHttpRequest);function A(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function b(t,n,i){return n&&A(t.prototype,n),i&&A(t,i),t}var T=o?o.userAgent:"",E=/chrome\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/i,S=T.match(/Android ([0-9\.]+)/i),R=T.match(/Windows NT ([0-9\.]+)/i),I=T.match(/(Version)\/((\d+)\.(\d+)(?:\.(\d+))?).*Safari/),N=T.match(/Firefox\/([0-9\.]+)/i),D=T.match(/OPR\/(\d+\.\d+)/i),C=function(){function n(){this.o=Boolean("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch||o&&o.msMaxTouchPoints),this.l=Boolean(T.match(/(mac\sos\sx)\s?([\w\s\.]+\w)*/i)||T.match(/(macintosh|mac(?=_powerpc)\s)/i)),this.g=Boolean(T.match(/Windows NT/i)),this.R=R?w(R[1]):0,this.I=Boolean(T.match(/Android/i)),this.N=S?w(S[1]):0,this.B=Boolean(T.match(/windows phone (8|8\.1)/i)),this.M=Boolean(T.match(/iPhone/i)),this.U=Boolean(T.match(/iPad/i)),this.F=this.l&&this.o&&!this.U,this.H=Boolean(T.match(/iPod/i)),this.q=!!T.match(/Mobile Safari/i),this.X=(this.M||this.U||this.F||this.H)&&!this.B,this.G=this.B||this.X||this.I||this.q,this.j=Boolean(T.match(/CriOS/i)),this.Y=Boolean(t.chrome&&/google/i.test(o.vendor))||this.j,this.Z=E.exec(o&&o.userAgent)||[],this.J=Boolean(T.match(/SMART-TV.*Tizen/i)),this.K=Boolean(T.match(/Edge\/\d+/i)),this.nt=!!T.match(/Trident/i),this.it=this.nt&&!t.ActiveXObject&&"ActiveXObject"in t,this.et=Boolean(T.match(/Vivaldi/i)),this.ut=Boolean(T.match(/Firefox/i)&&!T.match(/Seamonkey/i)),this.st=N?w(N[1]):0,this.ot=Boolean(T.match(/Safari/i))&&!T.match(/Chrome/i)&&!this.B,this.at=I?w(I[2]):0,this.ct=Boolean(D),this.ht=D?w(D[1]):0,this.ft=!1,this.vt=!1,this.dt=this.vt||this.ft,this._t=!0,this.wt=!1,this.yt=!1}return b(n,[{key:"pt",get:function(){return this.o}},{key:"kt",get:function(){return this.l}},{key:"At",get:function(){return this.g}},{key:"bt",get:function(){return this.R}},{key:"Tt",get:function(){return this.I}},{key:"Et",get:function(){return this.N}},{key:"St",get:function(){return this.B}},{key:"Rt",get:function(){return this.M}},{key:"It",get:function(){return this.U}},{key:"Nt",get:function(){return this.F}},{key:"Dt",get:function(){return this.H}},{key:"Ct",get:function(){return this.X}},{key:"Ot",get:function(){return this.q}},{key:"Pt",get:function(){return this.G}},{key:"xt",get:function(){return this.j}},{key:"Bt",get:function(){return this.Y}},{key:"Lt",get:function(){return this.Z}},{key:"IS_TIZEN",get:function(){return this.J}},{key:"Mt",get:function(){return this.K}},{key:"Ut",get:function(){return this.nt}},{key:"Ft",get:function(){return this.it}},{key:"Vt",get:function(){return this.et}},{key:"Ht",get:function(){return this.ut}},{key:"qt",get:function(){return this.st}},{key:"Wt",get:function(){return this.ot}},{key:"Xt",get:function(){return this.at}},{key:"Gt",get:function(){return this.ct}},{key:"zt",get:function(){return this.ht}},{key:"jt",get:function(){return this.ft}},{key:"Yt",get:function(){return this.vt}},{key:"Qt",get:function(){return this.dt}},{key:"Zt",get:function(){return this._t}},{key:"Jt",get:function(){return this.wt}},{key:"Kt",get:function(){return this.yt}}]),n}();C.$t=new C;var O=C.$t,P={}.hasOwnProperty,x={}.toString;function B(t){return null!=t}var L=Array.isArray||function(t){return"[object Array]"===x.call(t)};function M(t){return U(t)&&P.call(t,"length")&&X(t.length)}function U(t){return"object"==typeof t&&null!==t}function F(t){return U(t)&&t.constructor&&t.constructor===l}function V(t){return"string"==typeof t}function H(t){return"boolean"==typeof t}function q(t){return t&&"function"==typeof t.then}function W(t){return"[object Date]"===x.call(t)}function X(t){return"number"==typeof t}var G=function(){},z=function(t){return t},j=!(O.Ut&&!O.Ft),Y=t.console;function Q(t){if(U(t))try{return JSON.stringify(t)}catch(t){}return t}function Z(t){return t.map(Q).join(" ")}function J(t){var n=Y&&Y[t];return n?n.bind&&j?n.bind(Y):function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Y[t](Z(i))}:void 0}var K,$=J("log")||G,tt=J("warn")||$.bind(void 0,"WARNING:"),nt=J("error")||$.bind(void 0,"ERROR:"),it=(K=Y&&Y.assert)?K.bind&&j?K.bind(Y):function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];Y.assert(t,Z(i))}:function(t){if(!t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];nt.apply(void 0,["Assertion failed:"].concat(i))}};function rt(){return Date.now()||(new Date).getTime()}function et(t){return t/1e3}function ut(t,n){t.prototype=l.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ot=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];v.apply(this,n)};(ot.prototype=l.create(v.prototype)).constructor=ot;var at=function(t){function n(n,i){var r;return(r=t.call(this)||this).message=n||"Unknown error",r.cause=i,v.captureStackTrace&&v.captureStackTrace(st(r),r.constructor),r}return ut(n,t),b(n,[{key:"name",get:function(){return"BaseError"}}]),n}(ot),ct=function(t){function n(n){return t.call(this,"Invalid XML",n)||this}return ut(n,t),n}(at),ht=function(){function t(){}return t.prototype.tn=function(t){var n,i=new DOMParser;try{n=i.parseFromString(t,"text/xml")}catch(t){throw new ct(t)}if(!n||n.getElementsByTagName("parsererror").length>0)throw new ct;return new wt(n)},t}(),ft=function(){function t(t){this.nn=t}return b(t,[{key:"in",get:function(){var t;return null!==(t=this.nn.localName)&&void 0!==t?t:pt(this.nn.nodeName)}},{key:"rn",get:function(){return this.nn.nodeName}},{key:"un",get:function(){var t;return null!==(t=this.nn.namespaceURI)&&void 0!==t?t:void 0}},{key:"sn",get:function(){var t;return null!==(t=this.nn.prefix)&&void 0!==t?t:void 0}},{key:"an",get:function(){return this.nn.nodeValue}}]),t}(),vt=function(){function t(t){this.cn=void 0,this.hn=t}var n=t.prototype;return n.fn=function(t){return this.vn.filter(function(n){return yt(n)&&n.dn===t})},n.ln=function(t,n){return this.vn.filter(function(i){return yt(i)&&i.in===n&&i.un===t})},b(t,[{key:"vn",get:function(){return void 0===this.cn&&(this.cn=function(t){for(var n=[],i=0;i<t.length;i++){var r=mt(t.item(i));r&&n.push(r)}return n}(this.hn.childNodes)),this.cn}},{key:"_n",get:function(){return this.vn.filter(yt)}}]),t}(),dt=function(t){function n(n){return t.call(this,n)||this}ut(n,t);var i=n.prototype;return i.gn=function(t){var n;return null!==(n=this.hn.getAttribute(t))&&void 0!==n?n:void 0},i.wn=function(t,n){var i;return null!==(i=this.hn.getAttributeNS(t,n))&&void 0!==i?i:void 0},b(n,[{key:"yn",get:function(){return 1}},{key:"in",get:function(){var t;return null!==(t=this.hn.localName)&&void 0!==t?t:pt(this.hn.nodeName)}},{key:"un",get:function(){var t;return null!==(t=this.hn.namespaceURI)&&void 0!==t?t:void 0}},{key:"sn",get:function(){var t;return null!==(t=this.hn.prefix)&&void 0!==t?t:void 0}},{key:"dn",get:function(){return this.hn.nodeName}},{key:"mn",get:function(){return function(t){for(var n=[],i=0;i<t.length;i++)n.push(new ft(t.item(i)));return n}(this.hn.attributes)}},{key:"pn",get:function(){return this.hn.textContent}}]),n}(vt),lt=function(){function t(t){this.hn=t}return b(t,[{key:"kn",get:function(){return this.hn.nodeValue}}]),t}(),_t=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"yn",get:function(){return 3}}]),n}(lt),gt=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"yn",get:function(){return 4}}]),n}(lt),wt=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"yn",get:function(){return 9}},{key:"An",get:function(){return new dt(this.hn.documentElement)}}]),n}(vt);function yt(t){return function(t){return 1===t.yn}(t)}function mt(t){switch(t.nodeType){case 1:return new dt(t);case 3:return new _t(t);case 4:return new gt(t)}}function pt(t){var n=t.indexOf(":");return n<0?t:t.substr(n+1)}var kt="undefined"!=typeof globalThis?globalThis:void 0!==e?e:"undefined"!=typeof global?global:void 0!==t?t:{};function At(t,n,i){return t(i={path:n,exports:{},require:function(t,n){return function(){throw new v("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&i.path)}},i.exports),i.exports}var bt=At(function(t){!function(t){var n,i=l.prototype,r=i.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},u=e.iterator||"@@iterator",s=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,n,i,r){var e=n&&n.prototype instanceof m?n:m,u=l.create(e.prototype),s=new C(r||[]);return u.bn=function(t,n,i){var r=h;return function(e,u){if(r===_)throw new v("Generator is already running");if(r===g){if("throw"===e)throw u;return P()}for(i.method=e,i.arg=u;;){var s=i.delegate;if(s){var o=I(s,i);if(o){if(o===w)continue;return o}}if("next"===i.method)i.sent=i.Tn=i.arg;else if("throw"===i.method){if(r===h)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=_;var a=c(t,n,i);if("normal"===a.type){if(r=i.done?g:f,a.arg===w)continue;return{value:a.arg,done:i.done}}"throw"===a.type&&(r=g,i.method="throw",i.arg=a.arg)}}}(t,i,s),u}function c(t,n,i){try{return{type:"normal",arg:t.call(n,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var h="suspendedStart",f="suspendedYield",_="executing",g="completed",w={};function m(){}function p(){}function k(){}var A={};A[u]=function(){return this};var b=l.getPrototypeOf,T=b&&b(b(O([])));T&&T!==i&&r.call(T,u)&&(A=T);var E=k.prototype=m.prototype=l.create(A);function S(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this.bn(n,t)}})}function R(t){var n;this.bn=function(i,e){function u(){return new Promise(function(n,u){!function n(i,e,u,s){var o=c(t[i],t,e);if("throw"!==o.type){var a=o.arg,h=a.value;return h&&"object"==typeof h&&r.call(h,"En")?Promise.resolve(h.En).then(function(t){n("next",t,u,s)},function(t){n("throw",t,u,s)}):Promise.resolve(h).then(function(t){a.value=t,u(a)},function(t){return n("throw",t,u,s)})}s(o.arg)}(i,e,n,u)})}return n=n?n.then(u,u):u()}}function I(t,i){var r=t.iterator[i.method];if(r===n){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=n,I(t,i),"throw"===i.method))return w;i.method="throw",i.arg=new d("The iterator does not provide a 'throw' method")}return w}var e=c(r,t.iterator,i.arg);if("throw"===e.type)return i.method="throw",i.arg=e.arg,i.delegate=null,w;var u=e.arg;return u?u.done?(i[t.resultName]=u.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=n),i.delegate=null,w):u:(i.method="throw",i.arg=new d("iterator result is not an object"),i.delegate=null,w)}function N(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function D(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function O(t){if(t){var i=t[u];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!y(t.length)){var e=-1,s=function i(){for(;++e<t.length;)if(r.call(t,e))return i.value=t[e],i.done=!1,i;return i.value=n,i.done=!0,i};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}p.prototype=E.constructor=k,k.constructor=p,k[o]=p.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===p||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return l.setPrototypeOf?l.setPrototypeOf(t,k):(t.__proto__=k,o in t||(t[o]="GeneratorFunction")),t.prototype=l.create(E),t},t.awrap=function(t){return{En:t}},S(R.prototype),R.prototype[s]=function(){return this},t.AsyncIterator=R,t.async=function(n,i,r,e){var u=new R(a(n,i,r,e));return t.isGeneratorFunction(i)?u:u.next().then(function(t){return t.done?t.value:u.next()})},S(E),E[o]="Generator",E[u]=function(){return this},E.toString=function(){return"[object Generator]"},t.keys=function(t){var n=[];for(var i in t)n.push(i);return n.reverse(),function i(){for(;n.length;){var r=n.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this.Tn=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!t)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!y(+i.slice(1))&&(this[i]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var i=this;function e(r,e){return o.type="throw",o.arg=t,i.next=r,e&&(i.method="next",i.arg=n),!!e}for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u],o=s.completion;if("root"===s.tryLoc)return e("end");if(s.tryLoc<=this.prev){var a=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(a&&c){if(this.prev<s.catchLoc)return e(s.catchLoc,!0);if(this.prev<s.finallyLoc)return e(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return e(s.catchLoc,!0)}else{if(!c)throw new v("try statement without catch or finally");if(this.prev<s.finallyLoc)return e(s.finallyLoc)}}}},abrupt:function(t,n){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc<=this.prev&&r.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var u=e;break}}u&&("break"===t||"continue"===t)&&u.tryLoc<=n&&n<=u.finallyLoc&&(u=null);var s=u?u.completion:{};return s.type=t,s.arg=n,u?(this.method="next",this.next=u.finallyLoc,w):this.complete(s)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),w},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),D(i),w}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var e=r.arg;D(i)}return e}}throw new v("illegal catch attempt")},delegateYield:function(t,i,r){return this.delegate={iterator:O(t),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=n),w}}}(t.exports)}),Tt=At(function(n,r){n.exports=function t(n,r,e){function u(o,a){if(!r[o]){if(!n[o]){var c="function"==typeof i&&i;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var h=new v("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[o]={exports:{}};n[o][0].call(f.exports,function(t){var i=n[o][1][t];return u(i||t)},f,f.exports,t,n,r,e)}return r[o].exports}for(var s="function"==typeof i&&i,o=0;o<e.length;o++)u(e[o]);return u}({1:[function(t,n,i){n.exports=function(t){var n=t.Sn;function i(t){var i=new n(t),r=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),r}t.any=function(t){return i(t)},t.prototype.any=function(){return i(this)}}},{}],2:[function(t,n,i){var r;try{throw new v}catch(t){r=t}var e=t("./schedule"),u=t("./queue"),s=t("./util");function o(){this.Rn=!1,this.In=!1,this.Nn=new u(16),this.Dn=new u(16),this.Cn=!1,this.On=!0;var t=this;this.drainQueues=function(){t.Pn()},this.xn=e}function c(t,n,i){this.Nn.push(t,n,i),this.Bn()}function h(t,n,i){this.Dn.push(t,n,i),this.Bn()}function f(t){this.Dn.Ln(t),this.Bn()}function d(t){for(;t.length()>0;)l(t)}function l(t){var n=t.shift();if("function"!=typeof n)n.Mn();else{var i=t.shift(),r=t.shift();n.call(i,r)}}o.prototype.setScheduler=function(t){var n=this.xn;return this.xn=t,this.Rn=!0,n},o.prototype.hasCustomScheduler=function(){return this.Rn},o.prototype.enableTrampoline=function(){this.On=!0},o.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this.On=!1)},o.prototype.haveItemsQueued=function(){return this.In||this.Cn},o.prototype.fatalError=function(t,n){n?(process.stderr.write("Fatal "+(t instanceof v?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},o.prototype.throwLater=function(t,n){if(1===arguments.length&&(n=t,t=function(){throw n}),void 0!==a)a(function(){t(n)},0);else try{this.xn(function(){t(n)})}catch(t){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(o.prototype.invokeLater=function(t,n,i){this.On?c.call(this,t,n,i):this.xn(function(){a(function(){t.call(n,i)},100)})},o.prototype.invoke=function(t,n,i){this.On?h.call(this,t,n,i):this.xn(function(){t.call(n,i)})},o.prototype.settlePromises=function(t){this.On?f.call(this,t):this.xn(function(){t.Mn()})}):(o.prototype.invokeLater=c,o.prototype.invoke=h,o.prototype.settlePromises=f),o.prototype.Pn=function(){d(this.Dn),this.Un(),this.Cn=!0,d(this.Nn)},o.prototype.Bn=function(){this.In||(this.In=!0,this.xn(this.drainQueues))},o.prototype.Un=function(){this.In=!1},n.exports=o,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,i){n.exports=function(t,n,i,r){var e=!1,u=function(t,n){this.Fn(n)},s=function(t,n){n.promiseRejectionQueued=!0,n.bindingPromise.Vn(u,u,null,this,t)},o=function(t,n){0==(50397184&this.Hn)&&this.qn(n.target)},a=function(t,n){n.promiseRejectionQueued||this.Fn(t)};t.prototype.bind=function(u){e||(e=!0,t.prototype.Wn=r.propagateFromFunction(),t.prototype.Xn=r.boundValueFunction());var c=i(u),h=new t(n);h.Wn(this,1);var f=this.Gn();if(h.zn(c),c instanceof t){var v={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:c};f.Vn(n,s,void 0,h,v),c.Vn(o,a,void 0,h,v),h.jn(c)}else h.qn(f);return h},t.prototype.zn=function(t){void 0!==t?(this.Hn=2097152|this.Hn,this.Yn=t):this.Hn=-2097153&this.Hn},t.prototype.Qn=function(){return 2097152==(2097152&this.Hn)},t.bind=function(n,i){return t.resolve(i).bind(n)}}},{}],4:[function(t,n,i){var r;"undefined"!=typeof Promise&&(r=Promise);var e=t("./promise")();e.noConflict=function(){try{Promise===e&&(Promise=r)}catch(t){}return e},n.exports=e},{"./promise":22}],5:[function(t,n,i){var r=l.create;if(r){var e=r(null),u=r(null);e[" size"]=u[" size"]=0}n.exports=function(n){var i=t("./util"),r=i.canEvaluate;function e(t){var r=this.pop(),e=function(t,r){var e;if(null!=t&&(e=t[r]),"function"!=typeof e){var u="Object "+i.classString(t)+" has no method '"+i.toString(r)+"'";throw new n.TypeError(u)}return e}(t,r);return e.apply(t,this)}function u(t){return t[this]}function s(t){var n=+this;return n<0&&(n=_.max(0,n+t.length)),t[n]}i.isIdentifier,n.prototype.call=function(t){var n=[].slice.call(arguments,1);return n.push(t),this.Vn(e,void 0,void 0,n,void 0)},n.prototype.get=function(t){var n,i="number"==typeof t;if(i)n=s;else if(r){var e=(void 0)();n=null!==e?e:u}else n=u;return this.Vn(n,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=u.tryCatch,o=u.errorObj,a=n.Zn;n.prototype.break=n.prototype.cancel=function(){if(!e.cancellation())return this.Jn("cancellation is disabled");for(var t=this,n=t;t.Kn();){if(!t.$n(n)){n.ti()?n.ni().cancel():n.ii();break}var i=t.ri;if(null==i||!i.Kn()){t.ti()?t.ni().cancel():t.ii();break}t.ti()&&t.ni().cancel(),t.ei(),n=t,t=i}},n.prototype.ui=function(){this.si--},n.prototype.oi=function(){return void 0===this.si||this.si<=0},n.prototype.$n=function(t){return t===this?(this.si=0,this.ai(),!0):(this.ui(),!!this.oi()&&(this.ai(),!0))},n.prototype.ii=function(){this.oi()&&this.ci()},n.prototype.ci=function(){this.Kn()&&(this.hi(),a.invoke(this.fi,this,void 0))},n.prototype.fi=function(){this.vi()>0&&this.Mn()},n.prototype.di=function(){this.li=void 0},n.prototype.Kn=function(){return this.isPending()&&!this._i()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype.gi=function(t,n){if(u.isArray(t))for(var i=0;i<t.length;++i)this.gi(t[i],n);else if(void 0!==t)if("function"==typeof t){if(!n){var r=s(t).call(this.Xn());r===o&&(this.wi(r.e),a.throwLater(r.e))}}else t._resultCancelled(this)},n.prototype.ai=function(){var t=this.yi();this.di(),a.invoke(this.gi,this,t)},n.prototype.mi=function(){this.Kn()&&(this.gi(this.yi(),!0),this.di())},n.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=t("./es5").keys,e=i.tryCatch,u=i.errorObj;return function(t,s,o){return function(a){var c=o.Xn();t:for(var h=0;h<t.length;++h){var f=t[h];if(f===v||null!=f&&f.prototype instanceof v){if(a instanceof f)return e(s).call(c,a)}else if("function"==typeof f){var d=e(f).call(c,a);if(d===u)return d;if(d)return e(s).call(c,a)}else if(i.isObject(a)){for(var l=r(f),_=0;_<l.length;++_){var g=l[_];if(f[g]!=a[g])continue t}return e(s).call(c,a)}}return n}}}},{"./es5":13,"./util":36}],8:[function(t,n,i){n.exports=function(t){var n=!1,i=[];function r(){this.pi=new r.CapturedTrace(e())}function e(){var t=i.length-1;if(t>=0)return i[t]}return t.prototype.ki=function(){},t.prototype.Ai=function(){},t.prototype.bi=function(){return null},t.Ti=t.prototype.Ti=function(){},r.prototype.Ai=function(){void 0!==this.pi&&(this.pi.ki=null,i.push(this.pi))},r.prototype.bi=function(){if(void 0!==this.pi){var t=i.pop(),n=t.ki;return t.ki=null,n}return null},r.CapturedTrace=null,r.create=function(){if(n)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var i=t.prototype.Ai,u=t.prototype.bi,s=t.Ti,o=t.prototype.Ti,a=t.prototype.ki;r.deactivateLongStackTraces=function(){t.prototype.Ai=i,t.prototype.bi=u,t.Ti=s,t.prototype.Ti=o,t.prototype.ki=a,n=!1},n=!0,t.prototype.Ai=r.prototype.Ai,t.prototype.bi=r.prototype.bi,t.Ti=t.prototype.Ti=e,t.prototype.ki=function(){var t=this.Ti();t&&null==t.ki&&(t.ki=this)}},r}},{}],9:[function(t,n,i){n.exports=function(n,i){var r,e,s,o=n.Ei,c=n.Zn,h=t("./errors").Warning,f=t("./util"),_=t("./es5"),w=f.canAttachTrace,y=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,m=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,k=null,A=null,b=!1,T=!(0==f.env("BLUEBIRD_DEBUG")),E=!(0==f.env("BLUEBIRD_WARNINGS")||!T&&!f.env("BLUEBIRD_WARNINGS")),S=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!T&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),R=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(E||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this.Gn();t.Hn=-1048577&t.Hn|524288},n.prototype.Si=function(){if(0==(524288&this.Hn)){this.Ri();var t=this;a(function(){t.Ii()},1)}},n.prototype.Ni=function(){Z("rejectionHandled",r,void 0,this)},n.prototype.Di=function(){this.Hn=268435456|this.Hn},n.prototype.Ci=function(){return 0!=(268435456&this.Hn)},n.prototype.Ii=function(){if(this.Oi()){var t=this.Pi();this.xi(),Z("unhandledRejection",e,t,this)}},n.prototype.xi=function(){this.Hn=262144|this.Hn},n.prototype.Bi=function(){this.Hn=-262145&this.Hn},n.prototype.Li=function(){return(262144&this.Hn)>0},n.prototype.Ri=function(){this.Hn=1048576|this.Hn},n.prototype.Mi=function(){this.Hn=-1048577&this.Hn,this.Li()&&(this.Bi(),this.Ni())},n.prototype.Oi=function(){return(1048576&this.Hn)>0},n.prototype.Jn=function(t,n,i){return z(t,n,i||this)},n.onPossiblyUnhandledRejection=function(t){var n=o();e="function"==typeof t?null===n?t:f.domainBind(n,t):void 0},n.onUnhandledRejectionHandled=function(t){var n=o();r="function"==typeof t?null===n?t:f.domainBind(n,t):void 0};var I=function(){};n.longStackTraces=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!et.longStackTraces&&K()){var t=n.prototype.Ui,r=n.prototype.wi,e=n.prototype.Fi;et.longStackTraces=!0,I=function(){if(c.haveItemsQueued()&&!et.longStackTraces)throw new v("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype.Ui=t,n.prototype.wi=r,n.prototype.Fi=e,i.deactivateLongStackTraces(),c.enableTrampoline(),et.longStackTraces=!1},n.prototype.Ui=W,n.prototype.wi=X,n.prototype.Fi=G,i.activateLongStackTraces(),c.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return et.longStackTraces&&K()};var N=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i={detail:n,cancelable:!0};_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason});var r=new CustomEvent(t.toLowerCase(),i);return!f.global.dispatchEvent(r)}}if("function"==typeof Event){var t=new Event("CustomEvent");return f.global.dispatchEvent(t),function(t,n){var i=new Event(t.toLowerCase(),{cancelable:!0});return i.detail=n,_.defineProperty(i,"promise",{value:n.promise}),_.defineProperty(i,"reason",{value:n.reason}),!f.global.dispatchEvent(i)}}var t=u.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(t),function(t,n){var i=u.createEvent("CustomEvent");return i.initCustomEvent(t.toLowerCase(),!1,!0,n),!f.global.dispatchEvent(i)}}catch(t){}return function(){return!1}}(),D=f.isNode?function(){return process.emit.apply(process,arguments)}:f.global?function(t){var n="on"+t.toLowerCase(),i=f.global[n];return!!i&&(i.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function C(t,n){return{promise:n}}var O={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,n,i){return{promise:n,child:i}},warning:function(t,n){return{warning:n}},unhandledRejection:function(t,n,i){return{reason:n,promise:i}},rejectionHandled:C},P=function(t){var n=!1;try{n=D.apply(null,arguments)}catch(t){c.throwLater(t),n=!0}var i=!1;try{i=N(t,O[t].apply(null,arguments))}catch(t){c.throwLater(t),i=!0}return i||n};function x(){return!1}function B(t,n,i){var r=this;try{t(n,i,function(t){if("function"!=typeof t)throw new d("onCancel must be a function, got: "+f.toString(t));r.Vi(t)})}catch(t){return t}}function L(t){if(!this.Kn())return this;var n=this.yi();void 0!==n?f.isArray(n)?n.push(t):this.jn([n,t]):this.jn(t)}function M(){return this.li}function U(t){this.li=t}function F(){this.ri=void 0,this.li=void 0}function V(t,n){if(0!=(1&n)){this.ri=t;var i=t.si;void 0===i&&(i=0),t.si=i+1}0!=(2&n)&&t.Qn()&&this.zn(t.Yn)}n.config=function(t){if("longStackTraces"in(t=l(t))&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&I()),"warnings"in t){var i=t.warnings;et.warnings=!!i,R=et.warnings,f.isObject(i)&&"wForgottenReturn"in i&&(R=!!i.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!et.cancellation){if(c.haveItemsQueued())throw new v("cannot enable cancellation after promises are in use");n.prototype.Hi=F,n.prototype.Wn=V,n.prototype.yi=M,n.prototype.jn=U,n.prototype.Vi=L,n.prototype.qi=B,H=V,et.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!et.monitoring?(et.monitoring=!0,n.prototype.Wi=P):!t.monitoring&&et.monitoring&&(et.monitoring=!1,n.prototype.Wi=x)),n},n.prototype.Wi=x,n.prototype.qi=function(t,n,i){try{t(n,i)}catch(t){return t}},n.prototype.yi=function(){},n.prototype.jn=function(t){},n.prototype.Vi=function(t){},n.prototype.Ui=function(){},n.prototype.wi=function(){},n.prototype.Fi=function(){},n.prototype.Hi=function(){},n.prototype.Wn=function(t,n){};var H=function(t,n){0!=(2&n)&&t.Qn()&&this.zn(t.Yn)};function q(){var t=this.Yn;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function W(){this.pi=new it(this.Ti())}function X(t,n){if(w(t)){var i=this.pi;if(void 0!==i&&n&&(i=i.Xi),void 0!==i)i.attachExtraTrace(t);else if(!t.Gi){var r=Y(t);f.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(t,"Gi",!0)}}}function G(){this.pi=void 0}function z(t,i,r){if(et.warnings){var e,u=new h(t);if(i)r.wi(u);else if(et.longStackTraces&&(e=n.Ti()))e.attachExtraTrace(u);else{var s=Y(u);u.stack=s.message+"\n"+s.stack.join("\n")}P("warning",u)||Q(u,"",!0)}}function j(t){for(var n=[],i=0;i<t.length;++i){var r=t[i],e="    (No stack trace)"===r||k.test(r),u=e&&$(r);e&&!u&&(b&&" "!==r.charAt(0)&&(r="    "+r),n.push(r))}return n}function Y(t){var n=t.stack,i=t.toString();return n="string"==typeof n&&n.length>0?function(t){for(var n=t.stack.replace(/\s+$/g,"").split("\n"),i=0;i<n.length;++i){var r=n[i];if("    (No stack trace)"===r||k.test(r))break}return i>0&&"SyntaxError"!=t.name&&(n=n.slice(i)),n}(t):["    (No stack trace)"],{message:i,stack:"SyntaxError"==t.name?n:j(n)}}function Q(t,n,i){if("undefined"!=typeof console){var r;if(f.isObject(t)){var e=t.stack;r=n+A(e,t)}else r=n+String(t);"function"==typeof s?s(r,i):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function Z(t,n,i,r){var e=!1;try{"function"==typeof n&&(e=!0,"rejectionHandled"===t?n(r):n(i,r))}catch(t){c.throwLater(t)}"unhandledRejection"===t?P(t,i,r)||e||Q(i,"Unhandled rejection "):P(t,r)}function J(t){var n;if("function"==typeof t)n="[function "+(t.name||"anonymous")+"]";else{if(n=t&&"function"==typeof t.toString?t.toString():f.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(n))try{var i=JSON.stringify(t);n=i}catch(t){}0===n.length&&(n="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(n)+">, no stack trace)"}function K(){return"function"==typeof rt}var $=function(){return!1},tt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function nt(t){var n=t.match(tt);if(n)return{fileName:n[1],line:g(n[2],10)}}function it(t){this.Xi=t,this.zi=0;var n=this.vi=1+(void 0===t?0:t.vi);rt(this,it),n>32&&this.uncycle()}f.inherits(it,v),i.CapturedTrace=it,it.prototype.uncycle=function(){var t=this.vi;if(!(t<2)){for(var n=[],i={},r=0,e=this;void 0!==e;++r)n.push(e),e=e.Xi;for(var r=(t=this.vi=r)-1;r>=0;--r){var u=n[r].stack;void 0===i[u]&&(i[u]=r)}for(var r=0;r<t;++r){var s=n[r].stack,o=i[s];if(void 0!==o&&o!==r){o>0&&(n[o-1].Xi=void 0,n[o-1].vi=1),n[r].Xi=void 0,n[r].vi=1;var a=r>0?n[r-1]:this;o<t-1?(a.Xi=n[o+1],a.Xi.uncycle(),a.vi=a.Xi.vi+1):(a.Xi=void 0,a.vi=1);for(var c=a.vi+1,h=r-2;h>=0;--h)n[h].vi=c,c++;return}}}},it.prototype.attachExtraTrace=function(t){if(!t.Gi){this.uncycle();for(var n=Y(t),i=n.message,r=[n.stack],e=this;void 0!==e;)r.push(j(e.stack.split("\n"))),e=e.Xi;!function(t){for(var n=t[0],i=1;i<t.length;++i){for(var r=t[i],e=n.length-1,u=n[e],s=-1,o=r.length-1;o>=0;--o)if(r[o]===u){s=o;break}for(var o=s;o>=0;--o){var a=r[o];if(n[e]!==a)break;n.pop(),e--}n=r}}(r),function(t){for(var n=0;n<t.length;++n)(0===t[n].length||n+1<t.length&&t[n][0]===t[n+1][0])&&(t.splice(n,1),n--)}(r),f.notEnumerableProp(t,"stack",function(t,n){for(var i=0;i<n.length-1;++i)n[i].push("From previous event:"),n[i]=n[i].join("\n");return i<n.length&&(n[i]=n[i].join("\n")),t+"\n"+n.join("\n")}(i,r)),f.notEnumerableProp(t,"Gi",!0)}};var rt=function(){var t=/^\s*at\s*/,n=function(t,n){return"string"==typeof t?t:void 0!==n.name&&void 0!==n.message?n.toString():J(n)};if("number"==typeof v.stackTraceLimit&&"function"==typeof v.captureStackTrace){v.stackTraceLimit+=6,k=t,A=n;var i=v.captureStackTrace;return $=function(t){return y.test(t)},function(t,n){v.stackTraceLimit+=6,i(t,n),v.stackTraceLimit-=6}}var r,e=new v;if("string"==typeof e.stack&&e.stack.split("\n")[0].indexOf("stackDetection@")>=0)return k=/@/,A=n,b=!0,function(t){t.stack=(new v).stack};try{throw new v}catch(t){r="stack"in t}return"stack"in e||!r||"number"!=typeof v.stackTraceLimit?(A=function(t,n){return"string"==typeof t?t:"object"!=typeof n&&"function"!=typeof n||void 0===n.name||void 0===n.message?J(n):n.toString()},null):(k=t,A=n,function(t){v.stackTraceLimit+=6;try{throw new v}catch(n){t.stack=n.stack}v.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(t){console.warn(t)},f.isNode&&process.stderr.isTTY?s=function(t,n){var i=n?"\x1b[33m":"\x1b[31m";console.warn(i+t+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new v).stack||(s=function(t,n){console.warn("%c"+t,n?"color: darkorange":"color: red")}));var et={warnings:E,longStackTraces:!1,cancellation:!1,monitoring:!1};return S&&n.longStackTraces(),{longStackTraces:function(){return et.longStackTraces},warnings:function(){return et.warnings},cancellation:function(){return et.cancellation},monitoring:function(){return et.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return q},checkForgottenReturns:function(t,n,i,r,e){if(void 0===t&&null!==n&&R){if(void 0!==e&&e.Ci())return;if(0==(65535&r.Hn))return;i&&(i+=" ");var u="",s="";if(n.pi){for(var o=n.pi.stack.split("\n"),a=j(o),c=a.length-1;c>=0;--c){var h=a[c];if(!m.test(h)){var f=h.match(p);f&&(u="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(a.length>0)for(var v=a[0],c=0;c<o.length;++c)if(o[c]===v){c>0&&(s="\n"+o[c-1]);break}}var d="a promise was created in a "+i+"handler "+u+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r.Jn(d,!0,n)}},setBounds:function(t,n){if(K()){for(var i,r,e=(t.stack||"").split("\n"),u=(n.stack||"").split("\n"),s=-1,o=-1,a=0;a<e.length;++a){var c=nt(e[a]);if(c){i=c.fileName,s=c.line;break}}for(var a=0;a<u.length;++a){var c=nt(u[a]);if(c){r=c.fileName,o=c.line;break}}s<0||o<0||!i||!r||i!==r||s>=o||($=function(t){if(y.test(t))return!0;var n=nt(t);return!!(n&&n.fileName===i&&s<=n.line&&n.line<=o)})}},warn:z,deprecated:function(t,n){var i=t+" is deprecated and will be removed in a future version.";return n&&(i+=" Use "+n+" instead."),z(i)},CapturedTrace:it,fireDomEvent:N,fireGlobalEvent:D}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,i){n.exports=function(t){function n(){return this.value}function i(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this.Vn(n,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this.Vn(i,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this.Vn(void 0,i,void 0,{reason:t},void 0);var n=arguments[1];return this.caught(t,function(){throw n})},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this.Vn(void 0,n,void 0,{value:i},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(i,function(){return r})}}},{}],11:[function(t,n,i){n.exports=function(t,n){var i=t.reduce,r=t.all;function e(){return r(this)}t.prototype.each=function(t){return i(this,t,n,0).Vn(e,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,n,n)},t.each=function(t,r){return i(t,r,n,0).Vn(e,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return i(t,r,n,n)}}},{}],12:[function(t,n,i){var r,e,u=t("./es5"),s=u.freeze,o=t("./util"),a=o.inherits,c=o.notEnumerableProp;function h(t,n){function i(r){if(!(this instanceof i))return new i(r);c(this,"message","string"==typeof r?r:n),c(this,"name",t),v.captureStackTrace?v.captureStackTrace(this,this.constructor):v.call(this)}return a(i,v),i}var f=h("Warning","warning"),l=h("CancellationError","cancellation error"),_=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{r=d,e=RangeError}catch(t){r=h("TypeError","type error"),e=h("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<w.length;++y)"function"==typeof Array.prototype[w[y]]&&(g.prototype[w[y]]=Array.prototype[w[y]]);u.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var m=0;function p(t){if(!(this instanceof p))return new p(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof v?(c(this,"message",t.message),c(this,"stack",t.stack)):v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*m+1).join(" "),n="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var i=0;i<this.length;++i){for(var r=this[i]===this?"[Circular AggregateError]":this[i]+"",e=r.split("\n"),u=0;u<e.length;++u)e[u]=t+e[u];r=e.join("\n"),n+=r+"\n"}return m--,n},a(p,v);var k=v.ji;k||(k=s({CancellationError:l,TimeoutError:_,OperationalError:p,RejectionError:p,AggregateError:g}),u.defineProperty(v,"ji",{value:k,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error:v,TypeError:r,RangeError:e,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(t,n,i){var r=function(){return void 0===this}();if(r)n.exports={freeze:l.freeze,defineProperty:l.defineProperty,getDescriptor:l.getOwnPropertyDescriptor,keys:l.keys,names:l.getOwnPropertyNames,getPrototypeOf:l.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,n){var i=l.getOwnPropertyDescriptor(t,n);return!(i&&!i.writable&&!i.set)}};else{var e={}.hasOwnProperty,u={}.toString,s={}.constructor.prototype,o=function(t){var n=[];for(var i in t)e.call(t,i)&&n.push(i);return n};n.exports={isArray:function(t){try{return"[object Array]"===u.call(t)}catch(t){return!1}},keys:o,names:o,defineProperty:function(t,n,i){return t[n]=i.value,t},getDescriptor:function(t,n){return{value:t[n]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return l(t).constructor.prototype}catch(t){return s}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,i){n.exports=function(t,n){var i=t.map;t.prototype.filter=function(t,r){return i(this,t,r,n)},t.filter=function(t,r,e){return i(t,r,e,n)}}},{}],15:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.CancellationError,s=e.errorObj,o=t("./catch_filter")(r);function a(t,n,i){this.promise=t,this.type=n,this.handler=i,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function h(t,n){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise.Fn(n):t.cancelPromise.ci(),t.cancelPromise=null,!0)}function f(){return l.call(this,this.promise.Gn().Pi())}function v(t){if(!h(this,t))return s.e=t,s}function l(t){var e=this.promise,o=this.handler;if(!this.called){this.called=!0;var a=this.isFinallyHandler()?o.call(e.Xn()):o.call(e.Xn(),t);if(a===r)return a;if(void 0!==a){e.Di();var d=i(a,e);if(d instanceof n){if(null!=this.cancelPromise){if(d._i()){var l=new u("late cancellation observer");return e.wi(l),s.e=l,s}d.isPending()&&d.Vi(new c(this))}return d.Vn(f,v,void 0,this,void 0)}}}return e.isRejected()?(h(this),s.e=t,s):(h(this),t)}return a.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){h(this.finallyHandler)},n.prototype.Yi=function(t,n,i,r){return"function"!=typeof t?this.then():this.Vn(i,r,void 0,new a(this,n,t),void 0)},n.prototype.lastly=n.prototype.finally=function(t){return this.Yi(t,0,l,l)},n.prototype.tap=function(t){return this.Yi(t,1,l)},n.prototype.tapCatch=function(t){var i=arguments.length;if(1===i)return this.Yi(t,1,void 0,l);var r,u=new Array(i-1),s=0;for(r=0;r<i-1;++r){var a=arguments[r];if(!e.isObject(a))return n.reject(new d("tapCatch statement predicate: expecting an object but got "+e.classString(a)));u[s++]=a}u.length=s;var c=arguments[r];return this.Yi(o(u,c,this),1,void 0,l)},a}},{"./catch_filter":7,"./util":36}],16:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./errors"),a=o.TypeError,c=t("./util"),h=c.errorObj,f=c.tryCatch,d=[];function _(t,i,e,u){if(s.cancellation()){var o=new n(r),a=this.Qi=new n(r);this.Zi=o.lastly(function(){return a}),o.Ui(),o.jn(this)}else{var c=this.Zi=new n(r);c.Ui()}this.Ji=u,this.Ki=t,this.$i=i,this.tr=void 0,this.nr="function"==typeof e?[e].concat(d):d,this.ir=null,this.rr=!1}c.inherits(_,u),_.prototype.er=function(){return null===this.Zi},_.prototype.ur=function(){this.Zi=this.tr=null,s.cancellation()&&null!==this.Qi&&(this.Qi.sr(),this.Qi=null)},_.prototype.ar=function(){if(!this.er()){var t,i=void 0!==this.tr.return;if(i)this.Zi.Ai(),t=f(this.tr.return).call(this.tr,void 0),this.Zi.bi();else{var r=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=r,this.Zi.wi(r),this.Zi.Ai(),t=f(this.tr.throw).call(this.tr,r),this.Zi.bi()}this.rr=!0,this.ir=null,this.cr(t)}},_.prototype.hr=function(t){this.ir=null,this.Zi.Ai();var n=f(this.tr.next).call(this.tr,t);this.Zi.bi(),this.cr(n)},_.prototype.dr=function(t){this.ir=null,this.Zi.wi(t),this.Zi.Ai();var n=f(this.tr.throw).call(this.tr,t);this.Zi.bi(),this.cr(n)},_.prototype._resultCancelled=function(){if(this.ir instanceof n){var t=this.ir;this.ir=null,t.cancel()}},_.prototype.promise=function(){return this.Zi},_.prototype._r=function(){this.tr=this.Ki.call(this.$i),this.$i=this.Ki=void 0,this.hr(void 0)},_.prototype.cr=function(t){var i=this.Zi;if(t===h)return this.ur(),this.rr?i.cancel():i.gr(t.e,!1);var r=t.value;if(!0===t.done)return this.ur(),this.rr?i.cancel():i.qn(r);var u=e(r,this.Zi);if(u instanceof n||null!==(u=function(t,i,r){for(var u=0;u<i.length;++u){r.Ai();var s=f(i[u])(t);if(r.bi(),s===h){r.Ai();var o=n.reject(h.e);return r.bi(),o}var a=e(s,r);if(a instanceof n)return a}return null}(u,this.nr,this.Zi))){var s=(u=u.Gn()).Hn;0==(50397184&s)?(this.ir=u,u.wr(this,null)):0!=(33554432&s)?n.Zn.invoke(this.hr,this,u.yr()):0!=(16777216&s)?n.Zn.invoke(this.dr,this,u.mr()):this.ar()}else this.dr(new a("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this.Ji.split("\n").slice(1,-7).join("\n")))},n.coroutine=function(t,n){if("function"!=typeof t)throw new a("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=l(n).yieldHandler,r=_,e=(new v).stack;return function(){var n=t.apply(this,arguments),u=new r(void 0,void 0,i,e),s=u.promise();return u.tr=n,u.hr(void 0),s}},n.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new a("expecting a function but got "+c.classString(t));d.push(t)},n.spawn=function(t){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return i("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new _(t,this),e=r.promise();return r._r(n.spawn),e}}},{"./errors":12,"./util":36}],17:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util");o.canEvaluate,o.tryCatch,o.errorObj,n.join=function(){var t,n=arguments.length-1;n>0&&"function"==typeof arguments[n]&&(t=arguments[n]);var r=[].slice.call(arguments);t&&r.pop();var e=new i(r).promise();return void 0!==t?e.spread(t):e}}},{"./util":36}],18:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ei,a=t("./util"),c=a.tryCatch,h=a.errorObj,f=n.Zn;function v(t,n,i,r){this.constructor$(t),this.Zi.Ui();var e=o();this.pr=null===e?n:a.domainBind(e,n),this.kr=r===u?new Array(this.length()):null,this.Ar=i,this.Tr=0,this.Er=[],f.invoke(this.Sr,this,void 0)}function l(t,i,e,u){if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var s=0;if(void 0!==e){if("object"!=typeof e||null===e)return n.reject(new d("options argument must be an object but it is "+a.classString(e)));if("number"!=typeof e.concurrency)return n.reject(new d("'concurrency' must be a number but it is "+a.classString(e.concurrency)));s=e.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new v(t,i,s,u).promise()}a.inherits(v,i),v.prototype.Sr=function(){this._init$(void 0,-2)},v.prototype._init=function(){},v.prototype.hr=function(t,i){var r=this.Rr,u=this.length(),o=this.kr,a=this.Ar;if(i<0){if(r[i=-1*i-1]=t,a>=1&&(this.Tr--,this.Ir(),this.er()))return!0}else{if(a>=1&&this.Tr>=a)return r[i]=t,this.Er.push(i),!1;null!==o&&(o[i]=t);var f=this.Zi,v=this.pr,d=f.Xn();f.Ai();var l=c(v).call(d,t,i,u),_=f.bi();if(s.checkForgottenReturns(l,_,null!==o?"Promise.filter":"Promise.map",f),l===h)return this.Fn(l.e),!0;var g=e(l,this.Zi);if(g instanceof n){var w=(g=g.Gn()).Hn;if(0==(50397184&w))return a>=1&&this.Tr++,r[i]=g,g.wr(this,-1*(i+1)),!1;if(0==(33554432&w))return 0!=(16777216&w)?(this.Fn(g.mr()),!0):(this.ci(),!0);l=g.yr()}r[i]=l}var y=++this.Nr;return y>=u&&(null!==o?this.Dr(r,o):this.Cr(r),!0)},v.prototype.Ir=function(){for(var t=this.Er,n=this.Ar,i=this.Rr;t.length>0&&this.Tr<n;){if(this.er())return;var r=t.pop();this.hr(i[r],r)}},v.prototype.Dr=function(t,n){for(var i=n.length,r=new Array(i),e=0,u=0;u<i;++u)t[u]&&(r[e++]=n[u]);r.length=e,this.Cr(r)},v.prototype.preservedValues=function(){return this.kr},n.prototype.map=function(t,n){return l(this,t,n,null)},n.map=function(t,n,i,r){return l(t,n,i,r)}}},{"./util":36}],19:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util"),o=s.tryCatch;n.method=function(t){if("function"!=typeof t)throw new n.TypeError("expecting a function but got "+s.classString(t));return function(){var r=new n(i);r.Ui(),r.Ai();var e=o(t).apply(this,arguments),s=r.bi();return u.checkForgottenReturns(e,s,"Promise.method",r),r.Or(e),r}},n.attempt=n.try=function(t){if("function"!=typeof t)return e("expecting a function but got "+s.classString(t));var r,a=new n(i);if(a.Ui(),a.Ai(),arguments.length>1){u.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],h=arguments[2];r=s.isArray(c)?o(t).apply(h,c):o(t).call(h,c)}else r=o(t)();var f=a.bi();return u.checkForgottenReturns(r,f,"Promise.try",a),a.Or(r),a},n.prototype.Or=function(t){t===s.errorObj?this.gr(t.e,!1):this.qn(t,!0)}}},{"./util":36}],20:[function(t,n,i){var r=t("./util"),e=r.maybeWrapAsError,u=t("./errors"),s=u.OperationalError,o=t("./es5"),a=/^(?:name|message|stack|cause)$/;function c(t){var n;if(function(t){return t instanceof v&&o.getPrototypeOf(t)===v.prototype}(t)){(n=new s(t)).name=t.name,n.message=t.message,n.stack=t.stack;for(var i=o.keys(t),e=0;e<i.length;++e){var u=i[e];a.test(u)||(n[u]=t[u])}return n}return r.markAsOriginatingFromRejection(t),t}n.exports=function(t,n){return function(i,r){if(null!==t){if(i){var u=c(e(i));t.wi(u),t.Fn(u)}else if(n){var s=[].slice.call(arguments,1);t.sr(s)}else t.sr(r);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,i){n.exports=function(n){var i=t("./util"),r=n.Zn,e=i.tryCatch,u=i.errorObj;function s(t,n){if(!i.isArray(t))return o.call(this,t,n);var s=e(n).apply(this.Xn(),[null].concat(t));s===u&&r.throwLater(s.e)}function o(t,n){var i=this.Xn(),s=void 0===t?e(n).call(i,null):e(n).call(i,null,t);s===u&&r.throwLater(s.e)}function a(t,n){if(!t){var i=new v(t+"");i.cause=t,t=i}var s=e(n).call(this.Xn(),t);s===u&&r.throwLater(s.e)}n.prototype.asCallback=n.prototype.nodeify=function(t,n){if("function"==typeof t){var i=o;void 0!==n&&l(n).spread&&(i=s),this.Vn(i,a,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,i){n.exports=function(){var i=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new N.PromiseInspection(this.Gn())},e=function(t){return N.reject(new d(t))};function u(){}var s,o={},a=t("./util");s=a.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null},a.notEnumerableProp(N,"Ei",s);var c=t("./es5"),h=t("./async"),f=new h;c.defineProperty(N,"Zn",{value:f});var v=t("./errors"),d=N.TypeError=v.TypeError;N.RangeError=v.RangeError;var _=N.CancellationError=v.CancellationError;N.TimeoutError=v.TimeoutError,N.OperationalError=v.OperationalError,N.RejectionError=v.OperationalError,N.AggregateError=v.AggregateError;var g=function(){},w={},y={},m=t("./thenables")(N,g),p=t("./promise_array")(N,g,m,e,u),k=t("./context")(N),A=k.create,b=t("./debuggability")(N,k),T=(b.CapturedTrace,t("./finally")(N,m,y)),E=t("./catch_filter")(y),S=t("./nodeback"),R=a.errorObj,I=a.tryCatch;function N(t){t!==g&&function(t,n){if(null==t||t.constructor!==N)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof n)throw new d("expecting a function but got "+a.classString(n))}(this,t),this.Hn=0,this.Pr=void 0,this.xr=void 0,this.Br=void 0,this.Lr=void 0,this.Mr(t),this.ki(),this.Wi("promiseCreated",this)}function D(t){this.promise.qn(t)}function C(t){this.promise.gr(t,!1)}function O(t){var n=new N(g);n.Pr=t,n.xr=t,n.Br=t,n.Lr=t}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(t){var n=arguments.length;if(n>1){var i,r=new Array(n-1),u=0;for(i=0;i<n-1;++i){var s=arguments[i];if(!a.isObject(s))return e("Catch statement predicate: expecting an object but got "+a.classString(s));r[u++]=s}if(r.length=u,"function"!=typeof(t=arguments[i]))throw new d("The last argument to .catch() must be a function, got "+a.toString(t));return this.then(void 0,E(r,t,this))}return this.then(void 0,t)},N.prototype.reflect=function(){return this.Vn(r,r,void 0,this,void 0)},N.prototype.then=function(t,n){if(b.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof n){var i=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(i+=", "+a.classString(n)),this.Jn(i)}return this.Vn(t,n,void 0,void 0,void 0)},N.prototype.done=function(t,n){var i=this.Vn(t,n,void 0,void 0,void 0);i.Ur()},N.prototype.spread=function(t){return"function"!=typeof t?e("expecting a function but got "+a.classString(t)):this.all().Vn(t,void 0,void 0,w,void 0)},N.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},N.prototype.all=function(){return arguments.length>0&&this.Jn(".all() was passed arguments but it does not take any"),new p(this).promise()},N.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},N.getNewLibraryCopy=n.exports,N.is=function(t){return t instanceof N},N.fromNode=N.fromCallback=function(t){var n=new N(g);n.Ui();var i=arguments.length>1&&!!l(arguments[1]).multiArgs,r=I(t)(S(n,i));return r===R&&n.gr(r.e,!0),n.Fr()||n.Vr(),n},N.all=function(t){return new p(t).promise()},N.cast=function(t){var n=m(t);return n instanceof N||((n=new N(g)).Ui(),n.Hr(),n.xr=t),n},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(t){var n=new N(g);return n.Ui(),n.gr(t,!0),n},N.setScheduler=function(t){if("function"!=typeof t)throw new d("expecting a function but got "+a.classString(t));return f.setScheduler(t)},N.prototype.Vn=function(t,n,i,r,e){var u=void 0!==e,o=u?e:new N(g),c=this.Gn(),h=c.Hn;u||(o.Wn(this,3),o.Ui(),void 0===r&&0!=(2097152&this.Hn)&&(r=0!=(50397184&h)?this.Xn():c===this?void 0:this.Yn),this.Wi("promiseChained",this,o));var v=s();if(0!=(50397184&h)){var d,l,w=c.qr;0!=(33554432&h)?(l=c.xr,d=t):0!=(16777216&h)?(l=c.Pr,d=n,c.Mi()):(w=c.Wr,l=new _("late cancellation observer"),c.wi(l),d=n),f.invoke(w,c,{handler:null===v?d:"function"==typeof d&&a.domainBind(v,d),promise:o,receiver:r,value:l})}else c.Xr(t,n,o,r,v);return o},N.prototype.vi=function(){return 65535&this.Hn},N.prototype.Fr=function(){return 0!=(117506048&this.Hn)},N.prototype.ti=function(){return 67108864==(67108864&this.Hn)},N.prototype.Gr=function(t){this.Hn=-65536&this.Hn|65535&t},N.prototype.Hr=function(){this.Hn=33554432|this.Hn,this.Wi("promiseFulfilled",this)},N.prototype.zr=function(){this.Hn=16777216|this.Hn,this.Wi("promiseRejected",this)},N.prototype.jr=function(){this.Hn=67108864|this.Hn,this.Wi("promiseResolved",this)},N.prototype.Ur=function(){this.Hn=4194304|this.Hn},N.prototype.Yr=function(){return(4194304&this.Hn)>0},N.prototype.Qr=function(){this.Hn=-65537&this.Hn},N.prototype.hi=function(){this.Hn=65536|this.Hn,this.Wi("promiseCancelled",this)},N.prototype.ei=function(){this.Hn=8388608|this.Hn},N.prototype.Vr=function(){f.hasCustomScheduler()||(this.Hn=134217728|this.Hn)},N.prototype.Zr=function(t){var n=0===t?this.Lr:this[4*t-4+3];if(n!==o)return void 0===n&&this.Qn()?this.Xn():n},N.prototype.Jr=function(t){return this[4*t-4+2]},N.prototype.Kr=function(t){return this[4*t-4+0]},N.prototype.$r=function(t){return this[4*t-4+1]},N.prototype.Xn=function(){},N.prototype.te=function(t){t.Hn;var n=t.Pr,i=t.xr,r=t.Br,e=t.Zr(0);void 0===e&&(e=o),this.Xr(n,i,r,e,null)},N.prototype.ie=function(t,n){var i=t.Kr(n),r=t.$r(n),e=t.Jr(n),u=t.Zr(n);void 0===u&&(u=o),this.Xr(i,r,e,u,null)},N.prototype.Xr=function(t,n,i,r,e){var u=this.vi();if(u>=65531&&(u=0,this.Gr(0)),0===u)this.Br=i,this.Lr=r,"function"==typeof t&&(this.Pr=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this.xr=null===e?n:a.domainBind(e,n));else{var s=4*u-4;this[s+2]=i,this[s+3]=r,"function"==typeof t&&(this[s+0]=null===e?t:a.domainBind(e,t)),"function"==typeof n&&(this[s+1]=null===e?n:a.domainBind(e,n))}return this.Gr(u+1),u},N.prototype.wr=function(t,n){this.Xr(void 0,void 0,n,t,null)},N.prototype.qn=function(t,n){if(0==(117506048&this.Hn)){if(t===this)return this.gr(i(),!1);var r=m(t,this);if(!(r instanceof N))return this.sr(t);n&&this.Wn(r,2);var e=r.Gn();if(e!==this){var u=e.Hn;if(0==(50397184&u)){var s=this.vi();s>0&&e.te(this);for(var o=1;o<s;++o)e.ie(this,o);this.jr(),this.Gr(0),this.re(e)}else if(0!=(33554432&u))this.sr(e.yr());else if(0!=(16777216&u))this.Fn(e.mr());else{var a=new _("late cancellation observer");e.wi(a),this.Fn(a)}}else this.Fn(i())}},N.prototype.gr=function(t,n,i){var r=a.ensureErrorObject(t),e=r===t;if(!e&&!i&&b.warnings()){var u="a promise was rejected with a non-error: "+a.classString(t);this.Jn(u,!0)}this.wi(r,!!n&&e),this.Fn(t)},N.prototype.Mr=function(t){if(t!==g){var n=this;this.Ui(),this.Ai();var i=!0,r=this.qi(t,function(t){n.qn(t)},function(t){n.gr(t,i)});i=!1,this.bi(),void 0!==r&&n.gr(r,!0)}},N.prototype.ee=function(t,n,i,r){var e=r.Hn;if(0==(65536&e)){var u;r.Ai(),n===w?i&&"number"==typeof i.length?u=I(t).apply(this.Xn(),i):(u=R).e=new d("cannot .spread() a non-array: "+a.classString(i)):u=I(t).call(n,i);var s=r.bi();0==(65536&(e=r.Hn))&&(u===y?r.Fn(i):u===R?r.gr(u.e,!1):(b.checkForgottenReturns(u,s,"",r,this),r.qn(u)))}},N.prototype.Gn=function(){for(var t=this;t.ti();)t=t.ni();return t},N.prototype.ni=function(){return this.xr},N.prototype.re=function(t){this.xr=t},N.prototype.ue=function(t,n,i,e){var s=t instanceof N,o=this.Hn,a=0!=(134217728&o);0!=(65536&o)?(s&&t.mi(),i instanceof T&&i.isFinallyHandler()?(i.cancelPromise=t,I(n).call(i,e)===R&&t.Fn(R.e)):n===r?t.sr(r.call(i)):i instanceof u?i.ar(t):s||t instanceof p?t.ci():i.cancel()):"function"==typeof n?s?(a&&t.Vr(),this.ee(n,i,e,t)):n.call(i,e,t):i instanceof u?i.er()||(0!=(33554432&o)?i.hr(e,t):i.dr(e,t)):s&&(a&&t.Vr(),0!=(33554432&o)?t.sr(e):t.Fn(e))},N.prototype.Wr=function(t){var n=t.handler,i=t.promise,r=t.receiver,e=t.value;"function"==typeof n?i instanceof N?this.ee(n,r,e,i):n.call(r,e,i):i instanceof N&&i.Fn(e)},N.prototype.qr=function(t){this.ue(t.promise,t.handler,t.receiver,t.value)},N.prototype.se=function(t,n,i){var r=this.Br,e=this.Zr(0);this.Br=void 0,this.Lr=void 0,this.ue(r,t,e,n)},N.prototype.oe=function(t){var n=4*t-4;this[n+2]=this[n+3]=this[n+0]=this[n+1]=void 0},N.prototype.sr=function(t){var n=this.Hn;if(!((117506048&n)>>>16)){if(t===this){var r=i();return this.wi(r),this.Fn(r)}this.Hr(),this.xr=t,(65535&n)>0&&(0!=(134217728&n)?this.Mn():f.settlePromises(this),this.Fi())}},N.prototype.Fn=function(t){var n=this.Hn;if(!((117506048&n)>>>16)){if(this.zr(),this.Pr=t,this.Yr())return f.fatalError(t,a.isNode);(65535&n)>0?f.settlePromises(this):this.Si()}},N.prototype.ae=function(t,n){for(var i=1;i<t;i++){var r=this.Kr(i),e=this.Jr(i),u=this.Zr(i);this.oe(i),this.ue(e,r,u,n)}},N.prototype.ce=function(t,n){for(var i=1;i<t;i++){var r=this.$r(i),e=this.Jr(i),u=this.Zr(i);this.oe(i),this.ue(e,r,u,n)}},N.prototype.Mn=function(){var t=this.Hn,n=65535&t;if(n>0){if(0!=(16842752&t)){var i=this.Pr;this.se(this.xr,i,t),this.ce(n,i)}else{var r=this.xr;this.se(this.Pr,r,t),this.ae(n,r)}this.Gr(0)}this.Hi()},N.prototype.Pi=function(){var t=this.Hn;return 0!=(33554432&t)?this.xr:0!=(16777216&t)?this.Pr:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&c.defineProperty(N.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),N.defer=N.pending=function(){b.deprecated("Promise.defer","new Promise");var t=new N(g);return{promise:t,resolve:D,reject:C}},a.notEnumerableProp(N,"he",i),t("./method")(N,g,m,e,b),t("./bind")(N,g,m,b),t("./cancel")(N,p,e,b),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,p,m,g,f,s),N.Promise=N,N.version="3.5.5",t("./call_get.js")(N),t("./generators.js")(N,e,g,m,u,b),t("./map.js")(N,p,e,m,g,b),t("./nodeify.js")(N),t("./promisify.js")(N,g),t("./props.js")(N,p,m,e),t("./race.js")(N,g,m,e),t("./reduce.js")(N,p,e,m,g,b),t("./settle.js")(N,p,b),t("./some.js")(N,p,e),t("./timers.js")(N,g,b),t("./using.js")(N,e,m,A,g,b),t("./any.js")(N),t("./each.js")(N,g),t("./filter.js")(N,g),a.toFastProperties(N),a.toFastProperties(N.prototype),O({a:1}),O({b:2}),O({c:3}),O(1),O(function(){}),O(void 0),O(!1),O(new N(g)),b.setBounds(h.firstLineError,a.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,i){n.exports=function(n,i,r,e,u){var s=t("./util");function o(t){var r=this.Zi=new n(i);t instanceof n&&r.Wn(t,3),r.jn(this),this.Rr=t,this.vi=0,this.Nr=0,this._init(void 0,-2)}return s.isArray,s.inherits(o,u),o.prototype.length=function(){return this.vi},o.prototype.promise=function(){return this.Zi},o.prototype._init=function t(i,u){var o=r(this.Rr,this.Zi);if(o instanceof n){var a=(o=o.Gn()).Hn;if(this.Rr=o,0==(50397184&a))return this.Zi.Vr(),o.Vn(t,this.Fn,void 0,this,u);if(0==(33554432&a))return 0!=(16777216&a)?this.Fn(o.mr()):this.ci();o=o.yr()}if(null!==(o=s.asArray(o)))0!==o.length?this.fe(o):-5===u?this.ve():this.Cr(function(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}(u));else{var c=e("expecting an array or an iterable object but got "+s.classString(o)).reason();this.Zi.gr(c,!1)}},o.prototype.fe=function(t){var i=this.getActualLength(t.length);this.vi=i,this.Rr=this.shouldCopyValues()?new Array(i):this.Rr;for(var e=this.Zi,u=!1,s=null,o=0;o<i;++o){var a=r(t[o],e);a instanceof n?(a=a.Gn(),s=a.Hn):s=null,u?null!==s&&a.suppressUnhandledRejections():null!==s?0==(50397184&s)?(a.wr(this,o),this.Rr[o]=a):u=0!=(33554432&s)?this.hr(a.yr(),o):0!=(16777216&s)?this.dr(a.mr(),o):this.ar(o):u=this.hr(a,o)}u||e.Vr()},o.prototype.er=function(){return null===this.Rr},o.prototype.Cr=function(t){this.Rr=null,this.Zi.sr(t)},o.prototype.ci=function(){!this.er()&&this.Zi.Kn()&&(this.Rr=null,this.Zi.ci())},o.prototype.Fn=function(t){this.Rr=null,this.Zi.gr(t,!1)},o.prototype.hr=function(t,n){this.Rr[n]=t;var i=++this.Nr;return i>=this.vi&&(this.Cr(this.Rr),!0)},o.prototype.ar=function(){return this.ci(),!0},o.prototype.dr=function(t){return this.Nr++,this.Fn(t),!0},o.prototype._resultCancelled=function(){if(!this.er()){var t=this.Rr;if(this.ci(),t instanceof n)t.cancel();else for(var i=0;i<t.length;++i)t[i]instanceof n&&t[i].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(t){return t},o}},{"./util":36}],24:[function(t,n,i){n.exports=function(n,i){var r={},e=t("./util"),u=t("./nodeback"),s=e.withAppended,o=e.maybeWrapAsError,a=e.canEvaluate,c=t("./errors").TypeError,h={de:!0},f=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","de"].join("|")+")$"),v=function(t){return e.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!f.test(t)}function _(t){try{return!0===t.de}catch(t){return!1}}function g(t,n,i){var r=e.getDataPropertyOrDefault(t,n+i,h);return!!r&&_(r)}function w(t,n,i,r){for(var u=e.inheritedDataKeys(t),s=[],o=0;o<u.length;++o){var a=u[o],h=t[a],f=r===v||v(a);"function"!=typeof h||_(h)||g(t,a,n)||!r(a,h,t,f)||s.push(a,h)}return function(t,n,i){for(var r=0;r<t.length;r+=2){var e=t[r];if(i.test(e))for(var u=e.replace(i,""),s=0;s<t.length;s+=2)if(t[s]===u)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",n))}}(s,n,i),s}var y=function(t){return t.replace(/([$])/,"\\$")},m=a?void 0:function(t,a,c,h,f,v){var d=function(){return this}(),l=t;function _(){var e=a;a===r&&(e=this);var c=new n(i);c.Ui();var h="string"==typeof l&&this!==d?this[l]:t,f=u(c,v);try{h.apply(e,s(arguments,f))}catch(t){c.gr(o(t),!0,!0)}return c.Fr()||c.Vr(),c}return"string"==typeof l&&(t=h),e.notEnumerableProp(_,"de",!0),_};function p(t,n,i,u,s){for(var o=new RegExp(y(n)+"$"),a=w(t,n,o,i),c=0,h=a.length;c<h;c+=2){var f=a[c],v=a[c+1],d=f+n;if(u===m)t[d]=m(f,r,f,v,n,s);else{var l=u(v,function(){return m(f,r,f,v,n,s)});e.notEnumerableProp(l,"de",!0),t[d]=l}}return e.toFastProperties(t),t}n.promisify=function(t,n){if("function"!=typeof t)throw new c("expecting a function but got "+e.classString(t));if(_(t))return t;var i=void 0===(n=l(n)).context?r:n.context,u=!!n.multiArgs,s=function(t,n,i){return m(t,n,void 0,t,null,i)}(t,i,u);return e.copyDescriptors(t,s,d),s},n.promisifyAll=function(t,n){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var i=!!(n=l(n)).multiArgs,r=n.suffix;"string"!=typeof r&&(r="Async");var u=n.filter;"function"!=typeof u&&(u=v);var s=n.promisifier;if("function"!=typeof s&&(s=m),!e.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=e.inheritedDataKeys(t),a=0;a<o.length;++a){var h=t[o[a]];"constructor"!==o[a]&&e.isClass(h)&&(p(h.prototype,r,u,s,i),p(h,r,u,s,i))}return p(t,r,u,s,i)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,i){n.exports=function(n,i,r,e){var u,s=t("./util"),o=s.isObject,a=t("./es5");"function"==typeof Map&&(u=Map);var c=function(){var t=0,n=0;function i(i,r){this[t]=i,this[t+n]=r,t++}return function(r){n=r.size,t=0;var e=new Array(2*r.size);return r.forEach(i,e),e}}();function h(t){var n,i=!1;if(void 0!==u&&t instanceof u)n=c(t),i=!0;else{var r=a.keys(t),e=r.length;n=new Array(2*e);for(var s=0;s<e;++s){var o=r[s];n[s]=t[o],n[s+e]=o}}this.constructor$(n),this._e=i,this._init$(void 0,i?-6:-3)}function f(t){var i,u=r(t);return o(u)?(i=u instanceof n?u.Vn(n.props,void 0,void 0,void 0,void 0):new h(u).promise(),u instanceof n&&i.Wn(u,2),i):e("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(h,i),h.prototype._init=function(){},h.prototype.hr=function(t,n){this.Rr[n]=t;var i=++this.Nr;if(i>=this.vi){var r;if(this._e)r=function(t){for(var n=new u,i=t.length/2|0,r=0;r<i;++r){var e=t[i+r],s=t[r];n.set(e,s)}return n}(this.Rr);else{r={};for(var e=this.length(),s=0,o=this.length();s<o;++s)r[this.Rr[s+e]]=this.Rr[s]}return this.Cr(r),!0}return!1},h.prototype.shouldCopyValues=function(){return!1},h.prototype.getActualLength=function(t){return t>>1},n.prototype.props=function(){return f(this)},n.props=function(t){return f(t)}}},{"./es5":13,"./util":36}],26:[function(t,n,i){function r(t){this.we=t,this.vi=0,this.ye=0}r.prototype.me=function(t){return this.we<t},r.prototype.Ln=function(t){var n=this.length();this.pe(n+1);var i=this.ye+n&this.we-1;this[i]=t,this.vi=n+1},r.prototype.push=function(t,n,i){var r=this.length()+3;if(this.me(r))return this.Ln(t),this.Ln(n),void this.Ln(i);var e=this.ye+r-3;this.pe(r);var u=this.we-1;this[e+0&u]=t,this[e+1&u]=n,this[e+2&u]=i,this.vi=r},r.prototype.shift=function(){var t=this.ye,n=this[t];return this[t]=void 0,this.ye=t+1&this.we-1,this.vi--,n},r.prototype.length=function(){return this.vi},r.prototype.pe=function(t){this.we<t&&this.ke(this.we<<1)},r.prototype.ke=function(t){var n=this.we;this.we=t;var i=this.ye,r=this.vi,e=i+r&n-1;!function(t,n,i,r,e){for(var u=0;u<e;++u)i[u+r]=t[u+n],t[u+n]=void 0}(this,0,this,n,e)},n.exports=r},{}],27:[function(t,n,i){n.exports=function(n,i,r,e){var u=t("./util"),s=function(t){return t.then(function(n){return o(n,t)})};function o(t,o){var a=r(t);if(a instanceof n)return s(a);if(null===(t=u.asArray(t)))return e("expecting an array or an iterable object but got "+u.classString(t));var c=new n(i);void 0!==o&&c.Wn(o,3);for(var h=c.sr,f=c.Fn,v=0,d=t.length;v<d;++v){var l=t[v];(void 0!==l||v in t)&&n.cast(l).Vn(h,f,void 0,c,null)}return c}n.race=function(t){return o(t,void 0)},n.prototype.race=function(){return o(this,void 0)}}},{"./util":36}],28:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=n.Ei,a=t("./util"),c=a.tryCatch;function h(t,i,r,e){this.constructor$(t);var s=o();this.Ae=null===s?i:a.domainBind(s,i),void 0!==r&&(r=n.resolve(r)).Vi(this),this.be=r,this.Te=null,this.Ee=e===u?Array(this.vi):0===e?null:void 0,this.Zi.Ui(),this._init$(void 0,-5)}function f(t,n){this.isFulfilled()?n.Cr(t):n.Fn(t)}function v(t,n,i,e){if("function"!=typeof n)return r("expecting a function but got "+a.classString(n));var u=new h(t,n,i,e);return u.promise()}function d(t){this.accum=t,this.array.Se(t);var i=e(this.value,this.array.Zi);return i instanceof n?(this.array.Te=i,i.Vn(l,void 0,void 0,this,void 0)):l.call(this,i)}function l(t){var i,r=this.array,e=r.Zi,u=c(r.Ae);e.Ai(),(i=void 0!==r.Ee?u.call(e.Xn(),t,this.index,this.length):u.call(e.Xn(),this.accum,t,this.index,this.length))instanceof n&&(r.Te=i);var o=e.bi();return s.checkForgottenReturns(i,o,void 0!==r.Ee?"Promise.each":"Promise.reduce",e),i}a.inherits(h,i),h.prototype.Se=function(t){void 0!==this.Ee&&null!==this.Ee&&t!==u&&this.Ee.push(t)},h.prototype.Re=function(t){return null!==this.Ee&&this.Ee.push(t),this.Ee},h.prototype._init=function(){},h.prototype.ve=function(){this.Cr(void 0!==this.Ee?this.Ee:this.be)},h.prototype.shouldCopyValues=function(){return!1},h.prototype.Cr=function(t){this.Zi.qn(t),this.Rr=null},h.prototype._resultCancelled=function(t){if(t===this.be)return this.ci();this.er()||(this._resultCancelled$(),this.Te instanceof n&&this.Te.cancel(),this.be instanceof n&&this.be.cancel())},h.prototype.fe=function(t){var i,r;this.Rr=t;var e=t.length;if(void 0!==this.be?(i=this.be,r=0):(i=n.resolve(t[0]),r=1),this.Te=i,!i.isRejected())for(;r<e;++r){var u={accum:null,value:t[r],index:r,length:e,array:this};i=i.Vn(d,void 0,void 0,u,void 0)}void 0!==this.Ee&&(i=i.Vn(this.Re,void 0,void 0,this,void 0)),i.Vn(f,f,void 0,i,this)},n.prototype.reduce=function(t,n){return v(this,t,n,null)},n.reduce=function(t,n,i,r){return v(t,n,i,r)}}},{"./util":36}],29:[function(t,n,i){var r,s,o,c,h,f=t("./util"),d=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var l=kt.setImmediate,_=process.nextTick;r=f.isRecentNode?function(t){l.call(kt,t)}:function(t){_.call(process,t)}}else if("function"==typeof d&&"function"==typeof d.resolve){var g=d.resolve();r=function(t){g.then(t)}}else r="undefined"!=typeof MutationObserver&&(void 0===e||!e.navigator||!e.navigator.standalone&&!e.cordova)&&"classList"in u.documentElement?(s=u.createElement("div"),o={attributes:!0},c=!1,h=u.createElement("div"),new MutationObserver(function(){s.classList.toggle("foo"),c=!1}).observe(h,o),function(t){var n=new MutationObserver(function(){n.disconnect(),t()});n.observe(s,o),c||(c=!0,h.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:void 0!==a?function(t){a(t,0)}:function(){throw new v("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};n.exports=r},{"./util":36}],30:[function(t,n,i){n.exports=function(n,i,r){var e=n.PromiseInspection,u=t("./util");function s(t){this.constructor$(t)}u.inherits(s,i),s.prototype.Ie=function(t,n){this.Rr[t]=n;var i=++this.Nr;return i>=this.vi&&(this.Cr(this.Rr),!0)},s.prototype.hr=function(t,n){var i=new e;return i.Hn=33554432,i.Ne=t,this.Ie(n,i)},s.prototype.dr=function(t,n){var i=new e;return i.Hn=16777216,i.Ne=t,this.Ie(n,i)},n.settle=function(t){return r.deprecated(".settle()",".reflect()"),new s(t).promise()},n.prototype.settle=function(){return n.settle(this)}}},{"./util":36}],31:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=t("./errors").RangeError,s=t("./errors").AggregateError,o=e.isArray,a={};function c(t){this.constructor$(t),this.De=0,this.Ce=!1,this.Oe=!1}function h(t,n){if((0|n)!==n||n<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(t),e=i.promise();return i.setHowMany(n),i.init(),e}e.inherits(c,i),c.prototype._init=function(){if(this.Oe)if(0!==this.De){this._init$(void 0,-5);var t=o(this.Rr);!this.er()&&t&&this.De>this.Pe()&&this.Fn(this.xe(this.length()))}else this.Cr([])},c.prototype.init=function(){this.Oe=!0,this._init()},c.prototype.setUnwrap=function(){this.Ce=!0},c.prototype.howMany=function(){return this.De},c.prototype.setHowMany=function(t){this.De=t},c.prototype.hr=function(t){return this.Be(t),this.Le()===this.howMany()&&(this.Rr.length=this.howMany(),1===this.howMany()&&this.Ce?this.Cr(this.Rr[0]):this.Cr(this.Rr),!0)},c.prototype.dr=function(t){return this.Me(t),this.Ue()},c.prototype.ar=function(){return this.Rr instanceof n||null==this.Rr?this.ci():(this.Me(a),this.Ue())},c.prototype.Ue=function(){if(this.howMany()>this.Pe()){for(var t=new s,n=this.length();n<this.Rr.length;++n)this.Rr[n]!==a&&t.push(this.Rr[n]);return t.length>0?this.Fn(t):this.ci(),!0}return!1},c.prototype.Le=function(){return this.Nr},c.prototype.Fe=function(){return this.Rr.length-this.length()},c.prototype.Me=function(t){this.Rr.push(t)},c.prototype.Be=function(t){this.Rr[this.Nr++]=t},c.prototype.Pe=function(){return this.length()-this.Fe()},c.prototype.xe=function(t){var n="Input array must contain at least "+this.De+" items but contains only "+t+" items";return new u(n)},c.prototype.ve=function(){this.Fn(this.xe(0))},n.some=function(t,n){return h(t,n)},n.prototype.some=function(t){return h(this,t)},n.Sn=c}},{"./errors":12,"./util":36}],32:[function(t,n,i){n.exports=function(t){function n(t){void 0!==t?(t=t.Gn(),this.Hn=t.Hn,this.Ne=t.Fr()?t.Pi():void 0):(this.Hn=0,this.Ne=void 0)}n.prototype.Pi=function(){return this.Ne};var i=n.prototype.value=function(){if(!this.isFulfilled())throw new d("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this.Pi()},r=n.prototype.error=n.prototype.reason=function(){if(!this.isRejected())throw new d("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this.Pi()},e=n.prototype.isFulfilled=function(){return 0!=(33554432&this.Hn)},u=n.prototype.isRejected=function(){return 0!=(16777216&this.Hn)},s=n.prototype.isPending=function(){return 0==(50397184&this.Hn)},o=n.prototype.isResolved=function(){return 0!=(50331648&this.Hn)};n.prototype.isCancelled=function(){return 0!=(8454144&this.Hn)},t.prototype.Ve=function(){return 65536==(65536&this.Hn)},t.prototype._i=function(){return this.Gn().Ve()},t.prototype.isCancelled=function(){return 0!=(8454144&this.Gn().Hn)},t.prototype.isPending=function(){return s.call(this.Gn())},t.prototype.isRejected=function(){return u.call(this.Gn())},t.prototype.isFulfilled=function(){return e.call(this.Gn())},t.prototype.isResolved=function(){return o.call(this.Gn())},t.prototype.value=function(){return i.call(this.Gn())},t.prototype.reason=function(){var t=this.Gn();return t.Mi(),r.call(t)},t.prototype.yr=function(){return this.Pi()},t.prototype.mr=function(){return this.Mi(),this.Pi()},t.PromiseInspection=n}},{}],33:[function(t,n,i){n.exports=function(n,i){var r=t("./util"),e=r.errorObj,u=r.isObject,s={}.hasOwnProperty;return function(t,o){if(u(t)){if(t instanceof n)return t;var a=function(t){try{return function(t){return t.then}(t)}catch(t){return e.e=t,e}}(t);if(a===e){o&&o.Ai();var c=n.reject(a.e);return o&&o.bi(),c}if("function"==typeof a){if(function(t){try{return s.call(t,"Br")}catch(t){return!1}}(t)){var c=new n(i);return t.Vn(c.sr,c.Fn,void 0,c,null),c}return function(t,u,s){var o=new n(i),a=o;s&&s.Ai(),o.Ui(),s&&s.bi();var c=!0,h=r.tryCatch(u).call(t,function(t){o&&(o.qn(t),o=null)},function(t){o&&(o.gr(t,c,!0),o=null)});return c=!1,o&&h===e&&(o.gr(h.e,!0,!0),o=null),a}(t,a,o)}}return t}}},{"./util":36}],34:[function(t,n,i){n.exports=function(n,i,r){var e=t("./util"),u=n.TimeoutError;function s(t){this.handle=t}s.prototype._resultCancelled=function(){c(this.handle)};var o=function(t){return h(+this).thenReturn(t)},h=n.delay=function(t,e){var u,c;return void 0!==e?(u=n.resolve(e).Vn(o,null,null,t,void 0),r.cancellation()&&e instanceof n&&u.jn(e)):(u=new n(i),c=a(function(){u.sr()},+t),r.cancellation()&&u.jn(new s(c)),u.Ui()),u.Vr(),u};function f(t){return c(this.handle),t}function d(t){throw c(this.handle),t}n.prototype.delay=function(t){return h(t,this)},n.prototype.timeout=function(t,n){var i,o,c=new s(a(function(){i.isPending()&&function(t,n,i){var r;r="string"!=typeof n?n instanceof v?n:new u("operation timed out"):new u(n),e.markAsOriginatingFromRejection(r),t.wi(r),t.Fn(r),null!=i&&i.cancel()}(i,n,o)},t=+t));return r.cancellation()?(o=this.then(),(i=o.Vn(f,d,void 0,c,void 0)).jn(c)):i=this.Vn(f,d,void 0,c,void 0),i}}},{"./util":36}],35:[function(t,n,i){n.exports=function(n,i,r,e,u,s){var o=t("./util"),c=t("./errors").TypeError,h=t("./util").inherits,f=o.errorObj,v=o.tryCatch,d={};function l(t){a(function(){throw t},0)}function _(t,i){var e=0,s=t.length,o=new n(u);return function u(){if(e>=s)return o.sr();var a=function(t){var n=r(t);return n!==t&&"function"==typeof t.He&&"function"==typeof t.qe&&t.He()&&n.We(t.qe()),n}(t[e++]);if(a instanceof n&&a.He()){try{a=r(a.qe().tryDispose(i),t.promise)}catch(t){return l(t)}if(a instanceof n)return a.Vn(u,l,null,null,null)}u()}(),o}function g(t,n,i){this.Xe=t,this.Zi=n,this.Ge=i}function w(t,n,i){this.constructor$(t,n,i)}function y(t){return g.isDisposer(t)?(this.resources[this.index].We(t),t.promise()):t}function m(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this.Xe},g.prototype.promise=function(){return this.Zi},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},g.prototype.tryDispose=function(t){var n=this.resource(),i=this.Ge;void 0!==i&&i.Ai();var r=n!==d?this.doDispose(n,t):null;return void 0!==i&&i.bi(),this.Zi.ze(),this.Xe=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},h(w,g),w.prototype.doDispose=function(t,n){var i=this.data();return i.call(t,t,n)},m.prototype._resultCancelled=function(){for(var t=this.length,i=0;i<t;++i){var r=this[i];r instanceof n&&r.cancel()}},n.using=function(){var t=arguments.length;if(t<2)return i("you must pass at least 2 arguments to Promise.using");var e,u=arguments[t-1];if("function"!=typeof u)return i("expecting a function but got "+o.classString(u));var a=!0;2===t&&Array.isArray(arguments[0])?(e=arguments[0],t=e.length,a=!1):(e=arguments,t--);for(var c=new m(t),h=0;h<t;++h){var d=e[h];if(g.isDisposer(d)){var l=d;(d=d.promise()).We(l)}else{var w=r(d);w instanceof n&&(d=w.Vn(y,null,null,{resources:c,index:h},void 0))}c[h]=d}for(var p=new Array(c.length),h=0;h<p.length;++h)p[h]=n.resolve(c[h]).reflect();var k=n.all(p).then(function(t){for(var n=0;n<t.length;++n){var i=t[n];if(i.isRejected())return f.e=i.error(),f;if(!i.isFulfilled())return void k.cancel();t[n]=i.value()}A.Ai(),u=v(u);var r=a?u.apply(void 0,t):u(t),e=A.bi();return s.checkForgottenReturns(r,e,"Promise.using",A),r}),A=k.lastly(function(){var t=new n.PromiseInspection(k);return _(c,t)});return c.promise=A,A.jn(c),A},n.prototype.We=function(t){this.Hn=131072|this.Hn,this.je=t},n.prototype.He=function(){return(131072&this.Hn)>0},n.prototype.qe=function(){return this.je},n.prototype.ze=function(){this.Hn=-131073&this.Hn,this.je=void 0},n.prototype.disposer=function(t){if("function"==typeof t)return new w(t,this,e());throw new c}}},{"./errors":12,"./util":36}],36:[function(n,i,r){var u,s=n("./es5"),a=void 0===o,c={e:{}},h=void 0!==t?t:void 0!==e?e:void 0!==kt?kt:void 0!==this?this:null;function f(){try{var t=u;return u=null,t.apply(this,arguments)}catch(t){return c.e=t,c}}function d(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function _(t,n,i){if(d(t))return t;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return s.defineProperty(t,n,r),t}var g=function(){var t=[Array.prototype,l.prototype,Function.prototype],n=function(n){for(var i=0;i<t.length;++i)if(t[i]===n)return!0;return!1};if(s.isES5){var i=l.getOwnPropertyNames;return function(t){for(var r=[],e=l.create(null);null!=t&&!n(t);){var u;try{u=i(t)}catch(t){return r}for(var o=0;o<u.length;++o){var a=u[o];if(!e[a]){e[a]=!0;var c=l.getOwnPropertyDescriptor(t,a);null!=c&&null==c.get&&null==c.set&&r.push(a)}}t=s.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(i){if(n(i))return[];var e=[];t:for(var u in i)if(r.call(i,u))e.push(u);else{for(var s=0;s<t.length;++s)if(r.call(t[s],u))continue t;e.push(u)}return e}}(),w=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i;function m(t){try{return t+""}catch(t){return"[no string representation]"}}function p(t){return t instanceof v||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function k(t){return p(t)&&s.propertyIsWritable(t,"stack")}var A="stack"in new v?function(t){return k(t)?t:new v(m(t))}:function(t){if(k(t))return t;try{throw new v(m(t))}catch(t){return t}};function b(t){return{}.toString.call(t)}var T=function(t){return s.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var E="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var n,i=[],r=t[Symbol.iterator]();!(n=r.next()).done;)i.push(n.value);return i};T=function(t){return s.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?E(t):null}}var S,R="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),I="undefined"!=typeof process&&void 0!==process.env,N={isClass:function(t){try{if("function"==typeof t){var n=s.names(t.prototype),i=s.isES5&&n.length>1,r=n.length>0&&!(1===n.length&&"constructor"===n[0]),e=w.test(t+"")&&s.names(t).length>0;if(i||r||e)return!0}return!1}catch(t){return!1}},isIdentifier:function(t){return y.test(t)},inheritedDataKeys:g,getDataPropertyOrDefault:function(t,n,i){if(!s.isES5)return{}.hasOwnProperty.call(t,n)?t[n]:void 0;var r=l.getOwnPropertyDescriptor(t,n);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(t){throw t},isArray:s.isArray,asArray:T,notEnumerableProp:_,isPrimitive:d,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:p,canEvaluate:a,errorObj:c,tryCatch:function(t){return u=t,f},inherits:function(t,n){var i={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=n,n.prototype)i.call(n.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=n.prototype[r])}return r.prototype=n.prototype,t.prototype=new r,t.prototype},withAppended:function(t,n){var i,r=t.length,e=new Array(r+1);for(i=0;i<r;++i)e[i]=t[i];return e[i]=n,e},maybeWrapAsError:function(t){return d(t)?new v(m(t)):t},toFastProperties:function(t){return t},filledRange:function(t,n,i){for(var r=new Array(t),e=0;e<t;++e)r[e]=n+e+i;return r},toString:m,canAttachTrace:k,ensureErrorObject:A,originatesFromRejection:function(t){return null!=t&&(t instanceof v.ji.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{_(t,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(t,n,i){for(var r=s.names(t),e=0;e<r.length;++e){var u=r[e];if(i(u))try{s.defineProperty(n,u,s.getDescriptor(t,u))}catch(t){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:I,env:function(t){return I?process.env[t]:void 0},global:h,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}},domainBind:function(t,n){return t.bind(n)}};N.isRecentNode=N.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),N.isNode&&N.toFastProperties(process);try{throw new v}catch(t){N.lastLineError=t}i.exports=N},{"./es5":13}]},{},[4])(4),null!=e?e.P=e.Promise:null!=t&&(t.P=t.Promise)});function Et(){return(Et=l.assign||function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)l.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t}).apply(this,arguments)}function St(){var t=l.create(null);return t.Ye=void 0,delete t.Ye,t}function Rt(){return new Ct}function It(t){var n=Rt();for(var i in t)P.call(t,i)&&n.set(i,t[i]);return n}var Nt,Dt="undefined"!=typeof Map&&"entries"in Map.prototype?Map:void 0,Ct=Dt||(Nt=function(){function t(t,n){this.index=0,this.data=t,this.selector=n,this.keys=l.keys(t)}var n=t.prototype;return n.next=function(){var t=this.index;return t<this.keys.length?(this.index++,{value:this.selector(this.data,this.keys[t]),done:!1}):{value:void 0,done:!0}},t}(),function(){function t(){this.data=St(),this.size=0}var n=t.prototype;return n.get=function(t){return this.data[t]},n.set=function(t,n){return this.has(t)||this.size++,this.data[t]=n,this},n.has=function(t){return t in this.data},n.delete=function(t){return!!this.has(t)&&(this.size--,delete this.data[t],!0)},n.clear=function(){this.data=St(),this.size=0},n.keys=function(){return new Nt(this.data,function(t,n){return n})},n.values=function(){return new Nt(this.data,function(t,n){return t[n]})},n.entries=function(){return new Nt(this.data,function(t,n){return[n,t[n]]})},n.forEach=function(t){for(var n in this.data)t(this.data[n],n)},t}());var Ot,Pt,xt,Bt,Lt,Mt,Ut,Ft=Dt||(Ot=function(){function t(t,n){this.Qe=t,this.Ze=n}var n=t.prototype;return n.next=function(){var t=this.Qe.next();return t.done?t:{value:this.Ze(t.value),done:!1}},t}(),function(){function t(){this.Je=Rt()}var n=t.prototype;return n.get=function(t){return this.Je.get(""+t)},n.set=function(t,n){return this.Je.set(""+t,n),this},n.has=function(t){return this.Je.has(""+t)},n.delete=function(t){return this.Je.delete(""+t)},n.clear=function(){this.Je.clear()},n.keys=function(){return new Ot(this.Je.keys(),function(t){return Number(t)})},n.values=function(){return this.Je.values()},n.entries=function(){return new Ot(this.Je.entries(),function(t){var n=t[0],i=t[1];return[Number(n),i]})},n.forEach=function(t){this.Je.forEach(function(n,i){t(n,Number(i))})},b(t,[{key:"size",get:function(){return this.Je.size}}]),t}());var Vt,Ht="urn:mpeg:dash:mp4protection:2011",qt="cenc",Wt="skd",Xt="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",Gt="com.microsoft.playready",zt="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",jt="urn:uuid:"+zt,Yt="94ce86fb-07ff-4f43-adb8-93d2fa968ca2",Qt="urn:uuid:"+Yt,Zt="com.apple.fps.1_0";!function(t){t.Ke="playready",t.$e="widevine",t.tu="fairplay",t.nu="clearkey",t.iu="aes128"}(Vt||(Vt={}));var Jt={ru:Vt.Ke,eu:Gt,uu:"9a04f079-9840-4286-ab92-e65be0885f95",su:Xt,ou:"PlayReady"},Kt={ru:Vt.$e,eu:"com.widevine.alpha",uu:zt,su:jt,ou:"Widevine"},$t={ru:Vt.tu,eu:Zt,uu:Yt,su:Qt,ou:"FairPlay"},tn={ru:Vt.nu,eu:"org.w3.clearkey",uu:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",su:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",ou:"ClearKey"},nn=[Jt,Kt,$t,tn];function rn(t){for(var n=0;n<nn.length;n++){var i=nn[n];if(t.toLowerCase()===i.su)return i}}function en(t,n,i){return t.split(n).join(i)}function un(t,n){return null!=t&&-1!==t.indexOf(n)}function sn(t,n){return null!=t&&t.substr(0,n.length)===n}function on(t,n){return null!=t&&t.substr(t.length-n.length,n.length)===n}function an(t,n){return t.toUpperCase()===n.toUpperCase()}function cn(t,n){var i=0|n;if(0===t.length||0===i)return"";for(var r=t,e="";1==(1&i)&&(e+=r),0!=(i>>>=1);)r+=r;return e}function hn(t,n,i){void 0===i&&(i=" ");var r=i,e=(0|n)-t.length;return e<=0?t:(e>r.length&&(r+=cn(r,e/r.length)),r.slice(0,e)+t)}function fn(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return String.fromCharCode.apply(String,n)}var vn=(O.Bt&&Number(O.Lt[1]))>=42||O.Ht&&O.qt>=38||O.Mt||O.Ft||O.Gt&&O.zt>=29;function dn(t,n){return un(t,"audio")?{initDataTypes:["cenc"],audioCapabilities:[Et({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}:{initDataTypes:["cenc"],videoCapabilities:[Et({contentType:t},n?{robustness:"SW_SECURE_CRYPTO"}:{})]}}function ln(){return void 0!==o&&"function"==typeof o.requestMediaKeySystemAccess}function _n(){return"undefined"!=typeof HTMLMediaElement&&void 0!==HTMLMediaElement.prototype.webkitGenerateKeyRequest&&void 0!==HTMLMediaElement.prototype.webkitAddKey&&void 0!==HTMLMediaElement.prototype.webkitCancelKeyRequest}var gn=function(){function t(t){this.au=Rt(),this.cu=void 0,this.hu=t}var n=t.prototype;return n.fu=function(){return this.vu(Kt)},n.du=function(){return this.vu(tn)},n.lu=function(){return this.vu(Jt)},n._u=function(){return this.vu($t)},n.vu=function(t){var n=t.su,i=this.au.get(n);if(i)return i;var r=this.gu(t,'video/mp4; codecs="avc1.42000a"');return this.au.set(n,r),r},n.gu=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.hu.wu(n.eu,[dn(i,!0)]);case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.prev=8,t.next=11,this.hu.wu(n.eu,[dn(i,!1)]);case 11:return t.abrupt("return",!0);case 14:return t.prev=14,t.t1=t.catch(8),t.abrupt("return",!1);case 17:case"end":return t.stop()}},t,this,[[0,6],[8,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.yu=function(){return this.cu||(this.cu=this.mu()),this.cu},n.mu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("https:"!==Mt.protocol){t.next=2;break}return t.abrupt("return",!1);case 2:if(vn){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,this.du();case 6:if(!t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),t}();function wn(t,n){var i=yn(t,n);return i!==t&&mn(i,void 0,t.length,t),t}function yn(t,n){var i=t,r=i.length;if(r<=1)return i;for(var e=new Array(r),u=1;u<r;u*=2){mn(i,n,u,e);var s=i;i=e,e=s}return i}function mn(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(u=0;u<c;u+=f)for(e=(s=u+i)+i,s>c&&(s=c),e>c&&(e=c),o=u,a=s;;)if(o<s&&a<e)n&&n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<s)r[h++]=t[o++];else{if(!(a<e))break;r[h++]=t[a++]}}function pn(t,n,i){var r=kn(t,n,i);return-1===r?void 0:t[r]}function kn(t,n,i){for(var r=0;r<t.length;r+=1){var e=t[r];if(n.call(i,e,r,t))return r}return-1}function An(t,n){var i=t.indexOf(n);return-1!==i&&(bn(t,i),!0)}function bn(t,n){t.splice(n,1)}function Tn(t,n){return-1!==t.indexOf(n)}function En(t,n){for(var i=0;i<n.length;i++){if(!Tn(t,n[i]))return!1}return!0}function Sn(t){t.length=0}function Rn(t){var n;return(n=[]).concat.apply(n,t)}var In=function(t){function n(n,i){return t.call(this,n||"Aborted",i)||this}return ut(n,t),b(n,[{key:"name",get:function(){return"AbortError"}}]),n}(at);function Nn(t){return t instanceof v&&"AbortError"===t.name}function Dn(t){if(t&&t.pu)throw new In}function Cn(t){if(Nn(t))throw t}function On(t){if(!Nn(t))throw t}function Pn(t,n){return n?new Tt(function(i,r){if(n.pu)return t.catch(G),r(new In);var e=function t(){n.ku(t),r(new In)};n.Au(e),t.then(function(t){n.ku(e),i(t)},function(t){n.ku(e),r(t)})}):t}function xn(t,n){return t.then(function(t){return n.bu(),t},function(t){throw n.bu(),t})}function Bn(t){return t&&"function"!=typeof t?t.slice():t}function Ln(t,n,i){if(i)if("function"==typeof i)i.call(t,n);else for(var r=0;r<i.length;r++){i[r].call(t,n)}}var Mn=function(){function t(t){var n=this;this.Tu=St(),this.Eu=function(t){n.Su(t)},this.Ru=t||this}var n=t.prototype;return n.Iu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Nu(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Nu(r,n)}},n.Nu=function(t,n){var i=this.Tu[t];i?"function"==typeof i?this.Tu[t]=[i,n]:i.push(n):this.Tu[t]=n},n.Du=function(){this.Tu=St()},n.Su=function(t){var n=Bn(this.Tu[t.type]);Ln(this.Ru,t,n)},n.Cu=function(t,n){if("function"==typeof n)if("string"==typeof t)this.Ou(t,n);else for(var i=0;i<t.length;i++){var r=t[i];this.Ou(r,n)}},n.Ou=function(t,n){var i=this.Tu[t];i&&("function"==typeof i?i===n&&(this.Tu[t]=void 0):An(i,n))},n.Pu=function(t){if("string"==typeof t)this.Tu[t]=void 0;else for(var n=0;n<t.length;n++){var i=t[n];this.Tu[i]=void 0}},n.xu=function(t,n){var i=this;return new Tt(function(r,e){if(n&&n.pu)return e(new In);var u=function(t){o(),r(t)},s=function(){o(),e(new In)},o=function(){i.Cu(t,u),n&&n.ku(s)};i.Iu(t,u),n&&n.Au(s)})},t}(),Un=function(t,n){void 0===n&&(n=new Date),this.type=t,this.date=n},Fn=function(t){function n(n){var i;return(i=t.call(this,"Lu")||this).Bu=n,i}return ut(n,t),n}(Un),Vn=function(t){function n(n,i,r,e){var u;return(u=t.call(this,"Mu")||this).Bu=n,u.Uu=i,u.Mu=r,u.Fu=e,u}return ut(n,t),n}(Un),Hn=function(t){function n(){return t.call(this,"Vu")||this}return ut(n,t),n}(Un),qn=function(t){function n(n,i){var r;return(r=t.call(this,"qu")||this).Hu=n,r.Wu=i,r}return ut(n,t),n}(Un),Wn=function(t){function n(){return t.call(this,"Xu")||this}return ut(n,t),n}(Un),Xn=new m([0]).buffer,Gn=function(){function t(){this.Gu=[]}var n=t.prototype;return n.zu=function(t){for(var n=0,i=this.Gu;n<i.length;n++){if(i[n][0]===t)return!0}return!1},n.ju=function(t){for(var n=0,i=this.Gu;n<i.length;n++){var r=i[n];if(r[0]===t)return r[1]}},n.Yu=function(t,n){this.Gu.forEach(function(n){return t(n[1],n[0])},n)},n.Qu=function(t,n){this.Gu.push([t,n])},n.Zu=function(){Sn(this.Gu)},b(t,[{key:"Ju",get:function(){return this.Gu.length}}]),t}(),zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),jn=16383,Yn=/[\t\n\f\r ]/g;function Qn(t){return 43===t?62:47===t?63:t>=48&&t<=57?t-48+52:t>=65&&t<=90?t-65:t>=97&&t<=122?t-97+26:Zn()}function Zn(){throw new v("Invalid base64 input")}function Jn(t){var n=t;Yn.test(n)&&(n=n.replace(Yn,""));var i=n.length;i%4==0&&i>=1&&"="===n[i-1]&&(i>=2&&"="===n[i-2]?i-=2:i-=1,n=n.substr(0,i));var r=i%4;if(1===r)return Zn();for(var e,u=0===r?0:4-r,s=new m(function(t,n){return 3*(t+n)/4-n}(i,u)),o=u>0?i-4:i,a=0,c=0;a<o;a+=4)e=Qn(n.charCodeAt(a))<<18|Qn(n.charCodeAt(a+1))<<12|Qn(n.charCodeAt(a+2))<<6|Qn(n.charCodeAt(a+3)),s[c++]=e>>16&255,s[c++]=e>>8&255,s[c++]=255&e;return 2===u?(e=Qn(n.charCodeAt(a))<<2|Qn(n.charCodeAt(a+1))>>4,s[c++]=255&e):1===u&&(e=Qn(n.charCodeAt(a))<<10|Qn(n.charCodeAt(a+1))<<4|Qn(n.charCodeAt(a+2))>>2,s[c++]=e>>8&255,s[c++]=255&e),s}function Kn(t,n,i){for(var r,e,u,s=[],o=n;o<i;o+=3)s.push((r=t[o],e=t[o+1],u=t[o+2],zn[r>>2]+zn[(3&r)<<4|e>>4]+zn[(15&e)<<2|u>>6]+zn[63&u]));return s.join("")}function $n(t){for(var n=t.length,i=n%3,r=[],e=n-i,u=0;u<e;u+=jn)r.push(Kn(t,u,_.min(e,u+jn)));if(1===i){var s=t[n-1];r.push(zn[s>>2]+zn[(3&s)<<4]+"==")}else if(2===i){var o=t[n-2],a=t[n-1];r.push(zn[o>>2]+zn[(3&o)<<4|a>>4]+zn[(15&a)<<2]+"=")}return r.join("")}var ti=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"],ni=ArrayBuffer.isView||function(t){return t&&Tn(ti,x.call(t))};function ii(t,n){return t===n||t.byteLength===n.byteLength&&function(t,n){if(t===n)return!0;if(t.byteLength!==n.byteLength)return!1;for(var i=0;i<t.length;i+=1)if(t[i]!==n[i])return!1;return!0}(new m(t),new m(n))}function ri(t){for(var n=0,i=0;i<t.length;i++){n+=t[i].byteLength}for(var r=new m(n),e=0,u=0;u<t.length;u++){var s=t[u];r.set(s,e),e+=s.byteLength}return r}function ei(t){return Jn(t).buffer}function ui(t){return $n(new m(t))}function si(t){return $n(or(t))}var oi=function(){function t(t){void 0===t&&(t=0),this.Ku=t}var n=t.prototype;return n.$u=function(t){this.Ku+=t},n.ts=function(t){this.Ku=t},n.ns=function(){return new t(this.rs)},b(t,[{key:"rs",get:function(){return this.Ku}}]),t}(),ai=hi,ci=null;try{ci=new WebAssembly.Instance(new WebAssembly.Module(new m([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function hi(t,n,i){this.low=0|t,this.high=0|n,this.unsigned=!!i}function fi(t){return!0===(t&&t.es)}hi.prototype.es,l.defineProperty(hi.prototype,"es",{value:!0}),hi.isLong=fi;var vi={},di={};function li(t,n){var i,r,e;return n?(e=0<=(t>>>=0)&&t<256)&&(r=di[t])?r:(i=gi(t,(0|t)<0?-1:0,!0),e&&(di[t]=i),i):(e=-128<=(t|=0)&&t<128)&&(r=vi[t])?r:(i=gi(t,t<0?-1:0,!1),e&&(vi[t]=i),i)}function _i(t,n){if(y(t))return n?Ei:Ti;if(n){if(t<0)return Ei;if(t>=ki)return Di}else{if(t<=-Ai)return Ci;if(t+1>=Ai)return Ni}return t<0?_i(-t,n).neg():gi(t%pi|0,t/pi|0,n)}function gi(t,n,i){return new hi(t,n,i)}hi.fromInt=li,hi.fromNumber=_i,hi.fromBits=gi;var wi=_.pow;function yi(t,n,i){if(0===t.length)throw v("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return Ti;if("number"==typeof n?(i=n,n=!1):n=!!n,(i=i||10)<2||36<i)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw v("interior hyphen");if(0===r)return yi(t.substring(1),n,i).neg();for(var e=_i(wi(i,8)),u=Ti,s=0;s<t.length;s+=8){var o=_.min(8,t.length-s),a=g(t.substring(s,s+o),i);if(o<8){var c=_i(wi(i,o));u=u.mul(c).add(_i(a))}else u=(u=u.mul(e)).add(_i(a))}return u.unsigned=n,u}function mi(t,n){return"number"==typeof t?_i(t,n):"string"==typeof t?yi(t,n):gi(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}hi.fromString=yi,hi.fromValue=mi;var pi=4294967296,ki=pi*pi,Ai=ki/2,bi=li(1<<24),Ti=li(0);hi.ZERO=Ti;var Ei=li(0,!0);hi.UZERO=Ei;var Si=li(1);hi.ONE=Si;var Ri=li(1,!0);hi.UONE=Ri;var Ii=li(-1);hi.NEG_ONE=Ii;var Ni=gi(-1,2147483647,!1);hi.MAX_VALUE=Ni;var Di=gi(-1,-1,!0);hi.MAX_UNSIGNED_VALUE=Di;var Ci=gi(0,-2147483648,!1);hi.MIN_VALUE=Ci;var Oi=hi.prototype;Oi.toInt=function(){return this.unsigned?this.low>>>0:this.low},Oi.toNumber=function(){return this.unsigned?(this.high>>>0)*pi+(this.low>>>0):this.high*pi+(this.low>>>0)},Oi.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Ci)){var n=_i(t),i=this.div(n),r=i.mul(n).sub(this);return i.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var e=_i(wi(t,6),this.unsigned),u=this,s="";;){var o=u.div(e),a=(u.sub(o.mul(e)).toInt()>>>0).toString(t);if((u=o).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Oi.getHighBits=function(){return this.high},Oi.getHighBitsUnsigned=function(){return this.high>>>0},Oi.getLowBits=function(){return this.low},Oi.getLowBitsUnsigned=function(){return this.low>>>0},Oi.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ci)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,n=31;n>0&&0==(t&1<<n);n--);return 0!=this.high?n+33:n+1},Oi.isZero=function(){return 0===this.high&&0===this.low},Oi.eqz=Oi.isZero,Oi.isNegative=function(){return!this.unsigned&&this.high<0},Oi.isPositive=function(){return this.unsigned||this.high>=0},Oi.isOdd=function(){return 1==(1&this.low)},Oi.isEven=function(){return 0==(1&this.low)},Oi.equals=function(t){return fi(t)||(t=mi(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},Oi.eq=Oi.equals,Oi.notEquals=function(t){return!this.eq(t)},Oi.neq=Oi.notEquals,Oi.ne=Oi.notEquals,Oi.lessThan=function(t){return this.comp(t)<0},Oi.lt=Oi.lessThan,Oi.lessThanOrEqual=function(t){return this.comp(t)<=0},Oi.lte=Oi.lessThanOrEqual,Oi.le=Oi.lessThanOrEqual,Oi.greaterThan=function(t){return this.comp(t)>0},Oi.gt=Oi.greaterThan,Oi.greaterThanOrEqual=function(t){return this.comp(t)>=0},Oi.gte=Oi.greaterThanOrEqual,Oi.ge=Oi.greaterThanOrEqual,Oi.compare=function(t){if(fi(t)||(t=mi(t)),this.eq(t))return 0;var n=this.isNegative(),i=t.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Oi.comp=Oi.compare,Oi.negate=function(){return!this.unsigned&&this.eq(Ci)?Ci:this.not().add(Si)},Oi.neg=Oi.negate,Oi.add=function(t){fi(t)||(t=mi(t));var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=0,c=0,h=0,f=0;return h+=(f+=e+(65535&t.low))>>>16,c+=(h+=r+o)>>>16,a+=(c+=i+s)>>>16,a+=n+u,gi((h&=65535)<<16|(f&=65535),(a&=65535)<<16|(c&=65535),this.unsigned)},Oi.subtract=function(t){return fi(t)||(t=mi(t)),this.add(t.neg())},Oi.sub=Oi.subtract,Oi.multiply=function(t){if(this.isZero())return Ti;if(fi(t)||(t=mi(t)),ci)return gi(ci.mul(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned);if(t.isZero())return Ti;if(this.eq(Ci))return t.isOdd()?Ci:Ti;if(t.eq(Ci))return this.isOdd()?Ci:Ti;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(bi)&&t.lt(bi))return _i(this.toNumber()*t.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,e=65535&this.low,u=t.high>>>16,s=65535&t.high,o=t.low>>>16,a=65535&t.low,c=0,h=0,f=0,v=0;return f+=(v+=e*a)>>>16,h+=(f+=r*a)>>>16,f&=65535,h+=(f+=e*o)>>>16,c+=(h+=i*a)>>>16,h&=65535,c+=(h+=r*o)>>>16,h&=65535,c+=(h+=e*s)>>>16,c+=n*a+i*o+r*s+e*u,gi((f&=65535)<<16|(v&=65535),(c&=65535)<<16|(h&=65535),this.unsigned)},Oi.mul=Oi.multiply,Oi.divide=function(t){if(fi(t)||(t=mi(t)),t.isZero())throw v("division by zero");var n,i,r;if(ci)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?gi((this.unsigned?ci.div_u:ci.div_s)(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Ei:Ti;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Ei;if(t.gt(this.shru(1)))return Ri;r=Ei}else{if(this.eq(Ci))return t.eq(Si)||t.eq(Ii)?Ci:t.eq(Ci)?Si:(n=this.shr(1).div(t).shl(1)).eq(Ti)?t.isNegative()?Si:Ii:(i=this.sub(t.mul(n)),r=n.add(i.div(t)));if(t.eq(Ci))return this.unsigned?Ei:Ti;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();r=Ti}for(i=this;i.gte(t);){n=_.max(1,_.floor(i.toNumber()/t.toNumber()));for(var e=_.ceil(_.log(n)/_.LN2),u=e<=48?1:wi(2,e-48),s=_i(n),o=s.mul(t);o.isNegative()||o.gt(i);)o=(s=_i(n-=u,this.unsigned)).mul(t);s.isZero()&&(s=Si),r=r.add(s),i=i.sub(o)}return r},Oi.div=Oi.divide,Oi.modulo=function(t){return fi(t)||(t=mi(t)),ci?gi((this.unsigned?ci.rem_u:ci.rem_s)(this.low,this.high,t.low,t.high),ci.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Oi.mod=Oi.modulo,Oi.rem=Oi.modulo,Oi.not=function(){return gi(~this.low,~this.high,this.unsigned)},Oi.and=function(t){return fi(t)||(t=mi(t)),gi(this.low&t.low,this.high&t.high,this.unsigned)},Oi.or=function(t){return fi(t)||(t=mi(t)),gi(this.low|t.low,this.high|t.high,this.unsigned)},Oi.xor=function(t){return fi(t)||(t=mi(t)),gi(this.low^t.low,this.high^t.high,this.unsigned)},Oi.shiftLeft=function(t){return fi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gi(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):gi(0,this.low<<t-32,this.unsigned)},Oi.shl=Oi.shiftLeft,Oi.shiftRight=function(t){return fi(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?gi(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):gi(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Oi.shr=Oi.shiftRight,Oi.shiftRightUnsigned=function(t){if(fi(t)&&(t=t.toInt()),0===(t&=63))return this;var n=this.high;return t<32?gi(this.low>>>t|n<<32-t,n>>>t,this.unsigned):gi(32===t?n:n>>>t-32,0,this.unsigned)},Oi.shru=Oi.shiftRightUnsigned,Oi.shr_u=Oi.shiftRightUnsigned,Oi.toSigned=function(){return this.unsigned?gi(this.low,this.high,!1):this},Oi.toUnsigned=function(){return this.unsigned?this:gi(this.low,this.high,!0)},Oi.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Oi.toBytesLE=function(){var t=this.high,n=this.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Oi.toBytesBE=function(){var t=this.high,n=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,n>>>24,n>>>16&255,n>>>8&255,255&n]},hi.fromBytes=function(t,n,i){return i?hi.fromBytesLE(t,n):hi.fromBytesBE(t,n)},hi.fromBytesLE=function(t,n){return new hi(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)},hi.fromBytesBE=function(t,n){return new hi(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)};var Pi=ai,xi=[128,64,32,16,8,4,2,1],Bi=16384,Li=function(){function t(t){this.us=t}return t.prototype.ss=function(t){return Mi(this.us,t)},t}();function Mi(t,n){return(t&n)===n}function Ui(t,n){return Mi(t,xi[n])}function Fi(t,n){var i=t.getUint8(n.rs);return n.$u(1),i}function Vi(t,n,i){t.setUint8(n.rs,i),n.$u(1)}function Hi(t,n,i){var r=fr(lr(t),n.rs,n.rs+i);return n.$u(r.byteLength),r}function qi(t,n,i){lr(t).set(lr(i),n.rs),n.$u(i.byteLength)}function Wi(t,n,i){return n.rs+i<=t.byteLength}function Xi(t,n,i,r){return void 0===r&&(r=!1),r?function(t,n,i){for(var r=0,e=1,u=0;u<i;u++)r+=Fi(t,n)*e,e*=256;return r}(t,n,i):function(t,n,i){for(var r=0,e=0;e<i;e++)r=256*r+Fi(t,n);return r}(t,n,i)}function Gi(t,n,i){void 0===i&&(i=!1);var r=t.getUint16(n.rs,i);return n.$u(2),r}function zi(t,n,i,r){void 0===r&&(r=!1),t.setUint16(n.rs,i,r),n.$u(2)}function ji(t,n,i){void 0===i&&(i=!1);var r=t.getUint32(n.rs,i);return n.$u(4),r}function Yi(t,n,i,r){void 0===r&&(r=!1),t.setUint32(n.rs,i,r),n.$u(4)}function Qi(t,n){var i=Fi(t,n);if(i)return String.fromCharCode(i)}function Zi(t,n){return $i(t,n)}function Ji(t,n,i){for(var r="",e=0;e<i;e++)r+=Qi(t,n);return r}function Ki(t,n){var i,r=Fi(t,n);return 0==(128&r)?i=r:192==(224&r)?i=64*(31&r)+(63&Fi(t,n)):224==(240&r)?i=4096*(15&r)+64*(63&Fi(t,n))+(63&Fi(t,n)):240==(248&r)&&(i=262144*(7&r)+4096*(63&Fi(t,n))+64*(63&Fi(t,n))+(63&Fi(t,n))),i}function $i(t,n){return tr(t,n,!0)}function tr(t,n,i){for(var r=[],e=[];n.rs<t.byteLength;){var u=Fi(t,n);if(i&&!u)break;e.push(u),e.length>=Bi&&(r.push(String.fromCharCode.apply(String,e)),e.length=0)}return e.length&&r.push(String.fromCharCode.apply(String,e)),r.join("")}function nr(t,n){if(n.rs+2<=t.byteLength){var i=t.getUint8(n.rs),r=t.getUint8(n.rs+1);return(254!==i||255!==r)&&(255===i&&254===r||void 0)}}function ir(t,n){var i=nr(t,n);return void 0!==i&&n.$u(2),rr(t,n,!0===i)}function rr(t,n,i){return void 0===i&&(i=!1),er(t,n,i,!0)}function er(t,n,i,r){for(var e=[],u=[];n.rs+2<=t.byteLength;){var s=Gi(t,n,i);if(r&&!s)break;u.push(s),u.length>=Bi&&(e.push(String.fromCharCode.apply(String,u)),u.length=0)}return u.length&&e.push(String.fromCharCode.apply(String,u)),e.join("")}function ur(t,n,i,r){void 0===r&&(r=!1);for(var e=i.length,u=0;u<e;u+=1){zi(t,n,i.charCodeAt(u),r)}}function sr(t){return tr(dr(t),new mr,!1)}function or(t){var n=new m(t.length);return function(t,n,i){for(var r=i.length,e=0;e<r;e+=1)Vi(t,n,i.charCodeAt(e))}(dr(n),new mr,t),n}function ar(t,n){return void 0===n&&(n=!1),er(dr(t),new mr,n,!1)}function cr(t,n){void 0===n&&(n=!1);var i=new m(2*t.length);return ur(dr(i),new mr,t,n),i}function hr(t,n){return function(t,n,i){var r=[],e=[];(function(t,n){return n.rs+3<=t.byteLength&&239===t.getUint8(n.rs)&&187===t.getUint8(n.rs+1)&&191===t.getUint8(n.rs+2)})(t,n)&&n.$u(3);for(;n.rs<t.byteLength;){var u=Ki(t,n);if(void 0===u)break;if(i&&0===u)break;e.push(u),e.length>=Bi&&(r.push(fn(e)),e.length=0)}e.length&&r.push(fn(e));return r.join("")}(t,n,!0)}function fr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new m(t.buffer,t.byteOffset+n,i-n)}function vr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),new DataView(t.buffer,t.byteOffset+n,i-n)}function dr(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function lr(t){return new m(t.buffer,t.byteOffset,t.byteLength)}function _r(t){return t instanceof ArrayBuffer||ni(t)}function gr(t){return t instanceof ArrayBuffer?new m(t):lr(t)}function wr(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=t.byteLength),t.slice?t.slice(n,i):yr(fr(t,n,i))}function yr(t){if(t.slice)return t.slice(0);var n=new m(t.byteLength);return n.set(t,0),n}var mr=function(){function t(t){void 0===t&&(t=0),this.Ku=t}var n=t.prototype;return n.$u=function(t){this.Ku+=t},n.ts=function(t){this.Ku=t},n.ns=function(){return new t(this.rs)},n.os=function(){return new oi(this.rs<<3)},b(t,[{key:"rs",get:function(){return this.Ku}}]),t}();function pr(t){var n=t,i=0,r=0;sn(n,"0x")&&(n=n.substring(2));var e=new m(_.ceil(n.length/2));for(1==(1&n.length)&&(i=1,e[r++]=g(n[0],16));i<n.length;i+=2)e[r++]=g(n.substr(i,2),16);return e}var kr=function(){function t(){var t=this;this.as=new Tt(function(n,i){t.Cr=n,t.Fn=i})}var n=t.prototype;return n.cs=function(t){this.Cr&&(this.Cr(t),this.bu())},n.hs=function(t){this.Fn&&(this.Fn(t),this.bu())},n.fs=function(){this.as.catch(G),this.hs(new In)},n.bu=function(){this.Cr=void 0,this.Fn=void 0},t}();function Ar(){return new m([8,4]).buffer}function br(t){return ii(t,Ar())}function Tr(t,n){return t===Gt?function(t){if(t.byteLength<2*Er.length)return t;if(ar(new DataView(t,0,2*Er.length),!0)===Er)return t;return n=t,cr('<PlayReadyKeyMessage type="LicenseAcquisition"><LicenseAcquisition Version="1"><Challenge encoding="base64encoded">'+ui(n)+'</Challenge><HttpHeaders><HttpHeader><name>Content-Type</name><value>text/xml; charset=utf-8</value></HttpHeader><HttpHeader><name>SOAPAction</name><value>"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense"</value></HttpHeader></HttpHeaders></LicenseAcquisition></PlayReadyKeyMessage>',!0).buffer;var n}(n):n}var Er="<PlayReady";var Sr=function(){function t(){this.pu=!1,this.vs=!1,this.ds=[],this.ls=[]}var n=t.prototype;return n._s=function(){if(!this.pu&&!this.vs){this.pu=!0;for(var t=0,n=this.ds.slice();t<n.length;t++){(0,n[t])()}this.bu()}},n.bu=function(){if(!this.vs){this.vs=!0;for(var t=0,n=this.ls.slice();t<n.length;t++){(0,n[t])()}Sn(this.ds),Sn(this.ls)}},n.Au=function(t){this.vs||this.ds.push(t)},n.ku=function(t){this.vs||An(this.ds,t)},n.gs=function(t){this.vs||this.ls.push(t)},n.ys=function(t){this.vs||An(this.ls,t)},t}(),Rr=function(){function t(){this.ps=new Sr}var n=t.prototype;return n.fs=function(){this.ps._s()},n.bu=function(){this.ps.bu()},n.ks=function(t){var n=this.ps;if(!n.pu)if(t.pu)n._s();else if(!n.vs&&!t.vs){var i=function(){r(),n._s()},r=function r(){t.ku(i),t.ys(r),n.ku(i),n.ys(r)};t.Au(i),t.gs(r),n.Au(i),n.gs(r)}},n.As=function(){var n=new t,i=new t,r=n.bs,e=i.bs,u=this.ps,s=function(){r.pu&&e.vs||e.pu&&r.vs?u._s():r.vs&&e.vs&&u.bu()};r.Au(s),e.Au(s),r.gs(s),e.gs(s),n.ks(u),i.ks(u);return u.gs(function(){r.ku(s),e.ku(s),r.ys(s),e.ys(s)}),[n,i]},b(t,[{key:"bs",get:function(){return this.ps}}]),t}(),Ir=Tt.resolve();function Nr(t){Ir.then(t)}function Dr(t){t.then(G,G)}function Cr(t){return Or.apply(this,arguments)}function Or(){return(Or=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tt.all(n);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,Tt.all(n.map(function(t){return t.catch(G)}));case 10:throw t.t0;case 11:case"end":return t.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function Pr(t,n){return new Tt(function(i,e){if(void 0!==n&&n.pu)e(new In);else{var u=r.Ts(function(){void 0!==n&&n.ku(s),i()},t),s=function(){r.Es(u),e(new In)};void 0!==n&&n.Au(s)}})}function xr(t,n){var i=new Rr;return Tt.race([t.then(function(t){return i.fs(),t},function(t){throw i.fs(),t}),Pr(n,i.bs).then(function(){throw i.bu(),new v("Timeout")})])}var Br=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,e)||this).Ss=i,u.Rs=r,u}return ut(n,t),n}(at),Lr=function(t){function n(n,i){var r;(r=t.call(this)||this).Is=n,r.Ns=i,r.Ds=!1,r.Cs=function(){r.Os()},r.Ps=function(t){r.Su(new Vn(st(r),t.messageType,Tr(r.Ns,t.message)))},r.xs=function(){r.Ds=!0,r.Bs.Ju>0&&(r.Bs.Zu(),r.Su(new Fn(st(r)))),r.Is.removeEventListener("keystatuseschange",r.Cs),r.Is.removeEventListener("message",r.Ps)},r.Is.addEventListener("keystatuseschange",r.Cs),r.Is.addEventListener("message",r.Ps),r.Bs=new Gn;var e=[];return r.Is.closed&&e.push(Tt.resolve(r.Is.closed)),r.Ls=new kr,e.push(r.Ls.as),r.Ms=Tt.race(e).then(r.xs),r.Os(),r}ut(n,t);var i=n.prototype;return i.Us=function(){if(this.Ds)return this.Ms;var t=[];return t.push(Tt.resolve(this.Is.close())),t.push(Pr(1e3)),this.Ls.cs(Tt.race(t).catch(Mr)),this.Ds=!0,this.Ms},i.Fs=function(t,n,i){return Tt.resolve(this.Is.generateRequest(t,n)).catch(Mr)},i.Vs=function(t){return Tt.resolve(this.Is.load(t)).catch(Mr)},i.Hs=function(){return Tt.resolve(this.Is.remove()).catch(Mr)},i.qs=function(t){return Tt.resolve(this.Is.update(t)).catch(Mr)},i.Os=function(){var t=this;this.Bs.Zu(),this.Is.keyStatuses.forEach(function(n,i){t.Ws(i,n)}),this.Su(new Fn(this))},i.Ws=function(t,n){if("string"==typeof t){var i=t;t=n,n=i}var r=gr(t);if(this.Ns===Gt&&16===r.byteLength){var e=dr(r),u=e.getUint32(0,!0),s=e.getUint16(4,!0),o=e.getUint16(6,!0);e.setUint32(0,u,!1),e.setUint16(4,s,!1),e.setUint16(6,o,!1)}this.Bs.Qu(r,n)},b(n,[{key:"Xs",get:function(){return this.Ms}},{key:"Gs",get:function(){return this.Is.expiration}},{key:"zs",get:function(){return this.Bs}},{key:"js",get:function(){return this.Is.sessionId}}]),n}(Mn);function Mr(t){var n;if(t.message){var i=t.message.match(/^SystemCode:0x([0-9a-fA-F]+)$/);i&&(n=0|g(i[1],16))}throw new Br(t.message,void 0,n,t)}var Ur=function(){function t(t,n){this.Ys=t,this.Ns=n}var n=t.prototype;return n.Qs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Lr(this.Ys.createSession(n),this.Ns));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zs=function(t){return Tt.resolve(this.Ys.setServerCertificate(t))},n.Js=function(t){return Tt.resolve(t.setMediaKeys(this.Ys))},n.Ks=function(t){return Tt.resolve(t.setMediaKeys(null))},t}(),Fr=function(){function t(t,n){this.$s=t,this.Ns=n}var n=t.prototype;return n.to=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$s.createMediaKeys();case 2:return n=t.sent,t.abrupt("return",new Ur(n,this.Ns));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.no=function(){return this.$s.getConfiguration()},b(t,[{key:"io",get:function(){return this.$s.keySystem}}]),t}(),Vr=function(){function t(){}return t.prototype.wu=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=i.filter(function(t){return!t.ro}),t.next=3,o.requestMediaKeySystemAccess(n,i);case 3:return r=t.sent,t.abrupt("return",new Fr(r,n));case 5:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),t.eo=function(){return ln()},t}(),Hr=function(t){function n(n,i){var r;return(r=t.call(this)||this).uo=n,r.so=i,r.Ds=!1,r.oo=void 0,r.ao=void 0,r.co=void 0,r.xs=function(){r.Ds=!0,r.ho.cs(void 0),r.co&&(r.co.removeEventListener("mskeyclose",r.xs),r.co.removeEventListener("mskeymessage",r.fo),r.co.removeEventListener("mskeyerror",r.vo),r.co.removeEventListener("mskeyadded",r.do))},r.fo=function(t){r.ao&&(r.ao.cs(void 0),r.ao=void 0),r.Su(new Vn(st(r),"license-request",yr(t.message).buffer,t.destinationURL||void 0))},r.vo=function(){var t=r.co&&r.co.error;if(t){var n=new Br("Unknown CDM error",t.code,t.systemCode);if(r.ao)r.ao.hs(n),r.ao=void 0;else if(r.oo)r.oo.hs(n),r.oo=void 0;else switch(n.Ss){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:r.lo("output-not-allowed");break;default:r.lo("internal-error")}}},r.do=function(){r.ao&&(r.lo("usable"),r.ao.cs(void 0),r.ao=void 0),r.oo&&(r.lo("usable"),r.oo.cs(void 0),r.oo=void 0)},r.ho=new kr,r._o=new Gn,r}ut(n,t);var i=n.prototype;return i.Fs=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wo(),this.ao=new kr,this.Qs(gr(i),r),t.next=5,this.ao.as;case 5:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Qs=function(t,n){if(!t)throw new d("Expected initData to be defined but was "+t+".");var i,r=n&&n.playready&&n.playready.yo;return(i=n?this.uo.createSession(this.so,t,r):this.uo.createSession(this.so,t)).addEventListener("mskeyclose",this.xs),i.addEventListener("mskeymessage",this.fo),i.addEventListener("mskeyerror",this.vo),i.addEventListener("mskeyadded",this.do),this.co=i,this.lo("status-pending"),i},i.Vs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wo(),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.oo=new kr,this.wo(),this.co){t.next=4;break}return t.abrupt("return",Tt.resolve());case 4:if(0!==(i=gr(n)).byteLength){t.next=7;break}throw new d("Cannot call update with an empty response.");case 7:return this.co.update(i),t.next=10,this.oo.as;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Us=function(){return!this.Ds&&this.co&&(this.Ds=!0,this.co.close()),this.ho.as},i.Hs=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.wo(),t.abrupt("return");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wo=function(){if(this.Ds)throw new d("Already closing or closed.")},i.lo=function(t){this._o.Zu(),this._o.Qu(Xn,t),this.Su(new Fn(this))},b(n,[{key:"js",get:function(){return this.co&&this.co.sessionId||""}},{key:"Gs",get:function(){return NaN}},{key:"Xs",get:function(){return this.ho.as}},{key:"zs",get:function(){return this._o}}]),n}(Mn),qr=function(){function t(t,n){this.uo=t,this.so=n}var n=t.prototype;return n.Qs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Hr(this.uo,this.so));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zs=function(t){return Tt.resolve(!1)},n.Js=function(t){var n=this;return t.readyState>=1?t.msSetMediaKeys(this.uo):t.addEventListener("loadedmetadata",function i(){t.msSetMediaKeys(n.uo),t.removeEventListener("loadedmetadata",i)}),Tt.resolve()},n.Ks=function(t){return Tt.resolve()},t}();function Wr(t,n,i){var r=!1;if(!(i.persistentState&&"optional"!==i.persistentState||i.distinctiveIdentifier&&"optional"!==i.distinctiveIdentifier)){var e={audioCapabilities:[],videoCapabilities:[],persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label,ro:i.ro},u=!1;if(i.audioCapabilities)for(var s=0,o=i.audioCapabilities;s<o.length;s++){var a=o[s];if(a.contentType)u=!0,t(n,Gr(a.contentType))&&(e.audioCapabilities.push(a),r=!0)}if(i.videoCapabilities)for(var c=0,h=i.videoCapabilities;c<h.length;c++){var f=h[c];if(f.contentType)u=!0,t(n,Gr(f.contentType))&&(e.videoCapabilities.push(f),r=!0)}return u||(r=t(n,"video/mp4")),r?e:void 0}}function Xr(t){if(t.videoCapabilities)for(var n=0,i=t.videoCapabilities;n<i.length;n++){var r=i[n];if(r.contentType)return r.contentType}if(t.audioCapabilities)for(var e=0,u=t.audioCapabilities;e<u.length;e++){var s=u[e];if(s.contentType)return s.contentType}}function Gr(t){return t.split(";")[0]}var zr=function(){function t(t,n){this.Ns=t,this.mo=n;var i=Xr(n)||"video/mp4";this.so=Gr(i)}var n=t.prototype;return n.no=function(){return this.mo},n.to=function(){return Tt.resolve(new qr(new Lt.MSMediaKeys(this.Ns),this.so))},b(t,[{key:"io",get:function(){return this.Ns}}]),t}(),jr=function(){function t(){}return t.prototype.wu=function(t,n){try{return Tt.resolve(function(t,n){if(!Yr())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Wr(Qr,t,r);if(e)return new zr(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Tt.reject(t)}},t.eo=function(){return Yr()},t}();function Yr(){return void 0!==Lt.MSMediaKeys&&"function"==typeof Lt.MSMediaKeys.isTypeSupported}function Qr(t,n){return Lt.MSMediaKeys.isTypeSupported(t,n)}var Zr=function(t){function n(n,i){var r;return(r=t.call(this)||this).po=n,r.so=i,r.ho=new kr,r.ko=void 0,r._o=new Gn,r.Ao=void 0,r.bo=new kr,r.To=void 0,r.Eo=new kr,r.vo=function(){var t=r.Ao&&r.Ao.error;if(t){var n=new Br("Unknown CDM error",t.code,t.systemCode);r.ko?(r.ko.hs(n),r.ko=void 0):n.Ss===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?r.lo("output-not-allowed"):r.lo("internal-error"),r.Su(new Hn)}},r.fo=function(t){r.ko&&(r.ko.cs(void 0),r.ko=void 0),r.Su(new Vn(st(r),"license-request",yr(t.message).buffer,t.destinationURL||void 0))},r}ut(n,t);var i=n.prototype;return i.Fs=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.So){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Ro(gr(i),e);case 5:this.Ao=t.sent,this.lo("usable"),this.bo.cs(this.Ao),this.bo=new kr;case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vs=function(t){return Tt.resolve(!0)},i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=gr(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.To){t.next=6;break}return this.Io(i),t.abrupt("return");case 6:if(this.ko=new kr,t.t0=this.Ao,t.t0){t.next=12;break}return t.next=11,this.bo.as;case 11:t.t0=t.sent;case 12:return t.t0.update(i),t.next=16,this.ko.as;case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Us=function(){var t=this.Ao;return t&&(t.removeEventListener("webkitkeymessage",this.fo,!1),t.removeEventListener("webkitkeyerror",this.vo,!1),t.close()),this.bo.fs(),this.ho.cs(void 0),this.ho.as},i.Hs=function(){return Tt.resolve(void 0)},i.Ro=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.To){t.next=4;break}r=this.To,t.next=10;break;case 4:return t.next=6,Pr(0);case 6:return this.Su(new Vn(this,"license-request",Ar())),t.next=9,this.Eo.as;case 9:r=t.sent;case 10:return e=Jr(n,i,r),(u=this.po.createSession(this.so,e)).addEventListener("webkitkeymessage",this.fo,!1),u.addEventListener("webkitkeyerror",this.vo,!1),t.abrupt("return",u);case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Io=function(t){this.To=t,this.Eo.cs(t)},i.lo=function(t){this._o.Zu(),this._o.Qu(Xn,t),this.Su(new Fn(this))},b(n,[{key:"js",get:function(){return this.Ao?this.Ao.sessionId:""}},{key:"Gs",get:function(){return NaN}},{key:"Xs",get:function(){return this.ho.as}},{key:"zs",get:function(){return this._o}}]),n}(Mn);function Jr(t,n,i){var r=2*n.length,e=new ArrayBuffer(t.byteLength+4+r+4+i.byteLength),u=new DataView(e),s=new mr;return qi(u,s,t),Yi(u,s,r,!0),ur(u,s,n,!0),Yi(u,s,i.byteLength,!0),qi(u,s,i),new m(e)}var Kr=function(){function t(t,n){this.po=t,this.so=n}var n=t.prototype;return n.getInternalMediaKeys=function(){return this.po},n.Qs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Zr(this.po,this.so));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zs=function(t){return Tt.resolve(!1)},n.Js=function(t){return t.webkitSetMediaKeys(this.po),Tt.resolve()},n.Ks=function(t){return t.webkitSetMediaKeys(null),Tt.resolve()},t}(),$r=function(){function t(t,n){this.Ns=t,this.mo=n;var i=Xr(n)||"video/mp4";this.so=Gr(i)}var n=t.prototype;return n.no=function(){return this.mo},n.to=function(){return Tt.resolve(new Kr(new Lt.WebKitMediaKeys(this.Ns),this.so))},b(t,[{key:"io",get:function(){return this.Ns}}]),t}(),te=function(){function t(){}return t.prototype.wu=function(t,n){try{return Tt.resolve(function(t,n){if(!ne())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=n[i],e=Wr(ie,t,r);if(e)return new $r(t,e)}throw new d("Unsupported key system configuration for "+t)}(t,n))}catch(t){return Tt.reject(t)}},t.eo=function(){return ne()},t}();function ne(){return void 0!==Lt.WebKitMediaKeys&&"function"==typeof Lt.WebKitMediaKeys.isTypeSupported}function ie(t,n){return Lt.WebKitMediaKeys.isTypeSupported(t,n)}var re,ee=function(){function t(t){this.No=t}return t.prototype.wu=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.No;case 1:if(!(r<e.length)){t.next=14;break}return u=e[r],t.prev=3,t.next=6,u.wu(n,i);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3);case 11:r++,t.next=1;break;case 14:throw new d("Unsupported key system configuration for "+n);case 15:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),ue=function(t){function n(n){var i;return(i=t.call(this)||this).Ns=n,i.ao=void 0,i.ko=void 0,i.Do=!1,i.Co=void 0,i.Oo=void 0,i.ho=new kr,i.Po="",i.xo=new kr,i.Bo=new Gn,i}ut(n,t);var i=n.prototype;return i.Lo=function(){this.ko&&(this.lo("usable"),this.ko.cs(void 0),this.ko=void 0)},i.Mo=function(t){var n=t,i=new Br("Unknown CDM error",n.errorCode,n.systemCode);this.ko?(this.ko.hs(i),this.ko=void 0):this.ao?(this.ao.hs(i),this.ao=void 0):i.Ss===WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT?this.lo("output-restricted"):1===i.Rs?this.lo("expired"):this.lo("internal-error")},i.Uo=function(t){this.ao&&(this.ao.cs(void 0),this.ao=void 0),this.Su(new Vn(this,"license-request",Tr(this.Ns,yr(t.message).buffer),t.defaultURL||void 0))},i.Fo=function(t){this.Oo||(this.Oo=t,this.xo.cs(t))},i.Us=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed(),this.Do=!0,this.ho.cs(void 0);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fs=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ao=new kr,this.Co=gr(i),t.t0=this.Oo,t.t0){t.next=8;break}return t.next=7,this.xo.as;case 7:t.t0=t.sent;case 8:return t.t0.webkitGenerateKeyRequest(this.Ns,this.Co),t.next=12,this.ao.as;case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Vs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.throwIfClosed(),t.abrupt("return",!1);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Hs=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.throwIfClosed();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.throwIfClosed(),this.ko=new kr,t.t0=this.Oo,t.t0){t.next=7;break}return t.next=6,this.xo.as;case 6:t.t0=t.sent;case 7:return t.t0.webkitAddKey(this.Ns,gr(n),this.Co,this.js),t.next=11,this.ko.as;case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.throwIfClosed=function(){if(this.Do)throw new d("Already closing or closed.")},i.lo=function(t){this.Bo.Zu(),this.Bo.Qu(Xn,t),this.Su(new Fn(this))},b(n,[{key:"zs",get:function(){return this.Bo}},{key:"js",get:function(){return this.Po},set:function(t){this.Po=t}},{key:"Xs",get:function(){return this.ho.as}},{key:"Gs",get:function(){return NaN}}]),n}(Mn),se=function(){function t(t){var n=this;this.Ns=t,this.Oo=void 0,this.Vo=Rt(),this.Ho=[],this.do=function(t){var i=n.qo(t.sessionId);i&&i.Lo()},this.Wo=function(t){var i=n.qo(t.sessionId);i&&i.Mo(t)},this.Xo=function(t){var i=t,r=n.qo(i.sessionId);r&&r.Uo(i)}}var n=t.prototype;return n.Js=function(t){return this.Oo=t,this.Oo.addEventListener("webkitkeyadded",this.do),this.Oo.addEventListener("webkitkeyerror",this.Wo),this.Oo.addEventListener("webkitkeymessage",this.Xo),this.Vo.forEach(function(n,i){return n.Fo(t)}),this.Ho.forEach(function(n){return n.Fo(t)}),Tt.resolve()},n.Ks=function(t){return t.removeEventListener("webkitkeyadded",this.do),t.removeEventListener("webkitkeyerror",this.Wo),t.removeEventListener("webkitkeymessage",this.Xo),this.Oo=void 0,Tt.resolve()},n.Qs=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new ue(this.Ns),this.Oo&&e.Fo(this.Oo),this.Ho.push(e),t.abrupt("return",e);case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Zs=function(t){return Tt.resolve(!1)},n.qo=function(t){if(t){var n=this.Vo.get(t);return n||((n=this.Ho.shift())?(n.js=t,this.Vo.set(t,n),n):void 0)}},t}(),oe=function(){function t(t,n){this.io=t,this.Go=n}var n=t.prototype;return n.to=function(){return Tt.resolve(new se(this.io))},n.no=function(){return this.Go},t}();function ae(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ce(t,n){if(void 0!==t.classList)t.classList.add(n);else if(void 0!==t.className){var i=function(t){var n=t.className;return"string"==typeof n?n:n&&"string"==typeof n.baseVal?n.baseVal:""}(t);-1===(" "+i+" ").indexOf(" "+n+" ")&&function(t,n){var i=t.className;"string"==typeof i?t.className=n:i&&"string"==typeof i.baseVal&&(i.baseVal=n)}(t,(i+" "+n).trim())}}function he(t,n,i){t.display=n,"none"!==t.display&&""!==t.display||(t.display=i)}function fe(t,n){var i=n.style;if(i)for(var r in t)i[r]=t[r]}function ve(t){var n=t.style;n.position="absolute",n.left="0",n.right="0",n.top="0",n.bottom="0",n.width="100%",n.height="100%"}function de(t){t.removeAttribute("title")}function le(t){return"video"===((n=t)&&n.nodeName&&n.nodeName.toLowerCase()||"");var n}function _e(t){t.src&&(t.removeAttribute("src"),t.load())}function ge(){return void 0!==u?u.createElement("video"):void 0}function we(){return re||(re=ge()),re}var ye,me=function(){function t(){}return t.prototype.wu=function(t,n){try{return Tt.resolve(pe(t,n))}catch(t){return Tt.reject(t)}},t.eo=function(){return _n()},t}();function pe(t,n){if(!me.eo())throw new d("Unsupported key system "+t);for(var i=0;i<n.length;i++){var r=Wr(ke,t,n[i]);if(r)return new oe(t,r)}throw new d("Unsupported key system configuration for "+t)}function ke(t,n){var i=we();return!(!i||!i.canPlayType||""===i.canPlayType(n,t))}function Ae(){return ye||(ye=function(){var t=[];Vr.eo()&&t.push(new Vr);jr.eo()&&t.push(new jr);te.eo()&&t.push(new te);me.eo()&&t.push(new me);return new ee(t)}()),ye}function be(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function Te(t,n){var i=function(t,n){var i=t.length;if(i<=1)return t;for(var r=new Array(i),e=1;e<i;e*=2){Ee(t,n,e,r);var u=t;t=r,r=u}return t}(t,n);return i!==t&&Ee(i,null,t.length,t),t}function Ee(t,n,i,r){var e,u,s,o,a,c=t.length,h=0,f=2*i;for(e=0;e<c;e+=f)for(s=(u=e+i)+i,u>c&&(u=c),s>c&&(s=c),o=e,a=u;;)if(o<u&&a<s)n(t[o],t[a])<=0?r[h++]=t[o++]:r[h++]=t[a++];else if(o<u)r[h++]=t[o++];else{if(!(a<s))break;r[h++]=t[a++]}}var Se=/[a-zA-Z]/,Re=/[0-9]/,Ie=/[0-9a-fA-F]/,Ne=/^0x/i,De=/^[0-9]+$/,Ce=/^[0-9a-fA-F]+$/,Oe=/^[0-7]+$/,Pe=l.prototype.toString,xe=Array.isArray||function(t){return"[object Array]"===Pe.call(t)},Be="undefined"!=typeof Symbol&&"symbol"==typeof Symbol.iterator;function Le(t){return xe(t)?t:Array.from(t)}function Me(t){return t>=65&&t<=90}function Ue(t){return Me(t)||function(t){return t>=97&&t<=122}(t)}function Fe(t){return t>=48&&t<=57}function Ve(t){return Fe(t)||Ue(t)}function He(t){return Fe(t)||t>=65&&t<=70||t>=97&&t<=102}function qe(t){return Me(t)?t+32:t}function We(t){return Fe(t)?t-48:t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:-1}function Xe(t,n){return void 0===n&&(n=!1),0<=t&&t<=9?t+48:10<=t&&t<=15?t+(n?87:55):-1}var Ge=_.min,ze=String.fromCharCode,je=16384;function Ye(t){for(var n=t.length,i=[],r=0;r<n;r+=je){var e=Ge(r+je,n);i.push(ze.apply(null,t.slice(r,e)))}return i.join("")}var Qe=/[^\0-\x7E]/,Ze=/[\x2E\u3002\uFF0E\uFF61]/g,Je={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ke=_.floor,$e=String.fromCharCode;function tu(t){throw new RangeError(Je[t])}function nu(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}var iu,ru,eu,uu=function(t,n){return t+22+75*(t<26)-((0!=n)<<5)},su=function(t,n,i){var r=0;for(t=i?Ke(t/700):t>>1,t+=Ke(t/n);t>455;r+=36)t=Ke(t/35);return Ke(r+36*t/(t+38))},ou=function(t){return function(t,n){var i=t.split("@"),r="";i.length>1&&(r=i[0]+"@",t=i[1]);var e=function(t,n){for(var i=[],r=t.length;r--;)i[r]=n(t[r]);return i}((t=t.replace(Ze,".")).split("."),n).join(".");return r+e}(t,function(t){return Qe.test(t)?"xn--"+function(t){for(var n=[],i=(t=nu(t)).length,r=128,e=0,u=72,s=0,o=t;s<o.length;s++){var a=o[s];a<128&&n.push($e(a))}var c=n.length,h=c;for(c&&n.push("-");h<i;){for(var f=2147483647,v=0,d=t;v<d.length;v++){var l=d[v];l>=r&&l<f&&(f=l)}var _=h+1;f-r>Ke((2147483647-e)/_)&&tu("overflow"),e+=(f-r)*_,r=f;for(var g=0,w=t;g<w.length;g++){var y=w[g];if(y<r&&++e>2147483647&&tu("overflow"),y==r){for(var m=e,p=36;;p+=36){var k=p<=u?1:p>=u+26?26:p-u;if(m<k)break;var A=m-k,b=36-k;n.push($e(uu(k+A%b,0))),m=Ke(A/b)}n.push($e(uu(m,0))),u=su(e,_,h==c),e=0,++h}}++e,++r}return n.join("")}(t):t})};function au(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r>65535&&(r-=65536,n.push(r>>>10&1023|55296),r=56320|1023&r),n.push(r)}return Ye(n)}function cu(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function hu(t,n){return t>>n&63|128}function fu(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(cu(t),n.push(t>>12&15|224),n.push(hu(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(hu(t,12)),n.push(hu(t,6))),n.push(63&t|128)):n.push(t)}function vu(t){for(var n=[],i=0;i<t.length;i++){fu(t[i],n)}return n}function du(){if(eu>=ru)throw new v("Invalid byte index");var t=255&iu[eu];if(eu++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function lu(){var t,n;if(eu>ru)throw new v("Invalid byte index");if(eu===ru)return!1;if(t=255&iu[eu],eu++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|du())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|du()<<6|du())>=2048)return cu(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|du()<<12|du()<<6|du())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}function _u(t){return[37,Xe(t>>4),Xe(15&t)]}function gu(t){return function(t){return t>=0&&t<=31}(t)||t>126}function wu(t){return gu(t)||32===t||34===t||60===t||62===t||96===t}function yu(t){return wu(t)||35===t||63===t||123===t||125===t}function mu(t){return yu(t)||47===t||58===t||59===t||61===t||64===t||t>=91&&t<=94||124===t}function pu(t){return t<33||t>126||34===t||35===t||60===t||62===t}function ku(t){return pu(t)||39===t}function Au(t,n){if(!n(t))return[t];for(var i=vu([t]),r=[],e=0;e<i.length;e++){var u=i[e];r.push.apply(r,_u(u))}return r}function bu(t,n){for(var i=[],r=0,e=nu(t);r<e.length;r++){var u=e[r];i.push.apply(i,Au(u,n))}return au(i)}function Tu(t){return function(t){for(var n=[],i=t.length,r=0;r<i;r++){var e=t[r];if(37===e&&r+2<i&&He(t[r+1])&&He(t[r+2])){var u=We(t[r+1])<<4|We(t[r+2]);n.push(u),r+=2}else n.push(e)}return n}(vu(t))}function Eu(t){return au(function(t){iu=t.slice(),ru=iu.length,eu=0;for(var n,i=[];!1!==(n=lu());)i.push(n);return i}(Tu(nu(t))))}function Su(t){var n,i,r,e,u=t.length,s=[0,0,0,0,0,0,0,0],o=0,a=null,c=0;if(c<u&&":"===t[c]){if(!(c+1<u&&":"===t[c+1]))throw new d;c+=2,a=o+=1}for(;c<u;){if(8===o)throw new d("Too many groups");if(":"!==t[c]){for(var h=0,f=0;f<4&&c<u&&Ie.test(t[c]);)h=h<<4|g(t[c],16),c+=1,f+=1;if("."===t[c]){if(0===f)throw new d;if(c-=f,o>6)throw new d;for(var v=0;c<u;){var l=null;if(v>0){if(!("."===t[c]&&v<4))throw new d;c+=1}if(!Re.test(t[c]))throw new d;for(;c<u&&Re.test(t[c]);){var _=g(t[c],10);if(null===l)l=_;else{if(0===l)throw new d;if((l=10*l+_)>255)throw new d}c+=1}s[o]=s[o]<<8|l,2!==(v+=1)&&4!==v||(o+=1)}if(4!==v)throw new d;break}if(":"===t[c]){if((c+=1)===u)throw new d}else if(c<u)throw new d;s[o]=h,o+=1}else{if(null!==a)throw new d("Too many :: groups");c+=1,a=o+=1}}if(null!==a){var w=o-a;for(o=7;0!==o&&w>0;)r=a+w-1,e=void 0,e=(n=s)[i=o],n[i]=n[r],n[r]=e,o-=1,w-=1}else if(8!==o)throw new d;return s}function Ru(t){var n=10,i=De;return Ne.test(t)?(t=t.slice(2),n=16,i=Ce):t.length>=2&&"0"===t[0]&&(t=t.slice(1),n=8,i=Oe),""===t?0:i.test(t)?g(t,n):void 0}var Iu={zo:4},Nu=/[\0\t\n\r #%\/:?@\[\\\]]/,Du=/[\0\t\n\r #\/:?@\[\\\]]/;function Cu(t,n){if("["===t[0]){if("]"!==t[t.length-1])throw new d("Invalid IPv6 address");return{zo:2,jo:Su(t.slice(1,-1))}}if(!n)return function(t){if(Du.test(t))throw new d("Invalid code point in opaque host");var n=bu(t,gu);return""===n?Iu:{zo:3,Xe:n}}(t);var i=function(t){return function(t){return ou(t.toLowerCase())}(t)}(Eu(t));if(Nu.test(i))throw new d("Invalid code point in host");var r=function(t){var n=t.split(".");if(""===n[n.length-1]&&n.pop(),!(n.length>4)){for(var i=[],r=0;r<n.length;r++){var e=n[r];if(""===e)return;var u=Ru(e);if(void 0===u)return;i.push(u)}for(var s=0;s<i.length-1;s++)if(i[s]>255)throw new d;if(i[i.length-1]>=_.pow(256,5-i.length))throw new d;for(var o=i.pop(),a=0;a<i.length;a++)o+=i[a]*_.pow(256,3-a);return o}}(i);return void 0!==r?{zo:1,jo:r}:""===i?Iu:{zo:0,Yo:i}}function Ou(t){switch(t.zo){case 0:return t.Yo;case 1:return function(t){for(var n=[],i=t,r=1;r<=4;r++)n.push(""+(255&i)),4!==r&&n.push("."),i>>>=8;return n.reverse().join("")}(t.jo);case 2:return"["+function(t){for(var n="",i=function(t){for(var n=0,i=0,r=0,e=0,u=0;u<8;u++)0===t[u]?(0===e&&(r=u),e++):(e>i&&(n=r,i=e),e=0);return e>i&&(n=r,i=e),i>1?n:null}(t),r=!1,e=0;e<8;e++){if(r){if(0===t[e])continue;r=!1}i!==e?(n+=t[e].toString(16),7!==e&&(n+=":")):(n+=0===e?"::":":",r=!0)}return n}(t.jo)+"]";case 3:return t.Xe;case 4:return""}}var Pu=/\+/g;function xu(t){for(var n=t.split("&"),i=[],r=0;r<n.length;r++){var e=n[r];if(""!==e){var u=e.indexOf("="),s=void 0,o=void 0;-1!==u?(s=e.slice(0,u),o=e.slice(u+1)):(s=e,o=""),s=s.replace(Pu," "),o=o.replace(Pu," ");var a=Eu(s),c=Eu(o);i.push([a,c])}}return i}function Bu(t){for(var n="",i=0;i<t.length;i++){var r=t[i];i>0&&(n+="&"),n+=Lu(vu(nu(r[0])))+"="+Lu(vu(nu(r[1])))}return n}function Lu(t){for(var n,i=[],r=0;r<t.length;r++){var e=t[r];32===e?i.push(43):42===(n=e)||45===n||46===n||95===n||Ve(n)?i.push(e):i.push.apply(i,_u(e))}return Ye(i)}var Mu=/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;function Uu(t){var n=""+t,i=Mu.exec(n);return i?function(t,n){for(var i=t.length,r=[],e=n;e<i;e++){var u=t.charCodeAt(e);if(Vu(u))if(Hu(u)||e===i-1)r.push(Fu);else{var s=t.charCodeAt(e+1);Hu(s)?(r.push(u,s),e++):r.push(Fu)}else r.push(u)}return t.slice(0,n)+Ye(r)}(n,i.index):n}var Fu=65533,Vu=function(t){return 55296==(63488&t)},Hu=function(t){return 0!=(1024&t)};function qu(t,n){var i=t[0],r=n[0];return i===r?0:i<r?-1:1}function Wu(t){t.Qo.length=0}function Xu(t,n){!function(t,n){for(var i=0;i<n.length;i++)t[i]=n[i];t.length=n.length}(t.Qo,xu(n))}function Gu(t){if(t.Zo){var n=Bu(t.Qo);""===n&&(n=null),t.Zo.Zo.Jo=n}}var zu=function(){function t(t){if(void 0===t&&(t=void 0),this.Zo=null,null==t)this.Qo=[];else if("object"==typeof t||"function"==typeof t)if((u=t)instanceof zu&&xe(u.Qo)&&(!Be||u[Symbol.iterator]===ju))this.Qo=t.Qo.slice();else if(function(t){return null!=t&&(!!xe(t)||!!Be&&"function"==typeof t[Symbol.iterator])}(t)){this.Qo=[];for(var n=0,i=Le(t);n<i.length;n++){var r=Le(i[n]);if(2!==r.length)throw new d("Invalid name-value pair");this.Qo.push([Uu(r[0]),Uu(r[1])])}}else for(var e in this.Qo=[],t)l.prototype.hasOwnProperty.call(t,e)&&this.Qo.push([Uu(e),Uu(t[e])]);else(t=Uu(t)).length>0&&"?"===t[0]&&(t=t.slice(1)),this.Qo=xu(t);var u}var n=t.prototype;return n.append=function(t,n){t=Uu(t),n=Uu(n),this.Qo.push([t,n]),Gu(this)},n.delete=function(t){t=Uu(t);for(var n=this.Qo,i=0;i<n.length;){n[i][0]===t?n.splice(i,1):i++}Gu(this)},n.get=function(t){t=Uu(t);for(var n=this.Qo,i=0;i<n.length;i++){var r=n[i];if(r[0]===t)return r[1]}return null},n.getAll=function(t){t=Uu(t);for(var n=this.Qo,i=[],r=0;r<n.length;r++){var e=n[r];e[0]===t&&i.push(e[1])}return i},n.has=function(t){t=Uu(t);for(var n=this.Qo,i=0;i<n.length;i++){if(n[i][0]===t)return!0}return!1},n.set=function(t,n){t=Uu(t),n=Uu(n);for(var i=this.Qo,r=!1,e=0;e<i.length;){var u=i[e];u[0]===t?r?i.splice(e,1):(u[1]=n,r=!0,e++):e++}r||i.push([t,n]),Gu(this)},n.sort=function(){Te(this.Qo,qu),Gu(this)},n.toString=function(){return Bu(this.Qo)},n.entries=function(){return new Ju(this.Qo,Yu)},n.keys=function(){return new Ju(this.Qo,Qu)},n.values=function(){return new Ju(this.Qo,Zu)},n.forEach=function(t){var n=this;this.Qo.forEach(function(i){return t(i[1],i[0],n)})},t}(),ju=zu.prototype.entries;Be&&(zu.prototype[Symbol.iterator]=ju);var Yu=function(t){return[t[0],t[1]]},Qu=function(t){return t[0]},Zu=function(t){return t[1]},Ju=function(){function t(t,n){this.Ko=0,this.Qo=t,this.$o=n}return t.prototype.next=function(){return this.Ko<this.Qo.length?{done:!1,value:this.$o(this.Qo[this.Ko++])}:{done:!0,value:void 0}},t}(),Ku="null";var $u=l.create(null);$u.ftp=21,$u.file=0,$u.gopher=70,$u.http=80,$u.https=443,$u.ws=80,$u.wss=443;var ts=/^(?:\.|%2e)$/i,ns=/^(?:\.|%2e){2}$/i;function is(t){return ts.test(t)}function rs(t){return ns.test(t)}function es(t){return void 0!==$u[t]}function us(t){return es(t.ta)}function ss(t){return""!==t.na||""!==t.ia}function os(t){var n=t.length;if(!(n>=2))return!1;if(!cs(t.slice(0,2)))return!1;if(2!==n){var i=t[2];if(47!==i&&92!==i&&63!==i&&35!==i)return!1}return!0}function as(t){return 2===t.length&&Se.test(t[0])&&(":"===t[1]||"|"===t[1])}function cs(t){return 2===t.length&&as(Ye(t))}function hs(t){return as(t)&&":"===t[1]}function fs(t){var n=t.ra;0!==n.length&&("file"===t.ta&&1===n.length&&hs(n[0])||n.pop())}function vs(t){return null===t.ea||Iu===t.ea||t.ua||"file"===t.ta}var ds=-1,ls=/\t|\n|\r/g,_s=/^[\x00-\x1f ]+|[\x00-\x1f ]+$/g;function gs(t,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null),i||(i=new ys,t=t.replace(_s,""));var e=null!==r?r:0;n=n||null;for(var u=[],s=!1,o=!1,a=!1,c=nu(t=t.replace(ls,"")),h=c.length,f=0;f<=h;){var v=f<h?c[f]:ds;switch(e){case 0:if(!Ue(v)){if(null===r){u.length=0,e=2;continue}throw new d("Invalid scheme")}u.push(qe(v)),e=1;break;case 1:if(Ve(v)||43===v||45===v||46===v)u.push(qe(v));else{if(58!==v){if(null===r){u.length=0,e=2,f=0;continue}throw new d("Invalid scheme")}var l=au(u);if(null!==r){if(es(i.ta)&&!es(l))return;if(!es(i.ta)&&es(l))return;if((ss(i)||null!==i.sa)&&"file"===l)return;if("file"===i.ta&&(i.ea===Iu||null===i.ea))return}if(i.ta=l,null!==r)return void(us(i)&&i.sa===$u[i.ta]&&(i.sa=null));u.length=0,"file"===i.ta?e=13:us(i)&&n&&n.ta===i.ta?e=3:us(i)?e=7:47===c[f+1]?(e=4,f+=1):(i.ua=!0,i.ra.push(""),e=18)}break;case 2:if(!n||n.ua&&35!==v)throw new d("Invalid scheme");n.ua&&35===v?(i.ta=n.ta,i.ra=n.ra.slice(),i.Jo=n.Jo,i.oa="",i.ua=!0,e=20):"file"!==n.ta?(e=5,f-=1):(e=13,f-=1);break;case 3:47===v&&47===c[f+1]?e=8:(e=5,f-=1);break;case 4:47===v?e=9:(e=17,f-=1);break;case 5:i.ta=n.ta,ds===v?(i.na=n.na,i.ia=n.ia,i.ea=n.ea,i.sa=n.sa,i.ra=n.ra.slice(),i.Jo=n.Jo):47===v?e=6:63===v?(i.na=n.na,i.ia=n.ia,i.ea=n.ea,i.sa=n.sa,i.ra=n.ra.slice(),i.Jo="",e=19):35===v?(i.na=n.na,i.ia=n.ia,i.ea=n.ea,i.sa=n.sa,i.ra=n.ra.slice(),i.Jo=n.Jo,i.oa="",e=20):92===v&&us(i)?e=6:(i.na=n.na,i.ia=n.ia,i.ea=n.ea,i.sa=n.sa,i.ra=n.ra.slice(),i.ra.pop(),e=17,f-=1);break;case 6:!us(i)||47!==v&&92!==v?47===v?e=9:(i.na=n.na,i.ia=n.ia,i.ea=n.ea,i.sa=n.sa,e=17,f-=1):e=8;break;case 7:if(47!==v||47!==c[f+1]){e=8;continue}e=8,f+=1;break;case 8:47!==v&&92!==v&&(e=9,f-=1);break;case 9:if(64===v){s&&u.unshift(37,52,48),s=!0;for(var _=0;_<u.length;_++){var w=u[_];if(58!==w||a){var y=au(Au(w,mu));a?i.ia+=y:i.na+=y}else a=!0}u.length=0}else if(ds===v||47===v||63===v||35===v||us(i)&&92===v){if(s&&0===u.length)throw new d("Invalid host");f-=u.length+1,u.length=0,e=10}else u.push(v);break;case 10:case 11:if(null!==r&&"file"===i.ta)f-=1,e=15;else if(58!==v||o)if(ds===v||47===v||63===v||35===v||us(i)&&92===v){if(f-=1,us(i)&&0===u.length)throw new d("Invalid host");if(null!==r&&0===u.length&&(ss(i)||null!==i.sa))return;var m=Cu(au(u),us(i));if(i.ea=m,u.length=0,e=16,null!==r)return}else 91===v?o=!0:93===v&&(o=!1),u.push(v);else{if(0===u.length)throw new d("Invalid host");var p=Cu(au(u),us(i));if(i.ea=p,u.length=0,e=12,11===r)return}break;case 12:if(Fe(v))u.push(v);else{if(!(ds===v||47===v||63===v||35===v||us(i)&&92===v||null!==r))throw new d("Invalid port");if(0!==u.length){var k=g(au(u),10);if(k>65535)throw new d("Invalid port");i.sa=k===$u[i.ta]?null:k,u.length=0}if(null!==r)return;e=16,f-=1}break;case 13:i.ta="file",47===v||92===v?e=14:n&&"file"===n.ta?ds===v?(i.ea=n.ea,i.ra=n.ra.slice(),i.Jo=n.Jo):63===v?(i.ea=n.ea,i.ra=n.ra.slice(),i.Jo="",e=19):35===v?(i.ea=n.ea,i.ra=n.ra.slice(),i.Jo=n.Jo,i.oa="",e=20):(os(c.slice(f))||(i.ea=n.ea,i.ra=n.ra.slice(),fs(i)),e=17,f-=1):(e=17,f-=1);break;case 14:47===v||92===v?e=15:(n&&"file"===n.ta&&!os(c.slice(f))&&(hs(n.ra[0])?i.ra.push(n.ra[0]):i.ea=n.ea),e=17,f-=1);break;case 15:if(ds===v||47===v||92===v||63===v||35===v)if(f-=1,null===r&&cs(u))e=17;else if(0===u.length){if(i.ea=Iu,null!==r)return;e=16}else{var A=Cu(au(u),us(i));if(0===A.zo&&"localhost"===A.Yo&&(A=Iu),i.ea=A,null!==r)return;u.length=0,e=16}else u.push(v);break;case 16:us(i)?(e=17,47!==v&&92!==v&&(f-=1)):null===r&&63===v?(i.Jo="",e=19):null===r&&35===v?(i.oa="",e=20):ds!==v&&(e=17,47!==v&&(f-=1));break;case 17:if(ds===v||47===v||us(i)&&92===v||null===r&&(63===v||35===v)){var b=au(u);if(rs(b)?(fs(i),47===v||us(i)&&92===v||i.ra.push("")):!is(b)||47===v||us(i)&&92===v?is(b)||("file"===i.ta&&0===i.ra.length&&cs(u)&&(Iu!==i.ea&&null!==i.ea&&(i.ea=Iu),u[1]=58,b=au(u)),i.ra.push(b)):i.ra.push(""),u.length=0,"file"===i.ta&&(ds===v||63===v||35===v))for(;i.ra.length>1&&""===i.ra[0];)i.ra.shift();63===v?(i.Jo="",e=19):35===v&&(i.oa="",e=20)}else u.push.apply(u,Au(v,yu));break;case 18:63===v?(i.Jo="",e=19):35===v?(i.oa="",e=20):ds!==v&&(i.ra[0]+=au(Au(v,gu)));break;case 19:null===r&&35===v?(i.oa="",e=20):ds!==v&&(i.Jo+=au(Au(v,us(i)?ku:pu)));break;case 20:ds===v||0===v||(i.oa+=au(Au(v,wu)))}f++}return i}function ws(t,n,i,r){try{gs(t,n,i,r)}catch(t){}}var ys=function(){this.ta="",this.na="",this.ia="",this.ea=null,this.sa=null,this.ra=[],this.Jo=null,this.oa=null,this.ua=!1};function ms(t){switch(t.ta){case"blob":var n;try{n=gs(t.ra[0],null)}catch(t){return Ku}return ms(n);case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return i=t.ta,r=t.ea,e=t.sa,i+"://"+Ou(r)+(null===e?"":":"+e);case"file":default:return Ku}var i,r,e}var ps=function(){function t(t,n){var i,r,e=null;if(null!=n)if(null!=(i=n)&&i instanceof ps&&"object"==typeof i.Zo)e=n.Zo;else try{e=gs(String(n),null)}catch(t){throw new d("Invalid base URL: "+t.message)}try{r=gs(String(t),e)}catch(t){throw new d("Invalid URL: "+t.message)}var u=r.Jo;this.Zo=r,this.Jo=function(t){var n=new zu;return null!==t&&Xu(n,t),n}(u),this.Jo.Zo=this}var n,i,r,e=t.prototype;return e.toString=function(){return this.href},e.toJSON=function(){return this.href},n=t,(i=[{key:"href",get:function(){return function(t,n){void 0===n&&(n=!1);var i=t.ta+":";if(null!==t.ea?(i+="//",ss(t)&&(i+=t.na,""!==t.ia&&(i+=":"+t.ia),i+="@"),i+=Ou(t.ea),null!==t.sa&&(i+=":"+t.sa)):null===t.ea&&"file"===t.ta&&(i+="//"),t.ua)i+=t.ra[0];else for(var r=0,e=t.ra;r<e.length;r++)i+="/"+e[r];return null!==t.Jo&&(i+="?"+t.Jo),n||null===t.oa||(i+="#"+t.oa),i}(this.Zo)},set:function(t){var n;try{n=gs(String(t),null)}catch(t){throw new d("Invalid URL: "+t.message)}this.Zo=n,Wu(this.Jo);var i=this.Zo.Jo;null!==i&&Xu(this.Jo,i)}},{key:"origin",get:function(){return ms(this.Zo)}},{key:"protocol",get:function(){return this.Zo.ta+":"},set:function(t){ws(t+":",null,this.Zo,0)}},{key:"username",get:function(){return this.Zo.na},set:function(t){vs(this.Zo)||(this.Zo.na=bu(t,mu))}},{key:"password",get:function(){return this.Zo.ia},set:function(t){vs(this.Zo)||(this.Zo.ia=bu(t,mu))}},{key:"host",get:function(){var t=this.Zo,n=t.ea;if(null===n)return"";var i=t.sa,r=Ou(n);return null!==i&&(r+=":"+i),r},set:function(t){this.Zo.ua||ws(t,null,this.Zo,10)}},{key:"hostname",get:function(){var t=this.Zo.ea;return null===t?"":Ou(t)},set:function(t){this.Zo.ua||ws(t,null,this.Zo,11)}},{key:"port",get:function(){var t=this.Zo.sa;return null===t?"":""+t},set:function(t){vs(this.Zo)||(""===t?this.Zo.sa=null:ws(t,null,this.Zo,12))}},{key:"pathname",get:function(){var t=this.Zo.ra;return this.Zo.ua?t[0]:0===t.length?"":"/"+t.join("/")},set:function(t){this.Zo.ua||(this.Zo.ra.length=0,ws(t,null,this.Zo,16))}},{key:"search",get:function(){var t=this.Zo.Jo;return null===t||""===t?"":"?"+t},set:function(t){t=Uu(t);var n=this.Zo;if(""===t)return n.Jo=null,void Wu(this.Jo);"?"===t[0]&&(t=t.slice(1)),n.Jo="",ws(t,null,n,19),Xu(this.Jo,t)}},{key:"searchParams",get:function(){return this.Jo}},{key:"hash",get:function(){var t=this.Zo.oa;return null===t||""===t?"":"#"+t},set:function(t){""!==t?("#"===t[0]&&(t=t.slice(1)),this.Zo.oa="",ws(t,null,this.Zo,20)):this.Zo.oa=null}}])&&be(n.prototype,i),r&&be(n,r),t}();function ks(t,n){for(var i=0,r=l.keys(n);i<r.length;i++){var e=r[i];t.searchParams.set(e,n[e])}}function As(t,n){var i=r.aa(t).href;return n&&!on(i,"/")&&(i+="/"),i}var bs=/cache:(.+)?(?=&|$)/,Ts="http://webcache.googleusercontent.com/search?q=cache:";function Es(t){if(!sn(t,Ts))return"";var n=r.aa(t).search.match(bs);return n&&n.length>1?n[1]:""}function Ss(t){return r.aa(t).hostname}var Rs,Is=function(){function n(){this.ca=new ht,this.ha=new Ns,this.fa=void 0,t.performance&&t.performance.now?this.va=function(){return t.performance.now()}:this.va=rt}var i=n.prototype;return i.da=function(){$.apply(void 0,arguments)},i.la=function(){tt.apply(void 0,arguments)},i._a=function(){nt.apply(void 0,arguments)},i.ga=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];it.apply(void 0,[t].concat(i))},i.Ts=function(t,n){return a(t,n)},i.wa=function(t,n){return h(t,n)},i.Es=function(t){c(t)},i.ya=function(t){f(t)},i.tn=function(t){return this.ca.tn(t)},i.yu=function(){return this.ma.yu()},i.du=function(){return this.ma.du()},i._u=function(){return this.ma._u()},i.lu=function(){return this.ma.lu()},i.fu=function(){return this.ma.fu()},i.gu=function(t,n){return this.ma.gu(t,n)},i.vu=function(t){return this.ma.vu(t)},i.aa=function(t,n){var i;return void 0===n&&(n=(i=Lt).document&&i.document.baseURI||i.location.href||""),new ps(t,n)},b(n,[{key:"ma",get:function(){return this.fa||(this.fa=new gn(Ae())),this.fa}},{key:"pa",get:function(){return this.ha}}]),n}(),Ns=function(){function t(){}return b(t,[{key:"ka",get:function(){return o.oscpu}},{key:"Aa",get:function(){return o.platform}},{key:"ba",get:function(){return o.vendor}},{key:"Ta",get:function(){return o.vendorSub}}]),t}();Rs=new Is,r=Rs;var Ds=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Ea=void 0,n}ut(n,t);var i=n.prototype;return i.Sa=function(t){if("function"==typeof t){var n=this.Ea;n?"function"==typeof n?this.Ea=[n,t]:n.push(t):this.Ea=t}},i.Ra=function(t){var n=this.Ea;n&&("function"==typeof n?n===t&&(this.Ea=void 0):An(n,t))},i.Du=function(){t.prototype.Du.call(this),this.Ea=void 0},i.Su=function(n){var i=Bn(this.Ea);t.prototype.Su.call(this,n),Ln(this.Ru,n,i)},n}(Mn),Cs=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n}(Ds),Os=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Ia=void 0,r}return ut(n,t),b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}}]),n}(Un);var Ps=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),n}(Os),xs=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),n}(Un),Bs=function(t){function n(n){var i;return(i=t.call(this,"Oa")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new Ls(this.Ca.Na)},n}(Ps),Ls=function(t){function n(n){var i;return(i=t.call(this,"addtrack")||this).track=n,i}return ut(n,t),n}(xs),Ms=function(t){function n(n){var i;return(i=t.call(this,"Pa")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new Us(this.Ca.Na)},n}(Ps),Us=function(t){function n(n){var i;return(i=t.call(this,"removetrack")||this).track=n,i}return ut(n,t),n}(xs),Fs=function(t){function n(){var n;return(n=t.call(this)||this).xa=[],n.Ia=void 0,n}ut(n,t);var i=n.prototype;return i.Ba=function(t){return this.xa[t]},i.La=function(t){return!(!t||Tn(this.xa,t))&&(this.xa.push(t),this.Ia&&this.Ia.push(t.Na),t.Iu("Ma",this.Eu),this.Su(new Bs(t)),!0)},i.Ua=function(t){if(!t)return!1;var n=this.xa.indexOf(t);return!(n<0)&&(bn(this.xa,n),this.Ia&&bn(this.Ia,n),t.Cu("Ma",this.Eu),t.Cu("qs",this.Eu),this.Su(new Ms(t)),!0)},i.Fa=function(){for(var t=this.xa,n=t.length-1;n>=0;n-=1)this.Ua(t[n])},i.Va=function(){this.Du(),this.Fa()},b(n,[{key:"Ha",get:function(){return this.xa}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"qa",get:function(){return this.xa.length}}]),n}(Ds),Vs=function(t){function n(){var n;return(n=t.call(this)||this).Wa=void 0,n.Xa=function(t){var i=t.Ca;n.La(i)},n.Ga=function(t){var i=t.Ca;n.Ua(i)},n.za=function(t){"Oa"!==t.type&&"Pa"!==t.type&&"Ma"!==t.type&&n.Eu(t)},n}ut(n,t);var i=n.prototype;return i.ja=function(t){t.Iu("Oa",this.Xa),t.Iu("Pa",this.Ga),t.Sa(this.za)},i.Ya=function(t){t.Cu("Oa",this.Xa),t.Cu("Pa",this.Ga),t.Ra(this.za)},i.Va=function(){this.Wa&&this.Wa.Va(),t.prototype.Va.call(this)},b(n,[{key:"Qa",get:function(){return this.Wa},set:function(t){var n=this.Wa;if(t!==n){if(n){for(var i=n.qa-1;i>=0;i-=1)this.Ua(n.Ba(i));this.Ya(n)}if(this.Wa=t,t){for(var r=0;r<t.qa;r++)this.La(t.Ba(r));this.ja(t)}}}}]),n}(Fs);function Hs(t,n,i){return new Tt(function(r,e){if(i&&i.pu)return e(new In);var u=function(t){o(),r(t)},s=function(){o(),e(new In)},o=function(){t.removeEventListener(n,u),i&&i.ku(s)};t.addEventListener(n,u),i&&i.Au(s)})}var qs=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).Za=function(t){var n;(n=t)&&n.Na&&Nr(function(){r.Su(t.Na)})},r.Ja=n,r.Ka(),r}ut(n,t);var i=n.prototype;return i.Ka=function(){this.Ja.Sa(this.Za)},i.$a=function(){this.Ja.Ra(this.Za)},n}(Ds),Ws=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n}(qs),Xs=l.freeze||z;function Gs(t,n,i){l.defineProperty(t,n,{writable:!1,enumerable:!0,value:i})}function zs(t,n){for(var i=0,r=l.getOwnPropertyNames(n);i<r.length;i++){var e=r[i];l.defineProperty(t,e,l.getOwnPropertyDescriptor(n,e))}return t}function js(t){if(F(t)){var n={};for(var i in t)P.call(t,i)&&(n[i]=js(t[i]));return n}if(L(t)){for(var r=new Array(t.length),e=0;e<r.length;e++)e in t&&(r[e]=js(t[e]));return r}return t}function Ys(t,n){return t===n||!(!t||!n)&&(!(!U(t)||!U(n))&&(M(t)?!!M(n)&&function(t,n){var i=t.length,r=n.length;if(i!==r)return!1;for(var e=0;e<i;e+=1)if(!Ys(t[e],n[e]))return!1;return!0}(t,n):!M(n)&&function(t,n){var i=l.keys(t),r=l.keys(n);if(!i||!r||i.length!==r.length)return!1;for(var e=0;e<i.length;e++){var u=i[e];if(!P.call(n,u)||!Ys(t[u],n[u]))return!1}return!0}(t,n)))}function Qs(t,n){return t.constructor===n.constructor}function Zs(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i],u=t[e];null!=u&&(n[e]=u)}return n}function Js(t){var n=t;if("string"==typeof n){if("true"===(n=n.toLowerCase()))return!0;if("false"===n)return!1}return Boolean(n)}function Ks(t){return"string"==typeof t?""===t?NaN:Number(t):"boolean"==typeof t||null==t||t instanceof Date||"number"!=typeof Number(t)&&!t?NaN:Number(t)}function $s(t){var n=Ks(t);if(y(n))throw new v("Expected a valid number.");return n}function to(t){return"string"==typeof t?t:""}function no(t,n){return M(t)?function(t,n){if(!M(t))return[];for(var i=0|t.length,r=new Array(i),e=0;e<i;e++)r[e]=n(t[e]);return r}(t,n):n(t)}function io(t){var n=t.Ha.map(function(t){return t.Na}),i=new qs(t,n);return n.item=function(n){n|=0;var i=t.Ba(n);return i&&i.Na||void 0},n.addEventListener=function(t,n){i.Iu(t,n)},n.removeEventListener=function(t,n){i.Cu(t,n)},n}function ro(){}function eo(t){var n,i={get activeQuality(){return t.tc&&t.tc.Na},get enabled(){return t.nc},set enabled(n){t.nc=Js(n)},get id(){return t.ic},get uid(){return t.rc},get kind(){return t.ec},get label(){return t.uc},set label(n){t.uc=to(n)},get language(){return t.sc},get qualities(){return t.oc.Na},set targetQuality(n){var i;(i=n?function(t,n){for(var i=[],r=0,e=t.oc.Ha;r<e.length;r++)for(var u=e[r],s=0;s<n.length;s++){var o=n[s];u.Na===o&&i.push(u)}return i}(t,L(n)?n:[n]):[]).length>0?t.ac=i:t.ac=void 0},get targetQuality(){if(t.ac)return 1===t.ac.length?t.ac[0].Na:t.ac.map(function(t){return t.Na})},addEventListener:function(t,i){t=no(t,to),n.Iu(t,i)},removeEventListener:function(t,i){t=no(t,to),n.Cu(t,i)}};return n=new qs(t,i),l.defineProperty(i,"constructor",{value:ro}),i}function uo(){}function so(t){var n=io(t);return l.defineProperty(n,"constructor",{value:uo}),n}var oo,ao=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.Da=function(){return so(this)},n}(Vs);function co(t){if("string"==typeof t)switch(t=t.toLowerCase()){case oo.cc:case oo.hc:case oo.fc:return t}else if("number"==typeof t)switch(t){case 0:return oo.cc;case 1:return oo.hc;case 2:return oo.fc}return oo.cc}function ho(){}function fo(t){var n,i={get kind(){return t.ec},get label(){return t.uc},set label(n){t.uc=to(n)},get language(){return t.sc},get id(){return t.ic},get uid(){return t.rc},get inBandMetadataTrackDispatchType(){return t.vc},get mode(){return t.dc},get type(){return t.ru},set mode(n){n!==oo.fc&&n!==oo.hc&&n!==oo.cc||(t.dc=n)},get readyState(){return _o(t.lc)},get cues(){return t.dc===oo.cc?null:t._c.Na},get activeCues(){return t.dc===oo.cc?null:t.gc.Na},get src(){return t.wc||""},addEventListener:function(t,i){t=no(t,to),n.Iu(t,i)},removeEventListener:function(t,i){t=no(t,to),n.Cu(t,i)}};return n=new qs(t,i),l.defineProperty(i,"constructor",{value:ho}),i}function vo(){}function lo(t){var n=io(t);return l.defineProperty(n,"constructor",{value:vo}),n}function _o(t){return t}!function(t){t.cc="disabled",t.hc="hidden",t.fc="showing"}(oo||(oo={}));var go=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.Da=function(){return lo(this)},n}(Vs);function wo(t,n){var i={};for(var r in t)l.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof l.getOwnPropertySymbols){var e=0;for(r=l.getOwnPropertySymbols(t);e<r.length;e++)n.indexOf(r[e])<0&&l.prototype.propertyIsEnumerable.call(t,r[e])&&(i[r[e]]=t[r[e]])}return i}var yo,mo,po,ko="titanium",Ao="conax",bo="ezdrm",To="irdeto",Eo="vudrm",So="verimatrix",Ro="keyos",Io="drmtoday",No="expressplay",Do="azure",Co="xstream",Oo="vimond",Po="axinom",xo="uplynk",Bo="comcast",Lo="custom";function Mo(t){return B(t.token&&t.deviceId)}function Uo(t){var n,i=null===(n=t.fairplay)||void 0===n?void 0:n.headers;return void 0!==i&&B(i.PreAuthorization)}function Fo(t){var n=t;return Mo(n)&&""!==n.token&&""!==n.deviceId&&!Uo(n)}(yo=n.ErrorCode||(n.ErrorCode={}))[yo.CONFIGURATION_ERROR=1e3]="CONFIGURATION_ERROR",yo[yo.LICENSE_ERROR=2e3]="LICENSE_ERROR",yo[yo.LICENSE_INVALID_DOMAIN=2001]="LICENSE_INVALID_DOMAIN",yo[yo.LICENSE_INVALID_SOURCE=2002]="LICENSE_INVALID_SOURCE",yo[yo.LICENSE_EXPIRED=2003]="LICENSE_EXPIRED",yo[yo.SOURCE_INVALID=3e3]="SOURCE_INVALID",yo[yo.SOURCE_NOT_SUPPORTED=3001]="SOURCE_NOT_SUPPORTED",yo[yo.MANIFEST_LOAD_ERROR=4e3]="MANIFEST_LOAD_ERROR",yo[yo.MANIFEST_CORS_ERROR=4001]="MANIFEST_CORS_ERROR",yo[yo.MANIFEST_PARSE_ERROR=4002]="MANIFEST_PARSE_ERROR",yo[yo.MEDIA_NOT_SUPPORTED=5e3]="MEDIA_NOT_SUPPORTED",yo[yo.MEDIA_LOAD_ERROR=5001]="MEDIA_LOAD_ERROR",yo[yo.MEDIA_DECODE_ERROR=5002]="MEDIA_DECODE_ERROR",yo[yo.MEDIA_AVPLAYER_ERROR=5003]="MEDIA_AVPLAYER_ERROR",yo[yo.MEDIA_ABORTED=5004]="MEDIA_ABORTED",yo[yo.NETWORK_ERROR=6e3]="NETWORK_ERROR",yo[yo.NETWORK_TIMEOUT=6001]="NETWORK_TIMEOUT",yo[yo.CONTENT_PROTECTION_ERROR=7e3]="CONTENT_PROTECTION_ERROR",yo[yo.CONTENT_PROTECTION_NOT_SUPPORTED=7001]="CONTENT_PROTECTION_NOT_SUPPORTED",yo[yo.CONTENT_PROTECTION_CONFIGURATION_MISSING=7002]="CONTENT_PROTECTION_CONFIGURATION_MISSING",yo[yo.CONTENT_PROTECTION_CONFIGURATION_INVALID=7003]="CONTENT_PROTECTION_CONFIGURATION_INVALID",yo[yo.CONTENT_PROTECTION_INITIALIZATION_INVALID=7004]="CONTENT_PROTECTION_INITIALIZATION_INVALID",yo[yo.CONTENT_PROTECTION_CERTIFICATE_ERROR=7005]="CONTENT_PROTECTION_CERTIFICATE_ERROR",yo[yo.CONTENT_PROTECTION_CERTIFICATE_INVALID=7006]="CONTENT_PROTECTION_CERTIFICATE_INVALID",yo[yo.CONTENT_PROTECTION_LICENSE_ERROR=7007]="CONTENT_PROTECTION_LICENSE_ERROR",yo[yo.CONTENT_PROTECTION_LICENSE_INVALID=7008]="CONTENT_PROTECTION_LICENSE_INVALID",yo[yo.CONTENT_PROTECTION_KEY_EXPIRED=7009]="CONTENT_PROTECTION_KEY_EXPIRED",yo[yo.CONTENT_PROTECTION_KEY_MISSING=7010]="CONTENT_PROTECTION_KEY_MISSING",yo[yo.CONTENT_PROTECTION_OUTPUT_RESTRICTED=7011]="CONTENT_PROTECTION_OUTPUT_RESTRICTED",yo[yo.CONTENT_PROTECTION_INTERNAL_ERROR=7012]="CONTENT_PROTECTION_INTERNAL_ERROR",yo[yo.SUBTITLE_LOAD_ERROR=8e3]="SUBTITLE_LOAD_ERROR",yo[yo.SUBTITLE_CORS_ERROR=8001]="SUBTITLE_CORS_ERROR",yo[yo.SUBTITLE_PARSE_ERROR=8002]="SUBTITLE_PARSE_ERROR",yo[yo.VR_PLATFORM_UNSUPPORTED=9e3]="VR_PLATFORM_UNSUPPORTED",yo[yo.VR_PRESENTATION_ERROR=9001]="VR_PRESENTATION_ERROR",yo[yo.AD_ERROR=1e4]="AD_ERROR",yo[yo.AD_BLOCKER_DETECTED=10001]="AD_BLOCKER_DETECTED",yo[yo.FULLSCREEN_ERROR=11e3]="FULLSCREEN_ERROR",(mo=n.ErrorCategory||(n.ErrorCategory={}))[mo.CONFIGURATION=1]="CONFIGURATION",mo[mo.LICENSE=2]="LICENSE",mo[mo.SOURCE=3]="SOURCE",mo[mo.MANIFEST=4]="MANIFEST",mo[mo.MEDIA=5]="MEDIA",mo[mo.NETWORK=6]="NETWORK",mo[mo.CONTENT_PROTECTION=7]="CONTENT_PROTECTION",mo[mo.SUBTITLE=8]="SUBTITLE",mo[mo.VR=9]="VR",mo[mo.AD=10]="AD",mo[mo.FULLSCREEN=11]="FULLSCREEN",function(t){t.fromCode=function(n){var i=_.floor(n/1e3);if(i in t)return i;throw new d("Invalid error code: "+n)}}(n.ErrorCategory||(n.ErrorCategory={})),function(t){t.yc=!1,t.mc=!1,t.pc=!1,t.kc=!1,t.LOG_ADS_DETAILS=!1,t.LOG_CHROMECAST_DETAILS=!1,t.LOG_CUSTOM_DRM=!1,t.LOG_BUFFERING_VIDEO_MAIN=!1,t.LOG_BUFFERING_VIDEO_SELECTION=!1,t.LOG_BUFFERING_AUDIO_MAIN=!1,t.LOG_BUFFERING_AUDIO_SELECTION=!1,t.Ac=!1}(po||(po={}));var Vo=function(t){function i(n,i,r){var e;return(e=t.call(this,i,r)||this).code=n,e}return ut(i,t),b(i,[{key:"name",get:function(){return"THEOplayerError"}},{key:"category",get:function(){return n.ErrorCategory.fromCode(this.code)}}]),i}(at),Ho=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r)||this).url=e,c.status=u,c.statusText=s,c.response=o,c.systemCode=a,c}return ut(n,t),b(n,[{key:"name",get:function(){return"ContentProtectionError"}}]),n}(Vo);var qo,Wo=function(){function t(t,n,i){this.bc=t,this.Ns=n,this.Tc=i}return t.prototype.Ec=function(t){return function(t){var n=t.onCertificateRequest;if(void 0!==n&&"function"!=typeof n)throw new d("ContentProtectionIntegration.onCertificateRequest is not a function.");var i=t.onCertificateResponse;if(void 0!==i&&"function"!=typeof i)throw new d("ContentProtectionIntegration.onCertificateResponse is not a function.");var r=t.onLicenseRequest;if(void 0!==r&&"function"!=typeof r)throw new d("ContentProtectionIntegration.onLicenseRequest is not a function.");var e=t.onLicenseResponse;if(void 0!==e&&"function"!=typeof e)throw new d("ContentProtectionIntegration.onLicenseResponse is not a function.");var u=t.extractFairplayContentId;if(void 0!==u&&"function"!=typeof u)throw new d("ContentProtectionIntegration.extractFairplayContentId is not a function.");return t}(this.Tc.build(t))},b(t,[{key:"Sc",get:function(){return this.bc}},{key:"io",get:function(){return this.Ns}}]),t}();!function(t){t.FAILED="FAILED",t.OVERRIDDEN="OVERRIDDEN",t.SUCCEEDED="SUCCEEDED"}(qo||(qo={}));var Xo=function(){function t(){this.Rc=[]}var i=t.prototype;return i.registerContentProtectionIntegration=function(t,i,e){switch(this.Ic(t,i,e)){case qo.FAILED:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The keySystem should be 'widevine', 'playready' or 'fairplay', but was "+i+".");case qo.OVERRIDDEN:var u=aa(i);r.la("Warning: Overwriting an earlier registered integration for "+t+" and "+u+".");break;case qo.SUCCEEDED:aa(i);0}},i.Ic=function(t,n,i){var r=aa(n);if(!r)return qo.FAILED;for(var e=qo.SUCCEEDED,u=0,s=this.Rc.slice();u<s.length;u++){var o=s[u];o.Sc===t&&o.io===r&&(e=qo.OVERRIDDEN,An(this.Rc,o))}return this.Rc.push(new Wo(t,r,i)),e},i.Nc=function(t,n){return void 0!==this.Dc(t,n)},i.Cc=function(t,n,i){var r=this.Dc(t,n);if(!r)throw v("No ContentProtectionIntegrationInit was found for integration id "+t+" and key system "+n);return r.Ec(i)},i.Dc=function(t,n){for(var i=0,r=this.Rc;i<r.length;i++){var e=r[i];if(e.Sc===t&&(!n||e.io===n))return e}},t}();Xo.Oc=new Xo;var Go={playready:"https://pr-keyos.licensekeyserver.com/core/rightsmanager.asmx",widevine:"https://wv-keyos.licensekeyserver.com/",fairplay:"https://fp-keyos.licensekeyserver.com/getkey"};function zo(t){if(!t)return!0;var n=t.licenseAcquisitionURL,i=t.certificateURL,r=t.keys,e=t.headers,u=t.useCredentials,s=t.queryParameters,o=t.certificateRequestProcessor,a=t.certificateResponseProcessor,c=t.licenseRequestProcessor,h=t.licenseResponseProcessor;return!(n||i||r||e||u||s||o||a||c||h)}function jo(t){return t&&void 0!==t.licenseAcquisitionURL}var Yo,Qo=jo,Zo=jo;function Jo(t){if(!t)return!0;if(na(t))return!1;var n=t.fairplay,i=t.playready,r=t.widevine,e=t.clearkey,u=t.aes128;return zo(n)&&zo(i)&&zo(r)&&zo(e)&&zo(u)}function Ko(t){var n=Fo(t),i=function(t){var n,i=t;return Uo(i)&&""!==(null===(n=i.fairplay)||void 0===n?void 0:n.headers.PreAuthorization)&&!Mo(i)}(t);return(!n||!i)&&(n||i)}function $o(t){return t.integration===To}function ta(t){var n=t;if(!n)return!1;if(Jo(n))return!1;var i=n.fairplay,r=n.playready,e=n.widevine,u=n.clearkey;if(na(t))return!0;if(i&&!function(t){var n=t;return n&&(void 0!==n.certificateURL||void 0!==n.certificate)}(i))return!1;if(r&&!Qo(r))return!1;if(e&&!Zo(e))return!1;if(u&&!function(t){var n=t;return n&&(void 0!==n.licenseAcquisitionURL||void 0!==n.keys)}(u))return!1;if(n.integration){if(Xo.Oc.Nc(n.integration))return!0;switch(n.integration){case ko:if(!function(t){return t.integration===ko&&(ia(t)||ra(t))}(t))return!1;break;case Eo:if(!ea(t))return!1;break;case So:if(!function(t){return t.integration===So}(t))return!1;break;case To:if(!$o(t))return!1;break;case Ao:if(!Ko(t))return!1;break;case bo:if(!function(t){return t.integration===bo}(t))return!1;break;case Ro:if(!na(t))return!1;break;case Io:if(!function(t){var n=t;return n.integration===Io&&(void 0!==n.token||function(t){return void 0!==t.merchant&&void 0!==t.sessionId&&void 0!==t.userId}(n))}(t))return!1;break;case No:if(!function(t){return t.integration===No}(t))return!1;break;case Co:if(!ua(t))return!1;break;case Oo:if(!function(t){return t.integration===Oo}(t))return!1;break;case Po:if(!sa(t))return!1;break;case Do:if(!function(t){var n=t;return n.integration===Do&&void 0!==n.token}(t))return!1;break;case xo:if(!function(t){return t.integration===xo}(t))return!1;break;case Bo:if(!function(t){var n=t;return n&&B(n.releasePid)&&B(n.accountId)&&B(n.token)}(t))return!1;break;case Lo:return!0;default:return!1}}return!0}function na(t){return t.integration===Ro}function ia(t){return void 0!==t.authToken}function ra(t){var n=t;return void 0!==n.accountName&&void 0!==n.customerName&&void 0!==n.portalId}function ea(t){var n=t;return n.integration===Eo&&void 0!==n.token}function ua(t){var n=t;return n&&n.integration===Co&&V(n.ticketAcquisitionURL)&&V(n.streamId)}function sa(t){var n=t;return n.integration===Po&&void 0!==n.token}function oa(t,n){var i,r,e,u=n[t],s=null!==(i=null==u?void 0:u.licenseAcquisitionURL)&&void 0!==i?i:Go[t],o=null!==(r=null==u?void 0:u.customdata)&&void 0!==r?r:n.customdata,a=o?{customData:o}:{},c=Et(Et({},null!==(e=null==u?void 0:u.headers)&&void 0!==e?e:{}),a),h=null!=u?u:{};h.customdata;return Et(Et({},wo(h,["customdata"])),{licenseAcquisitionURL:s,headers:c})}function aa(t){switch(t.toLowerCase()){case"widevine":case jt:return jt;case"playready":case Xt:return Xt;case"fairplay":case Qt:return Qt}}function ca(t){if(t&&U(t))return Et(Et({},t),{integration:ha(t.integration),fairplay:wa(t.fairplay),widevine:fa(t.widevine),playready:va(t.playready),clearkey:ya(t.clearkey),aes128:ma(t.aes128),integrationParameters:pa(t.integrationParameters),preferredKeySystems:ka(t.preferredKeySystems)})}function ha(t){if(V(t))return t}function fa(t){if(t&&U(t))return{persistentState:da(t.persistentState),distinctiveIdentifier:da(t.distinctiveIdentifier),audioRobustness:la(t.audioRobustness),videoRobustness:la(t.videoRobustness),licenseAcquisitionURL:V(t.licenseAcquisitionURL)?t.licenseAcquisitionURL:void 0,licenseType:_a(t.licenseType),headers:t.headers,useCredentials:!!H(t.useCredentials)&&t.useCredentials,queryParameters:t.queryParameters,certificate:V(t.certificate)||_r(t.certificate)?t.certificate:void 0,certificateRequestProcessor:ga(t.certificateRequestProcessor),certificateResponseProcessor:ga(t.certificateResponseProcessor),licenseRequestProcessor:ga(t.licenseRequestProcessor),licenseResponseProcessor:ga(t.licenseResponseProcessor)}}function va(t){if(t){var n=fa(t);if(n){var i=V(t.customData)?t.customData:void 0;return Et(Et({},n),{customData:i})}}}function da(t){switch(null==t?void 0:t.toLowerCase()){case"required":return"required";case"optional":return"optional";case"not-allowed":return"not-allowed"}}function la(t){switch(t){case"HW_SECURE_ALL":return"HW_SECURE_ALL";case"HW_SECURE_DECODE":return"HW_SECURE_DECODE";case"HW_SECURE_CRYPTO":return"HW_SECURE_CRYPTO";case"SW_SECURE_DECODE":return"SW_SECURE_DECODE";case"SW_SECURE_CRYPTO":return"SW_SECURE_CRYPTO";case"":return""}}function _a(t){switch(null==t?void 0:t.toLowerCase()){case"temporary":return"temporary";case"persistent":return"persistent"}}function ga(t){if("function"==typeof t)return t}function wa(t){if(t){var n=fa(t);if(n){var i=V(t.certificateURL)?t.certificateURL:void 0;return Et(Et({},n),{certificateURL:i})}}}function ya(t){if(t){var n=fa(t);if(n){var i=L(t.keys)?t.keys.map(function(t){return function(t){if(!t||!U(t))return;var n=t.id,i=t.value;if(!V(n)||!V(i))return;return{id:n,value:i}}(t)}).filter(B):void 0;return Et(Et({},n),{keys:i})}}}function ma(t){if(U(t))return{useCredentials:H(t.useCredentials)?t.useCredentials:void 0}}function pa(t){if(U(t))return t}function ka(t){return t&&L(t)?t.map(function(t){return aa(t)}).filter(B):[jt,Xt,Qt]}!function(t){t.DEFAULT="",t.THEO="theo",t.GOOGLE_IMA="google-ima",t.SPOTX="spotx",t.FREEWHEEL="freewheel"}(Yo||(Yo={}));var Aa,ba,Ta,Ea,Sa,Ra,Ia,Na=function(){function t(){this.Pc=[]}var n=t.prototype;return n.xc=function(t){var n=this.Bc.filter(function(n){return n.Lc(t)});if(n.length>1)0;else if(0===n.length)throw v("Unknown ad integration: "+t.integration);return n[0]||null},n.Mc=function(t){this.Pc.push(t)},b(t,[{key:"Bc",get:function(){return this.Pc}}]),t}();Na.$t=new Na,function(t){t.Uc="PLAYING",t.Fc="PAUSED",t.Vc="SEEK",t.Hc="STALLED",t.qc="FAILED",t.Wc="INITIAL_BUFFERING",t.Xc="NO_ACCESS"}(Aa||(Aa={})),function(t){t.Gc="HTTP_REQUEST_STATUS_CODE_1XX",t.zc="HTTP_REQUEST_STATUS_CODE_2XX",t.jc="HTTP_REQUEST_STATUS_CODE_3XX",t.Yc="HTTP_REQUEST_STATUS_CODE_4XX",t.Qc="HTTP_REQUEST_STATUS_CODE_5XX",t.Zc="BUFFER_LENGTH",t.Jc="BYTES_RECEIVED",t.Kc="SEGMENT_READ_BITRATE",t.$c="SEGMENT_PROFILE_BITRATE",t.th="NUMBER_OF_FRAMES_DROPPED",t.nh="PLAYBACK_POSITION",t.ih="NUMBER_OF_FRAMES_DECODED",t.rh="PLAYBACK_DELTA_TO_ORIGIN",t.eh="STREAM_DELTA_TO_ORIGIN",t.uh="ORIGIN_TIMESTAMP"}(ba||(ba={})),function(t){t.sh="MANIFEST_URI",t.oh="ASSET_DURATION",t.ah="NUMBER_OF_CONTENT_PROFILES",t.hh="CDN",t.fh="CONTENT_TITLE",t.vh="SERVICE_NAME",t.dh="CONTENT_TYPE",t.lh="CONTENT_DESCRIPTION"}(Ta||(Ta={})),function(t){t._h="shutdown_normal_shutdown"}(Ea||(Ea={})),function(t){t.gh="session/",t.wh="internalError/",t.yh="drmError/",t.mh="caError/",t.ph="networkError/"}(Sa||(Sa={})),function(t){t.kh="userAction",t.Ah="endOfStreamReached"}(Ra||(Ra={})),function(t){t.bh="contentprotectionerror",t.Th="contentprotectionsuccess",t.Eh="currentsourcechange",t.Sh="destroy",t.Rh="durationchange",t.Ih="emptied",t.Nh="encrypted",t.Dh="ended",t.Ch="loadstart",t.Oh="manifestupdate",t.Ph="nosupportedrepresentationfound",t.xh="pause",t.Bh="play",t.Lh="progress",t.Mh="ratechange",t.Uh="representationchange",t.Fh="resize",t.Vh="seeked",t.Hh="seeking",t.qh="segmentnotfound",t.Wh="sourcechange",t.Xh="timeupdate",t.Gh="volumechange",t.zh="jh",t.Yh="metricschange"}(Ia||(Ia={}));var Da=function(t){function n(n,i){var r;return(r=t.call(this)||this).qa=_.floor(n.length/2),r.Qh=n,r.Zh=i||function(t){for(var n=new Array(2*t),i=0,r=0;i<t;i+=1,r+=2)n[r]=!0,n[r+1]=!1;return n}(r.qa),r}ut(n,t);var i=n.prototype;return i.Jh=function(t){return this.Qh[2*t]},i.Kh=function(t){return this.Zh[2*t]},i.$h=function(t){return this.Qh[2*t+1]},i.tf=function(t){return this.Zh[2*t+1]},b(n,[{key:"nf",get:function(){return this.Qh.slice()}}]),n}(function(){function t(){}var n=t.prototype;return n.if=function(t,n){return 0===this.rf(t,n)},n.ef=function(t,n){return this.rf(t,n)>0},n.uf=function(t,n){return this.rf(t,n)>=0},n.sf=function(t,n){return this.rf(t,n)<0},n.af=function(t,n){return this.rf(t,n)<=0},n.cf=function(t,n){return this.sf(t,n)?t:n},n.hf=function(t,n){return this.ef(t,n)?t:n},n.ff=function(t,n,i){return i?this.af(t,n):this.sf(t,n)},n.vf=function(t,n,i){return this.ff(t,n,i)},n.df=function(t,n,i){return this.ff(n,t,i)},n.lf=function(){var t=this;return{get length(){return t.qa},start:function(n){var i=0|n;return t._f(i),t.gf(t.Jh(i))},end:function(n){var i=0|n;return t._f(i),t.gf(t.$h(i))}}},n.wf=function(){for(var t=new Array(2*this.qa),n=new Array(2*this.qa),i=0;i<this.qa;i++)t[2*i]=this.Jh(i),t[2*i+1]=this.$h(i),n[2*i]=!0,n[2*i+1]=!0;return this.yf(t,n)},n._f=function(t){if(t<0)throw new v("The index provided ("+t+") must be non-negative");if(t>=this.qa)throw new v("The index provided ("+t+") is greater than the maximum bound ("+this.qa+")")},n.mf=function(t){if(0===this.qa)return this.pf();if(this.kf(t))return t;if(this.af(t,this.Jh(0)))return this.Jh(0);if(this.uf(t,this.$h(this.qa-1)))return this.$h(this.qa-1);for(var n,i=this.Af(),r=0;r<this.qa;r++){var e=this.Jh(r),u=this.bf(e,t);this.sf(u,i)&&(n=e,i=u);var s=this.$h(r),o=this.bf(this.$h(r),t);this.sf(o,i)&&(n=s,i=o)}return n},n.Tf=function(t){for(var n=0,i=0,r=[],e=[];n<this.qa&&i<t.qa;){var u=this.Jh(n),s=this.$h(n),o=this.Kh(n),a=this.tf(n),c=t.Jh(i),h=t.$h(i),f=t.Kh(i),v=t.tf(i),d=this.hf(u,c),l=this.cf(s,h),_=void 0;_=this.if(u,c)?o||f:this.if(d,u)?o:f;var g=void 0;g=this.if(s,h)?a||v:this.if(l,s)?a:v,(this.sf(d,l)||_&&g&&this.if(d,l))&&(r.push(d,l),e.push(_,g));var w=this.rf(this.$h(n),t.$h(i));0===w?(n+=1,i+=1):w<0?n+=1:i+=1}return this.yf(r,e)},n.Ef=function(){var t=this.Sf(),n=t.qa;if(0===n)return this.yf([t.Rf(),t.Af()],[!1,!1]);var i=[],r=[],e=t.Jh(0);t.if(e,t.Rf())||(i.push(t.Rf(),e),r.push(!1,!t.Kh(0)));for(var u=0;u<n-1;u++)i.push(t.$h(u),t.Jh(u+1)),r.push(!t.tf(u),!t.Kh(u+1));var s=t.$h(n-1);return t.if(s,t.Af())||(i.push(s,t.Af()),r.push(!t.tf(n-1),!1)),t.yf(i,r)},n.If=function(t){for(var n=0,i=0,r=this.qa,e=t.qa,u=new Array(2*(r+e)),s=new Array(2*(r+e)),o=0;n<r&&i<e;){var a=this.Jh(n),c=this.$h(n),h=t.Jh(i),f=t.$h(i);this.sf(a,h)||this.if(a,h)&&this.sf(c,f)?(u[o]=a,u[o+1]=c,s[o]=this.Kh(n),s[o+1]=this.tf(n),n++):(u[o]=h,u[o+1]=f,s[o]=t.Kh(i),s[o+1]=t.tf(i),i++),o+=2}for(;n<r;)u[o]=this.Jh(n),u[o+1]=this.$h(n),s[o]=this.Kh(n),s[o+1]=this.tf(n),n++,o+=2;for(;i<e;)u[o]=t.Jh(i),u[o+1]=t.$h(i),s[o]=t.Kh(i),s[o+1]=t.tf(i),i++,o+=2;return this.yf(u,s)},n.Nf=function(t){void 0===t&&(t=this.pf());var n=this.qa;if(n<2)return this;for(var i=[],r=[],e=this.Jh(0),u=this.$h(0),s=this.Kh(0),o=this.tf(0),a=1;a<n;a++){var c=this.Jh(a),h=this.$h(a),f=this.Kh(a),v=this.tf(a);this.sf(e,c)&&this.ef(u,h)||(this.if(e,c)&&(s=f=s||f),this.if(u,h)&&(o=v=o||v),this.vf(c,this.Df(u,t),o||f)?(u=h,o=v):(i.push(e,u),r.push(s,o),e=c,u=h,s=f,o=v))}return i.push(e,u),r.push(s,o),this.yf(i,r).Sf()},n.Sf=function(){for(var t=[],n=[],i=0;i<this.qa;i++){var r=this.Jh(i),e=this.$h(i),u=this.Kh(i),s=this.tf(i);this.if(r,e)?(u||s)&&(t.push(r,e),n.push(!0,!0)):(t.push(r,e),n.push(u,s))}return this.yf(t,n)},n.Cf=function(t){return this.qa?t.qa?this.If(t).Nf():this:t},n.Of=function(t){var n=this.Sf(),i=t.Sf(),r=n.Ef(),e=i.Ef(),u=r.Tf(i),s=e.Tf(n);return u.Cf(s)},n.$u=function(t){for(var n=[],i=[],r=0;r<this.qa;r++){var e=this.Df(this.Jh(r),t),u=this.Df(this.$h(r),t);n.push(e,u),i.push(this.Kh(r),this.tf(r))}return this.yf(n,i)},n.Pf=function(t){return this.Sf().Tf(t.Sf().Ef())},n.kf=function(t,n){return this.xf(t,n)>=0},n.Bf=function(t,n,i,r,e){return this.Lf(t,n,i,r,e)>=0},n.Mf=function(t,n,i){return this.Uf(t,n,i)>=0},n.Ff=function(t){if(t.qa!==this.qa)return!1;for(var n=0;n<this.qa;n++)if(!this.if(this.Jh(n),t.Jh(n))||!this.if(this.$h(n),t.$h(n))||this.Kh(n)!==t.Kh(n)||this.tf(n)!==t.tf(n))return!1;return!0},n.Vf=function(t){for(var n=[],i=[],r=0;r<this.qa;r++)t(this.Jh(r),this.$h(r))&&(n.push(this.Jh(r),this.$h(r)),i.push(this.Kh(r),this.tf(r)));return this.yf(n,i)},n.Uf=function(t,n,i){void 0===i&&(i=this.pf());for(var r=this.Hf(t,i),e=this.Df(n,i),u=0;u<this.qa;u+=1)if(this.df(e,this.Jh(u),this.Kh(u))&&this.vf(r,this.$h(u),this.tf(u)))return u;return-1},n.Lf=function(t,n,i,r,e){void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===e&&(e=this.pf());for(var u=this.Df(t,e),s=this.Hf(n,e),o=0;o<this.qa;o+=1)if(this.df(u,this.Jh(o),this.Kh(o)||!i)&&this.vf(s,this.$h(o),this.tf(o)||!r))return o;return-1},n.xf=function(t,n){return this.Lf(t,t,!0,!0,n)},n.qf=function(t,n){void 0===n&&(n=this.pf());for(var i=this.Df(t,n),r=this.qa-1;r>=0;r-=1)if(this.df(i,this.Jh(r),this.Kh(r)))return r;return-1},n.Wf=function(t,n){void 0===n&&(n=this.pf());for(var i=this.Hf(t,n),r=0;r<this.qa;r+=1)if(this.vf(i,this.$h(r),this.tf(r)))return r;return-1},n.Xf=function(t){return this._f(t),this.yf([this.Jh(t),this.$h(t)],[this.Kh(t),this.tf(t)])},n.Gf=function(t,n){var i=this.xf(t,n);return i<0?void 0:this.Xf(i)},b(t,[{key:"zf",get:function(){for(var t=this.pf(),n=0;n<this.qa;n++){var i=this.Hf(this.$h(n),this.Jh(n));t=this.Df(t,i)}return t}}]),t}()),Ca=function(t){function n(n,i){return t.call(this,n,i)||this}ut(n,t);var i=n.prototype;return i.rf=function(t,n){return t<n?-1:t===n?0:1},i.Df=function(t,n){return t+n},i.Hf=function(t,n){return t-n},i.bf=function(t,n){return _.abs(t-n)},i.pf=function(){return 0},i.Af=function(){return 1/0},i.Rf=function(){return-1/0},n.jf=function(t){for(var i=[],r=0;r<t.length;r++)i.push(t.start(r),t.end(r));return new n(i)},n.Yf=function(t){return new n([t,t],[!0,!0])},i.yf=function(t,i){return new n(t,i)},i.gf=function(t){return t},n.Qf=function(){return Oa},n}(Da),Oa=new Ca([]),Pa=function(){function t(){this.Zf=Rt()}var n=t.prototype;return n.Zu=function(t){this.Zf.delete(t)},n.Jf=function(){this.Zf.clear()},n.ju=function(t){return this.Zf.get(t)},n.Kf=function(t,n){this.Zf.set(t,n)},t}(),xa=function(){function t(){}return t.$f=function(){return t.$t||(t.$t=Ua.eo()?new Ua:new Pa),t.$t},t.Zu=function(n){t.$f().Zu(n)},t.Jf=function(){t.$f().Jf()},t.ju=function(n){return t.$f().ju(n)},t.Kf=function(n,i){t.$f().Kf(n,i)},t}();xa.$t=void 0;var Ba,La,Ma,Ua=function(n){function i(){return n.apply(this,arguments)||this}ut(i,n),i.eo=function(){try{return t.sessionStorage.setItem("foobar","foobar"),t.sessionStorage.removeItem("foobar"),!0}catch(t){return!1}};var r=i.prototype;return r.Zu=function(n){t.sessionStorage.removeItem(n)},r.Jf=function(){t.sessionStorage.clear()},r.ju=function(n){return t.sessionStorage[n]},r.Kf=function(n,i){t.sessionStorage[n]=i},i}(xa),Fa=function(){function t(){}return t.tv=function(n,i){var r=t.nv(n,i);return r?t.rv(r):0},t.ev=function(){return o.connection&&o.connection.effectiveType||"default"},t.uv=function(){return o.connection&&o.connection.type||"unknown"},t.sv=function(t){o.connection&&o.connection.addEventListener&&o.connection.addEventListener("change",t)},t.ov=function(t){o.connection&&o.connection.removeEventListener&&o.connection.removeEventListener("change",t)},t.nv=function(n,i){var r=xa.ju(i),e=r&&JSON.parse(r);if(e&&e[n])return t.av(e,n,i)},t.rv=function(t){var n=t.availableBandwidth;return n||0},t.av=function(n,i,r){if(!t.cv(n,i))return n[i];t.hv(n,i,r)},t.hv=function(t,n,i){delete t[n],xa.Kf(i,JSON.stringify(t))},t.cv=function(t,n){var i=t[n].storedTimestamp;if(!i)return!1;var r=new Date(i),e=(new Date).getTime();return r.setMonth(r.getMonth()+1)<=e},t.fv=function(t,n,i,r){var e;return Et(Et({},t),((e={})[n]={availableBandwidth:i,storedTimestamp:r},e))},t.vv=function(n){var i=t.ev();t.dv(i,"theoplayer-stored-network-info",n,rt())},t.dv=function(n,i,r,e){var u=xa.ju(i),s=u?JSON.parse(u):void 0,o=t.fv(s,n,r,e);xa.Kf(i,JSON.stringify(o))},t.lv=function(){var n=t.ev();return t.tv(n,"theoplayer-stored-network-info")},t}(),Va="agama";function Ha(t){return function(t){switch(t){case Ba.NONE:case Ba.HORIZONTAL:case Ba.VERTICAL:return!0;default:return!1}}(t)?t:Ba.NONE}function qa(t){switch(t){case"":return Ba.NONE;case"horizontal":return Ba.HORIZONTAL;case"vertical":return Ba.VERTICAL;default:throw new d}}function Wa(t,n,i){var r=function(t,n){var i=lf._v;t.useCredentials?i=lf.gv:t.crossOrigin&&(i=Vf(t.crossOrigin));i===lf._v&&n&&n.vr&&n.vr[360]&&(i=lf.wv);return{useCredentials:i===lf.gv,crossOrigin:i}}(t,n),e=r.useCredentials;return{crossOrigin:r.crossOrigin,useCredentials:e,liveOffset:B(t.liveOffset)?t.liveOffset:i&&B(i.liveOffset)?i.liveOffset:void 0,timeServer:B(t.timeServer)?t.timeServer:n&&B(n.timeServer)?n.timeServer:void 0,hlsDateRange:B(t.hlsDateRange)?Boolean(t.hlsDateRange):!(!i||!B(i.hlsDateRange))&&Boolean(i.hlsDateRange),experimentalRendering:Boolean(t.experimentalRendering),nativeUiRendering:Boolean(t.nativeUiRendering),lowLatency:Boolean(t.lowLatency),useNativePlayback:Boolean(t.useNativePlayback)}}function Xa(t){if(null!==t)return t}function Ga(t){var n,i={apiKey:t.apiKey,integration:t.integration,streamActivityMonitorID:Xa(t.streamActivityMonitorID),adTagParameters:U(t.adTagParameters)?t.adTagParameters:{},authToken:Xa(t.authToken)};if("vod"===(null==t?void 0:t.availabilityType)||(n=t,Boolean(n.videoID&&n.contentSourceID))){var r=t.videoID,e=t.contentSourceID;return r?e?Et(Et({},i),{availabilityType:"vod",videoID:r,contentSourceID:e}):void tt("A VOD DAI configuration was provided without valid contentSourceID which is required."):void tt("A VOD DAI configuration was provided without valid videoID which is required.")}if("live"===(null==t?void 0:t.availabilityType)||function(t){return Boolean(t.assetKey)}(t)){var u=t.assetKey;return u?Et(Et({},i),{availabilityType:"live",assetKey:u}):void tt("A Live DAI configuration was provided without valid assetKey which is required.")}tt("A DAI configuration was provided without a valid availabilityType which is required.")}function za(t){switch(t.integration){case"google-dai":return Ga(t);case"imagine":return{integration:t.integration};case"yospace":return function(t){return{integration:t.integration}}(t);default:return{integration:t.integration}}}function ja(t,n,i){var r=Wa(t,n,i),e=Xa(t.src),u=t.type?t.type:t.src?Nf(t.src):void 0,s=function(t,n){var i;i=B(t.contentProtection)?t.contentProtection:B(t.drm)?t.drm:B(n)&&B(n.contentProtection)?n.contentProtection:B(n)&&B(n.drm)?n.drm:void 0;return Ya(i)}(t,n),o=B(t.ssai)?za(t.ssai):void 0;return Et(Et({},r),{src:e,type:u,contentProtection:s,ssai:o,integrationData:void 0})}function Ya(t){if(!ta(t)||!t.integration)return t;switch(t.integration){case Ro:return n=t,i=oa(Vt.$e,n),r=oa(Vt.Ke,n),e=n[Vt.tu]&&oa(Vt.tu,n),Et({integration:"keyos",widevine:i,playready:r},e?{fairplay:e}:{});default:return t}var n,i,r,e}!function(t){t.NONE="",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(Ba||(Ba={})),function(t){t.VERIZON_MEDIA="verizon-media"}(La||(La={})),function(t){t.ASSET="asset",t.CHANNEL="channel",t.EVENT="event"}(Ma||(Ma={}));var Qa,Za,Ja=function(t){function n(n){var i;return(i=t.call(this,Ia.Bh)||this).currentTime=n,i}return ut(n,t),n}(Un),Ka=function(t){function n(n,i){var r;return(r=t.call(this,Ia.Gh)||this).currentTime=n,r.volume=i,r}return ut(n,t),n}(Un);!function(t){t[t.yv=0]="yv",t[t.mv=1]="mv",t[t.pv=2]="pv",t[t.kv=3]="kv",t[t.Av=4]="Av"}(Qa||(Qa={})),function(t){t[t.ABORTED=1]="ABORTED",t[t.NETWORK=2]="NETWORK",t[t.DECODE=3]="DECODE",t[t.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",t[t.ENCRYPTED=5]="ENCRYPTED",t[t.LICENSE_INVALID=6]="LICENSE_INVALID",t[t.ADVERTISEMENT_ERROR=7]="ADVERTISEMENT_ERROR"}(Za||(Za={}));var $a=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i)||this).code=n,u.message=null!=i?i:"Unknown error",u.cause=r,u.systemCode=e,v.captureStackTrace&&v.captureStackTrace(st(u),u.constructor),u}return ut(n,t),b(n,[{key:"name",get:function(){return"MediaError"}}]),n}(ot);function tc(t){Gs(t,"MEDIA_ERR_ABORTED",Za.ABORTED),Gs(t,"MEDIA_ERR_NETWORK",Za.NETWORK),Gs(t,"MEDIA_ERR_DECODE",Za.DECODE),Gs(t,"MEDIA_ERR_SRC_NOT_SUPPORTED",Za.SRC_NOT_SUPPORTED),Gs(t,"MEDIA_ERR_ENCRYPTED",Za.ENCRYPTED)}function nc(t){var i,r;return function(t){return t.category===n.ErrorCategory.CONTENT_PROTECTION}(t)?new $a(Za.ENCRYPTED,t.message,null===(i=t.cause)||void 0===i?void 0:i.message,t.systemCode):new $a(function(t){if(t===n.ErrorCode.MEDIA_ABORTED)return Za.ABORTED;if(t===n.ErrorCode.MANIFEST_LOAD_ERROR||t===n.ErrorCode.MEDIA_LOAD_ERROR||t===n.ErrorCode.SUBTITLE_LOAD_ERROR)return Za.NETWORK;if(t===n.ErrorCode.MEDIA_DECODE_ERROR)return Za.DECODE;if(t===n.ErrorCode.MEDIA_NOT_SUPPORTED)return Za.SRC_NOT_SUPPORTED;var i=n.ErrorCategory.fromCode(t);if(i===n.ErrorCategory.NETWORK)return Za.NETWORK;if(i===n.ErrorCategory.SOURCE)return Za.SRC_NOT_SUPPORTED;if(i===n.ErrorCategory.LICENSE)return Za.LICENSE_INVALID;if(i===n.ErrorCategory.CONTENT_PROTECTION)return Za.ENCRYPTED;if(i===n.ErrorCategory.AD)return Za.ADVERTISEMENT_ERROR;return Za.DECODE}(t.code),t.message,null===(r=t.cause)||void 0===r?void 0:r.message)}function ic(t){switch(t){case Za.ABORTED:return n.ErrorCode.MEDIA_ABORTED;case Za.NETWORK:return n.ErrorCode.NETWORK_ERROR;case Za.DECODE:return n.ErrorCode.MEDIA_DECODE_ERROR;case Za.SRC_NOT_SUPPORTED:return n.ErrorCode.SOURCE_NOT_SUPPORTED;case Za.ENCRYPTED:return n.ErrorCode.CONTENT_PROTECTION_ERROR;case Za.LICENSE_INVALID:return n.ErrorCode.LICENSE_ERROR;case Za.ADVERTISEMENT_ERROR:return n.ErrorCode.AD_ERROR}}tc($a),tc($a.prototype);var rc=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.La=function(n){return t.prototype.La.call(this,n)},i.Da=function(){return so(this)},n}(Fs),ec=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.La=function(n){return t.prototype.La.call(this,n)},i.Ua=function(n){var i=t.prototype.Ua.call(this,n);return i&&(n.dc=oo.cc),i},i.Da=function(){return lo(this)},n}(Fs),uc=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this,n)||this).bv=function(t){Nr(function(){r.Eu(t)})},r.Tv=i?r.bv:r.Eu,r}ut(n,t);var i=n.prototype;return i.Ka=function(t){t.Sa(this.Tv)},i.$a=function(t){t.Ra(this.Tv)},n}(Ds),sc=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n}(uc);var oc,ac,cc=function(){function t(t){var n;this.Ev=t,this.Ia=(n=this,{get currentBandwidthEstimate(){return n.Sv},get corruptedVideoFrames(){return n.Rv},get droppedVideoFrames(){return n.Iv},get totalBytesLoaded(){return n.Nv},get bufferedSegments(){return n.Dv}})}return b(t,[{key:"Na",get:function(){return this.Ia}},{key:"Rv",get:function(){return this.Ev.Ov.Cv.Rv}},{key:"Sv",get:function(){return this.Ev.Ov.Cv.Sv}},{key:"Iv",get:function(){return this.Ev.Ov.Cv.Iv}},{key:"Pv",get:function(){throw new v("Not implemented")}},{key:"xv",get:function(){throw new v("Not implemented")}},{key:"Nv",get:function(){return this.Ev.Ov.Cv.Nv}},{key:"Bv",get:function(){return this.Ev.Ov.Cv.Bv}},{key:"Dv",get:function(){return this.Ev.Ov.Cv.Dv}}]),t}();function hc(t){return t?"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().droppedVideoFrames:t.webkitDroppedFrameCount||0:0}function fc(t){return t&&"function"==typeof t.getVideoPlaybackQuality&&t.getVideoPlaybackQuality().corruptedVideoFrames||0}function vc(t){return"function"==typeof t.getVideoPlaybackQuality?t.getVideoPlaybackQuality().totalVideoFrames:t.webkitDecodedFrameCount||0}function dc(t){return t&&le(t)?Et(Et({},{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),{Iv:hc(t),Rv:fc(t),Bv:vc(t),Sv:8*Fa.lv()}):{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}!function(t){t[t.Lv=0]="Lv",t[t.Mv=1]="Mv"}(oc||(oc={})),function(t){t.Uv="all",t.Fv="any",t.Vv="none"}(ac||(ac={}));var lc,_c,gc="http://www.w3.org/XML/1998/namespace";function wc(t,n){return bc(t)&&t.getAttribute(n)||void 0}function yc(t,n,i){return bc(t)&&t.getAttributeNS(i,n)||void 0}function mc(t,n){return function(t,n,i,r){var e=t.localName?t.localName:t.nodeName;return n===e&&(r&&i?i===t.namespaceURI:!i||!t.namespaceURI||i===t.namespaceURI)}(t,n,null,!1)}function pc(t,n){for(var i=[],r=0;r<t.childNodes.length;r+=1){var e=t.childNodes.item(r);bc(e)&&mc(e,n)&&i.push(e)}return i}function kc(t,n){for(var i=t,r=0;r<n.length;r++){var e=n[r];i=i.replace(e+":","")}return i}function Ac(t,n){for(var i=t.attributes,r={},e=0;e<i.length;e++)r[kc(i[e].name,n)]=i[e].value;return r}function bc(t){return t&&1===t.nodeType}function Tc(t){return function(t,n){try{return Ec(t,n)}catch(t){return}}(t,"text/xml")}function Ec(t,n){var i=(new DOMParser).parseFromString(t,n);if(!i||i.getElementsByTagName("parsererror").length>0)throw new v("Invalid XML");return i}!function(t){t.Hv="mute",t.qv="unmute",t.xh="pause",t.Wv="resume",t.Xv="rewind",t.Gv="skip",t.zv="playerExpand",t.jv="playerCollapse",t.Yv="fullscreen",t.Qv="exitFullscreen",t.Zv="expand",t.COLLAPSE="collapse",t.Jv="start",t.Kv="firstQuartile",t.$v="thirdQuartile",t.td="midpoint",t.nd="complete",t.rd="acceptInvitationLinear",t.ed="acceptInvitation",t.ud="timeSpentViewing",t.sd="otherAdInteraction",t.Lh="progress",t.od="creativeView",t.hd="adExpand",t.fd="adCollapse",t.vd="minimize",t.dd="close",t.ld="closeLinear",t._d="overlayViewDuration",t.gd="breakStart",t.wd="breakEnd",t.yd="error"}(lc||(lc={})),function(t){t.md={Ss:100,Mu:"XML parsing error."},t.pd={Ss:400,Mu:"General linear error"},t.kd={Ss:500,Mu:"General nonlinear error"}}(_c||(_c={}));var Sc=_.pow(2,-52);function Rc(t,n,i){return _.min(_.max(t,n),i)}function Ic(t,n,i){return t===n||_.abs(t-n)<=i}function Nc(t,n){if(t===n)return!0;var i=_.abs(t-n);return i<Sc||i<_.max(_.abs(t),_.abs(n))*Sc}function Dc(t){return t!=t}function Cc(t,n){return t===n||Dc(t)&&Dc(n)}function Oc(t,n){for(var i=t,r=n;0!==r;){var e=i%r;i=r,r=e}return i<0?-i:i}var Pc=function(t,n){return(0|t)-(0|n)},xc=function(t,n){return t===n?0:t<n?-1:t>n?1:y(t)?y(n)?0:1:-1};function Bc(t,n,i){return Ic(t,n,i)?0:xc(t,n)}var Lc=function(t,n){return Nc(t,n)?0:xc(t,n)};var Mc=function(){function t(t,n){void 0===n&&(n=1),this.Ad=t,this.bd=n}t.Td=function(n){return new t(_.ceil(n.Ad),n.bd)},t.Ed=function(n){return new t(_.floor(n.Ad),n.bd)},t.hf=function(t,n){return t.Sd(n)?t:n},t.cf=function(t,n){return t.af(n)?t:n};var n=t.prototype;return n.Df=function(n){return this.bd>=n.bd?new t(this.Ad+n.Rd(this.bd).Ad,this.bd):new t(this.Rd(n.bd).Ad+n.Ad,n.bd)},n.Id=function(t){return t.sf(this)},n.Sd=function(t){return t.af(this)},n.bf=function(n){return this.bd>=n.bd?new t(_.abs(this.Ad-n.Rd(this.bd).Ad),this.bd):n.bf(this)},n.Nd=function(t,n){return this.bf(t).af(n)},n.rf=function(t){return Uc(this,t)},n.if=function(t){return 0===this.rf(t)},n.sf=function(t){return this.rf(t)<0},n.af=function(t){return this.rf(t)<=0},n.Rd=function(n){return new t(this.Ad*(n/this.bd),n)},n.Hf=function(n){return this.bd>=n.bd?new t(this.Ad-n.Rd(this.bd).Ad,this.bd):new t(this.Rd(n.bd).Ad-n.Ad,n.bd)},n.Dd=function(n){return new t(this.Ad*n,this.bd)},b(t,[{key:"Cd",get:function(){return!isFinite(this.Ad)}},{key:"Od",get:function(){return this.Ad/this.bd}}]),t}();function Uc(t,n){return t.bd>=n.bd?Lc(t.Ad,n.Rd(t.bd).Ad):Lc(t.Rd(n.bd).Ad,n.Ad)}Mc.Pd=new Mc(1/6,1),Mc.xd=new Mc(0),Mc.Bd=new Mc(1/0),Mc.Ld=1e6;var Fc=function(){function t(){}var n=t.prototype;return n.Id=function(t){return this.rf(t)>0},n.Sd=function(t){return this.rf(t)>=0},n.Nd=function(t,n){return this.bf(t).af(n)},n.if=function(t){return 0===this.rf(t)},n.sf=function(t){return this.rf(t)<0},n.af=function(t){return this.rf(t)<=0},n.Md=function(){return this.Ud()?this.Fd():this},n.Hf=function(t){return this.Df(t.Fd())},n.bf=function(t){return this.Hf(t).Md()},t}();function Vc(t,n){return t.Vd()?n.Vd()?0:1:n.Vd()?-1:t.Cd()?n.Cd()&&t.Ud()===n.Ud()?0:t.Ud()?-1:1:n.Ud()?1:-1}var Hc=function(){function t(t,n){this.Hd=t,this.qd=n}t.Wd=function(n,i,r){return r?new t(n.toUnsigned(),i.toUnsigned()):new t(n.toSigned(),i.toSigned())},t.Xd=function(n){return n.unsigned?new t(n,Pi.UZERO):new t(n,n.isNegative()?Pi.NEG_ONE:Pi.ZERO)},t.Gd=function(n,i){if(y(n))return i?t.zd:t.xd;if(i){if(n<0)return t.zd;if(n>=3.402823669209385e38)return t.jd}else{if(n<=-1.7014118346046923e38)return t.Yd;if(n+1>=1.7014118346046923e38)return t.Qd}return n<0?t.Gd(-n,i).Fd():t.Wd(Pi.fromNumber(n%0x10000000000000000),Pi.fromNumber(n/0x10000000000000000),i)};var n=t.prototype;return n.Zd=function(){return this.qd.unsigned},n.Jd=function(){return this.Hd.isZero()&&this.qd.isZero()},n.Ud=function(){return this.qd.isNegative()},n.Kd=function(){return this.Zd()?t.Wd(this.Hd,this.qd,!1):this},n.$d=function(){return this.Zd()?this:t.Wd(this.Hd,this.qd,!0)},n.tl=function(){return this.Hd},n.nl=function(){return this.Ud()?-this.Fd().nl():0x10000000000000000*this.qd.toNumber()+this.Hd.toUnsigned().toNumber()},n.il=function(){return this.Hd.toInt()},n.if=function(t){return(this.Zd()===t.Zd()||this.qd.getHighBits()>>>31!=1||t.qd.getHighBits()>>>31!=1)&&(this.qd.toUnsigned().eq(t.qd.toUnsigned())&&this.Hd.toUnsigned().eq(t.Hd.toUnsigned()))},n.rf=function(t){if(this.if(t))return 0;var n=this.Ud(),i=t.Ud();if(n&&!i)return-1;if(!n&&i)return 1;if(!this.Zd())return this.Hf(t).Ud()?-1:1;var r=this.$d(),e=t.$d(),u=e.qd.comp(r.qd);return u>0||0===u&&e.Hd.gt(r.Hd)?-1:1},n.sf=function(t){return this.rf(t)<0},n.af=function(t){return this.rf(t)<=0},n.ef=function(t){return this.rf(t)>0},n.uf=function(t){return this.rf(t)>=0},n.ul=function(){return new t(this.Hd.not(),this.qd.not())},n.sl=function(n){return new t(this.Hd.and(n.Hd),this.qd.and(n.qd))},n.ol=function(n){return new t(this.Hd.or(n.Hd),this.qd.or(n.qd))},n.al=function(n){var i=127&n;return 0===i?this:i<64?t.Wd(this.Hd.shl(i),this.qd.shl(i).or(this.Hd.shru(64-i)),this.Zd()):t.Wd(Pi.ZERO,this.Hd.shl(i-64),this.Zd())},n.cl=function(n){var i=127&n;return 0===i?this:i<64?t.Wd(this.Hd.shru(i).or(this.qd.shl(64-i)),this.qd.shr(i),this.Zd()):t.Wd(this.qd.shr(i-64),this.qd.isNegative()?Pi.NEG_ONE:Pi.ZERO,this.Zd())},n.hl=function(n){var i=127&n;return 0===i?this:i<64?t.Wd(this.Hd.shru(i).or(this.qd.shl(64-i)),this.qd.shru(i),this.Zd()):64===i?t.Wd(this.qd,Pi.ZERO,this.Zd()):t.Wd(this.qd.shru(i-64),Pi.ZERO,this.Zd())},n.Df=function(n){var i=this.qd.high>>>16,r=65535&this.qd.high,e=this.qd.low>>>16,u=65535&this.qd.low,s=this.Hd.high>>>16,o=65535&this.Hd.high,a=this.Hd.low>>>16,c=65535&this.Hd.low,h=n.qd.high>>>16,f=65535&n.qd.high,v=n.qd.low>>>16,d=65535&n.qd.low,l=n.Hd.high>>>16,_=65535&n.Hd.high,g=n.Hd.low>>>16,w=0,y=0,m=0,p=0,k=0,A=0,b=0,T=0;b+=(T+=c+(65535&n.Hd.low))>>>16,T&=65535,A+=(b+=a+g)>>>16,b&=65535,k+=(A+=o+_)>>>16,A&=65535,p+=(k+=s+l)>>>16,k&=65535,m+=(p+=u+d)>>>16,p&=65535,y+=(m+=e+v)>>>16,m&=65535,w+=(y+=r+f)>>>16,y&=65535,w+=i+h,w&=65535;var E=this.Zd(),S=Pi.fromBits(m<<16|p,w<<16|y,E),R=Pi.fromBits(b<<16|T,k<<16|A,E);return t.Wd(R,S,E)},n.Hf=function(t){return this.Df(t.Fd())},n.Fd=function(){return this.ul().Df(t.fl)},n.vl=function(n){if(this.Jd()||n.Jd())return this.Zd()?t.zd:t.xd;if(this.Ud())return n.Ud()?this.Fd().vl(n.Fd()):this.Fd().vl(n).Fd();if(n.Ud())return this.vl(n.Fd()).Fd();if(this.qd.isZero()&&0===this.Hd.high&&n.qd.isZero()&&0===n.Hd.high)return t.Xd(this.Hd.multiply(n.Hd));var i=Pi.fromBits(4294967295,0,!0),r=this.Hd.and(i),e=this.Hd.shru(32),u=this.qd.and(i),s=this.qd.shru(32),o=n.Hd.and(i),a=n.Hd.shru(32),c=n.qd.and(i),h=n.qd.shru(32),f=Pi.UZERO,v=Pi.UZERO,d=Pi.UZERO,l=Pi.UZERO;f=f.add(r.mul(o)),v=v.add(f.shru(32)),f=f.and(i),v=v.add(e.mul(o)),d=d.add(v.shru(32)),v=(v=v.and(i)).add(r.mul(a)),d=d.add(v.shru(32)),v=v.and(i),d=d.add(u.mul(o)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(e.mul(a)),l=l.add(d.shru(32)),d=(d=d.and(i)).add(r.mul(c)),l=l.add(d.shru(32)),d=d.and(i),l=l.add(s.mul(o)).add(u.mul(a)).add(e.mul(c)).add(r.mul(h)).and(i);var _=Pi.fromBits(f.getLowBitsUnsigned(),v.getLowBitsUnsigned(),!0),g=Pi.fromBits(d.getLowBitsUnsigned(),l.getLowBitsUnsigned(),!0);return t.Wd(_,g,this.Zd())},n.dl=function(n){var i,r,e=n;if(e.Jd())throw new RangeError("division by zero");if(this.Jd())return this.Zd()?[t.zd,t.zd]:[t.xd,t.xd];if(this.Zd()){if(e.Zd()||(e=e.$d()),e.ef(this))return[t.zd,this];if(e.ef(this.hl(1)))return[r=t.ll,i=this.Hf(e)];r=t.zd}else{if(this.if(t.Yd)){if(e.if(t.fl)||e.if(t._l))return[t.Yd,t.xd];if(e.if(t.Yd))return[t.fl,t.xd];var u=this.cl(1).gl(e).al(1);return u.if(t.xd)?r=e.Ud()?t.fl:t._l:(i=this.Hf(e.vl(u)),r=u.Df(i.gl(e))),[r,i=this.Hf(e.vl(r))]}if(e.if(t.Yd))return this.Zd()?[t.zd,this]:[t.xd,this];if(this.Ud()){if(e.Ud())return this.Fd().dl(e.Fd());var s=this.Fd().dl(e);return r=s[0],i=s[1],[r.Fd(),i.Fd()]}if(e.Ud()){var o=this.dl(e.Fd());return r=o[0],i=o[1],[r.Fd(),i.Fd()]}r=t.xd}for(i=this;i.uf(e);){for(var a=_.max(1,_.floor(i.nl()/e.nl())),c=_.ceil(_.log(a)/_.LN2),h=c<=48?1:_.pow(2,c-48),f=t.Gd(a),v=f.vl(e);v.Ud()||v.ef(i);)a-=h,v=(f=t.Gd(a,this.Zd())).vl(e);f.Jd()&&(f=t.fl),r=r.Df(f),i=i.Hf(v)}return[r,i]},n.gl=function(t){return this.dl(t)[0]},n.wl=function(t){return this.dl(t)[1]},n.toString=function(n){var i=n||10;if(i<2||i>36)throw new RangeError("radix");if(this.Jd())return"0";if(this.Ud()){if(this.if(t.Yd)){var r=t.Gd(i),e=this.gl(r),u=e.vl(r).Hf(this);return e.toString(i)+u.il().toString(i)}return"-"+this.Fd().toString(i)}for(var s=t.Gd(_.pow(i,6),this.Zd()),o=this,a="";;){var c=o.gl(s),h=(o.Hf(c.vl(s)).il()>>>0).toString(i);if((o=c).Jd())return h+a;for(;h.length<6;)h="0"+h;a=String(h)+a}},t}();Hc.xd=Hc.Xd(Pi.ZERO),Hc.zd=Hc.Xd(Pi.UZERO),Hc.fl=Hc.Xd(Pi.ONE),Hc.ll=Hc.Xd(Pi.UONE),Hc._l=Hc.Xd(Pi.NEG_ONE),Hc.Qd=Hc.Wd(Pi.NEG_ONE,Pi.MAX_VALUE,!1),Hc.jd=Hc.Wd(Pi.MAX_UNSIGNED_VALUE,Pi.MAX_UNSIGNED_VALUE,!0),Hc.Yd=Hc.Wd(Pi.ZERO,Pi.MIN_VALUE,!1);var qc=function(t){function n(n,i){var r;return(r=t.call(this)||this).an=n.toSigned(),r.bd=i>>>0,r}ut(n,t),n.yl=function(t,i){return void 0===i&&(i=1e6),n.Gd(t*i,i)},n.Gd=function(t,i){return y(t)?n.ml:t===1/0?n.pl:t===-1/0?n.kl:new n(Pi.fromNumber(t),i)},n.Xd=function(t,i){return new n(t,i)},n.Al=function(t){return new n(Pi.fromNumber(_.round(t.Ad)),t.bd)},n.bl=function(t){return new n(Pi.fromNumber(t.getTime()),1e3)},n.hf=function(t,n){return t.Sd(n)?t:n},n.cf=function(t,n){return t.af(n)?t:n},n.Tl=function(t,i,r){return n.hf(i,n.cf(r,t))};var i=n.prototype;return i.Ud=function(){return this.an.isNegative()},i.Jd=function(){return 0!==this.bd&&this.an.isZero()},i.Cd=function(){return 0===this.bd&&!this.an.isZero()},i.Vd=function(){return 0===this.bd&&this.an.isZero()},i.nl=function(){if(0===this.bd)return this.an.isZero()?NaN:this.an.isNegative()?-1/0:1/0;var t=this.an.divide(this.bd),n=this.an.subtract(t.multiply(this.bd));return t.toNumber()+n.toNumber()/this.bd},i.tl=function(){if(0===this.bd)throw new v("Failed to convert timestamp");return this.an},i.El=function(){return new Date(0===this.bd?NaN:this.Rd(1e3).an.toNumber())},i.Sl=function(){return new Mc(0===this.bd?this.nl():this.an.toNumber(),this.bd)},i.Rd=function(t,i){void 0===i&&(i=0);var r=this.bd;if(r===t)return this;if(0===r)return this;var e=Oc(r,t);return new n(function(t,n,i){var r=t.dl(n),e=r[0],u=r[1];if(u.Jd())return e;if(0===i)return u.Ud()?e.Hf(Hc.fl):e;if(1===i)return u.Ud()?e:e.Df(Hc.fl);var s=u.vl(Hc.Gd(2));return s.Ud()?s.Fd().sf(n)?e:e.Hf(Hc.fl):s.sf(n)?e:e.Df(Hc.fl)}(Hc.Xd(this.an).vl(Hc.Gd(t/e)),Hc.Gd(r/e),i).tl(),t)},i.rf=function(t){if(this===t)return 0;if(0===this.bd||0===t.bd)return Vc(this,t);if(this.Jd())return t.Jd()?0:t.Ud()?1:-1;if(t.Jd())return this.Ud()?-1:1;var n=_.min(this.bd,t.bd),i=this.Rd(n,2).an,r=t.Rd(n,2).an;return i.compare(r)},i.Fd=function(){return 0===this.bd?Wc(this):new n(this.an.negate(),this.bd)},i.Df=function(t){if(0===this.bd||0===t.bd)return Xc(this,t);if(this.Jd())return t;if(t.Jd())return this;var i=_.max(this.bd,t.bd),r=this.Rd(i,2),e=t.Rd(i,2);return new n(r.an.add(e.an),i)},i.vl=function(t){if(this.Vd()||y(t))return n.ml;if(this.Cd()||!isFinite(t)){if(this.Jd()||0===t)return n.ml;var i=this.Ud()?n.kl:n.pl;return t<0?i.Fd():i}return this.Jd()?this:new n(0===t?Pi.ZERO:this.an.multiply(t),this.bd)},i.gl=function(t){if(this.Vd()||y(t))return n.ml;if(this.Cd())return isFinite(t)?0===t?1/t<0?this.Fd():this:t<0?this.Fd():this:n.ml;if(!isFinite(t))return new n(Pi.ZERO,this.bd);if(this.Jd())return 0===t?n.ml:new n(Pi.ZERO,this.bd);if(0===t){var i=this.Ud()?n.kl:n.pl;return 1/t<0?i.Fd():i}return new n(this.an.divide(t),this.bd)},i.Rl=function(){return[this.an.low,this.an.high,this.bd]},n}(Fc);function Wc(t){return t.Vd()?t:t.Ud()?qc.pl:qc.kl}function Xc(t,n){return t.Vd()||n.Vd()?qc.ml:t.Cd()&&n.Cd()?t.Ud()===n.Ud()?t:qc.ml:t.Cd()?t:n}qc.xd=new qc(Pi.ZERO,1e6),qc.ml=new qc(Pi.ZERO,0),qc.pl=new qc(Pi.ONE,0),qc.kl=new qc(Pi.NEG_ONE,0);var Gc=function(t){function n(n,i){var r;return(r=t.call(this)||this).an=BigInt.asIntN(64,n),r.bd=i>>>0,r}ut(n,t),n.yl=function(t,i){return void 0===i&&(i=1e6),n.Gd(t*i,i)},n.Gd=function(t,i){return y(t)?n.ml:t===1/0?n.pl:t===-1/0?n.kl:new n(BigInt(_.floor(t)),i)},n.Xd=function(t,i){return new n(BigInt(t.high)<<BigInt(32)|BigInt(t.low>>>0),i)},n.Al=function(t){return n.Gd(_.round(t.Ad),t.bd)},n.bl=function(t){return n.Gd(t.getTime(),1e3)},n.hf=function(t,n){return t.Sd(n)?t:n},n.cf=function(t,n){return t.af(n)?t:n},n.Tl=function(t,i,r){return n.hf(i,n.cf(r,t))};var i=n.prototype;return i.Ud=function(){return this.an<BigInt(0)},i.Jd=function(){return 0!==this.bd&&this.an===BigInt(0)},i.Cd=function(){return 0===this.bd&&this.an!==BigInt(0)},i.Vd=function(){return 0===this.bd&&this.an===BigInt(0)},i.nl=function(){if(0===this.bd)return this.an===BigInt(0)?NaN:this.an<BigInt(0)?-1/0:1/0;var t=this.an/BigInt(this.bd),n=this.an-t*BigInt(this.bd);return Number(t)+Number(n)/this.bd},i.tl=function(){if(0===this.bd)throw new v("Failed to convert timestamp");return this.Il()},i.Il=function(){var t=this.an&BigInt(4294967295),n=this.an>>BigInt(32)&BigInt(4294967295);return Pi.fromBits(Number(t),Number(n))},i.El=function(){return new Date(0===this.bd?NaN:Number(this.Rd(1e3).an))},i.Sl=function(){return new Mc(0===this.bd?this.nl():Number(this.an),this.bd)},i.Rd=function(t,i){void 0===i&&(i=0);var r=this.bd;if(r===t)return this;if(0===r)return this;var e=Oc(r,t);return new n(function(t,n,i){var r=t/n,e=t-r*n;if(e===BigInt(0))return r;if(0===i)return e<BigInt(0)?r-BigInt(1):r;if(1===i)return e<BigInt(0)?r:r+BigInt(1);var u=e*BigInt(2);return u<BigInt(0)?-u<n?r:r-BigInt(1):u<n?r:r+BigInt(1)}(this.an*BigInt(t/e),BigInt(r/e),i),t)},i.rf=function(t){if(this===t)return 0;if(0===this.bd||0===t.bd)return Vc(this,t);if(this.Jd())return t.Jd()?0:t.Ud()?1:-1;if(t.Jd())return this.Ud()?-1:1;var n=_.min(this.bd,t.bd),i=this.Rd(n,2).an,r=t.Rd(n,2).an;return i>r?1:i<r?-1:0},i.Fd=function(){return 0===this.bd?zc(this):new n(-this.an,this.bd)},i.Df=function(t){if(0===this.bd||0===t.bd)return jc(this,t);if(this.Jd())return t;if(t.Jd())return this;var i=_.max(this.bd,t.bd),r=this.Rd(i,2),e=t.Rd(i,2);return new n(r.an+e.an,i)},i.vl=function(t){if(this.Vd()||y(t))return n.ml;if(this.Cd()||!isFinite(t)){if(this.Jd()||0===t)return n.ml;var i=this.Ud()?n.kl:n.pl;return t<0?i.Fd():i}return this.Jd()?this:new n(0===t?BigInt(0):this.an*BigInt(t),this.bd)},i.gl=function(t){if(this.Vd()||y(t))return n.ml;if(this.Cd())return isFinite(t)?0===t?1/t<0?this.Fd():this:t<0?this.Fd():this:n.ml;if(!isFinite(t))return new n(BigInt(0),this.bd);if(this.Jd())return 0===t?n.ml:new n(BigInt(0),this.bd);if(0===t){var i=this.Ud()?n.kl:n.pl;return 1/t<0?i.Fd():i}return new n(this.an/BigInt(t),this.bd)},i.Rl=function(){var t=this.Il();return[t.low,t.high,this.bd]},b(n,null,[{key:"xd",get:function(){return n.Nl||(n.Nl=new n(BigInt(0),1e6)),n.Nl}},{key:"ml",get:function(){return n.Dl||(n.Dl=new n(BigInt(0),0)),n.Dl}},{key:"pl",get:function(){return n.Cl||(n.Cl=new n(BigInt(1),0)),n.Cl}},{key:"kl",get:function(){return n.Ol||(n.Ol=new n(BigInt(-1),0)),n.Ol}}]),n}(Fc);function zc(t){return t.Vd()?t:t.Ud()?Gc.pl:Gc.kl}function jc(t,n){return t.Vd()||n.Vd()?Gc.ml:t.Cd()&&n.Cd()?t.Ud()===n.Ud()?t:Gc.ml:t.Cd()?t:n}Gc.Nl=void 0,Gc.Dl=void 0,Gc.Cl=void 0,Gc.Ol=void 0;var Yc=function(){try{return"function"==typeof BigInt&&"bigint"==typeof BigInt(0)}catch(t){return!1}}()?Gc:qc;function Qc(t,n){return t.rf(n)}function Zc(t){return Yc.Xd(Pi.fromBits(t[0],t[1],!1),t[2])}var Jc=function(){function t(t){var n=t.match(/P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?:(\d+)H)?(?:(\d+)M)?(?:(\d*\.?\d*)S)?)?/);if(!n)throw new v("The given value could not be parsed as a valid DateTimeInterval");this.Pl=w(n[1])||0,this.xl=w(n[2])||0,this.Bl=w(n[3])||0,this.Ll=w(n[4])||0,this.Ml=w(n[5])||0,this.Ul=w(n[6])||0,this.Fl=w(n[7])||0}return t.prototype.Vl=function(){var t=new Date,n=new Date(t.getTime());return n.setUTCFullYear(n.getUTCFullYear()+this.Hl),n.setUTCMonth(n.getUTCMonth()+this.ql),n.setUTCDate(n.getUTCDate()+7*this.Wl),n.setUTCDate(n.getUTCDate()+this.Xl),n.setUTCHours(n.getUTCHours()+this.Gl),n.setUTCMinutes(n.getUTCMinutes()+this.zl),n.setUTCMilliseconds(n.getUTCMilliseconds()+1e3*this.jl),n.getTime()-t.getTime()},b(t,[{key:"Hl",get:function(){return this.Pl}},{key:"ql",get:function(){return this.xl}},{key:"Wl",get:function(){return this.Bl}},{key:"Xl",get:function(){return this.Ll}},{key:"Gl",get:function(){return this.Ml}},{key:"zl",get:function(){return this.Ul}},{key:"jl",get:function(){return this.Fl}},{key:"Yl",get:function(){return new Mc(this.Vl(),1e3)}},{key:"Ql",get:function(){return Yc.Gd(this.Vl(),1e3)}}]),t}();function Kc(t,n){return function(t,n){var i=t._n.slice(),r=[];for(;i.length>0;){var e=i.shift();n(e)?r.push(e):i.push.apply(i,e._n)}return r}(t,function(t){return t.dn===n})}var $c=/^(?:true|false)$/i,th=/^(-?)(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(?:Z|([+-])(\d{2}):(\d{2}))?$/;function nh(t){if(void 0!==t)return new Jc(t)}function ih(t){if(void 0!==t){var n=t.match(th);if(!n)throw new v("The given value could not be parsed as a valid Date");var i=n[1],r=n[2],e=n[3],u=n[4],s=n[5],o=n[6],a=n[7],c=n[8],h=n[9],f=n[10],d=n[11],l=("-"===i?-1:1)*Number(r),g=Number(e)-1,w=Number(u),m=Number(s),p=Number(o),k=Number(a),A=Number("0."+(c||"")),b=_.round(1e3*A);if(h)p-=("-"===h?-1:1)*(60*Number(f)+Number(d));var T=new Date(Date.UTC(l,g,w,m,p,k,b));if(y(T.getTime()))throw new v("The given value could not be parsed as a valid Date");return T}}function rh(t){if(t){var n=/(\d+)-(\d+)/.exec(t);if(n)return[uh(n[1]),uh(n[2])]}}function eh(t){if(void 0!==t){if(!y(Number(t)))try{return Pi.fromString(t,!0)}catch(t){}throw new v("The given value could not be parsed as a valid unsigned long")}}function uh(t){if(void 0!==t){var n=Number(t);if(!y(n))return n;throw new v("The given value could not be parsed as a valid Number")}}function sh(t){if(void 0!==t){var n=t.split("/"),i=Number(n[0]),r=Number(n[1]||1);if(!y(i)&&!y(r))return new Mc(i,r);throw new v("The given value could not be parsed as a valid frame rate")}}function oh(t){if(void 0!==t){if($c.test(t))return"true"===t.toLowerCase();if(!y(g(t)))return Boolean(g(t));throw new v("The given value could not be parsed as a valid Boolean.")}}function ah(t){return{Zl:t.pn,Jl:oh(t.gn("availabilityTimeComplete")),Kl:uh(t.gn("availabilityTimeOffset"))}}function ch(t){return t.map(ah)}function hh(t){var n,i,r,e,u,s=kh(t),o=(i="default_KID",r="urn:mpeg:cenc:2013",e="cenc",void 0===(u=(n=t).wn(r,i))&&(u=n.gn(e+":"+i)),u),a=function(t){if(t)return ei(t.pn)}(function(t,n,i,r){var e=t.ln(i,n);return 0===e.length&&(e=t.fn(r+":"+n)),e}(t,"pssh","urn:mpeg:cenc:2013","cenc")[0]),c=t.ln("urn:microsoft:playready","pro"),h=c.length>0?function(t){var n=Jn(t.pn),i=new m([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),r=n.length,e=12+i.length+4+r,u=new ArrayBuffer(e),s=new m(u),o=new DataView(u),a=new mr;Yi(o,a,e),Yi(o,a,1886614376),Yi(o,a,0),qi(o,a,i),Yi(o,a,r),qi(o,a,n),0;return s.buffer}(c[0]):void 0;return{$l:o,t_:null!=a?a:h,n_:s.n_,an:s.an}}function fh(t){return{i_:t.gn("sourceURL"),r_:rh(t.gn("range"))}}function vh(t,n){var i=eh(t.gn("d")),r=eh(t.gn("t")),e=uh(t.gn("r"));n.push({e_:i,u_:r,s_:e})}function dh(t){return{o_:t.gn("index"),a_:rh(t.gn("indexRange")),c_:t.gn("media"),h_:rh(t.gn("mediaRange"))}}function lh(t){var n,i,r=wh(t),e=(n=t.fn("SegmentURL"),(i=n.map(dh)).length>0?i:void 0),u=t.gn("xlink:href"),s=t.gn("xlink:actuate");return Et(Et({},r),{f_:e,v_:u,d_:s})}function _h(t){var n=t.map(lh);return n.length>0?n:void 0}function gh(t){var n=oh(t.gn("availabilityTimeComplete")),i=uh(t.gn("availabilityTimeOffset")),r=rh(t.gn("indexRange")),e=oh(t.gn("indexRangeExact")),u=t.fn("Initialization");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.dn+" element can not have more than one Initialization element.");var s=1===u.length?fh(u[0]):void 0,o=eh(t.gn("presentationTimeOffset")),a=t.fn("RepresentationIndex");if(a.length>1)throw new v("The provided MPEG-DASH document's "+t.dn+" element can not have more than one RepresentationIndex element.");return{Jl:n,Kl:i,a_:r,l_:e,__:s,g_:o,w_:1===a.length?fh(a[0]):void 0,y_:nh(t.gn("timeShiftBufferDepth")),bd:uh(t.gn("timescale"))}}function wh(t){var n=gh(t),i=t.fn("BitstreamSwitching"),r=i.length>0?fh(i[0]):void 0,e=uh(t.gn("duration")),u=t.fn("SegmentTimeline");if(u.length>1)throw new v("The provided MPEG-DASH document's "+t.dn+" element can not have more than one SegmentTimeline element.");var s=1===u.length?function(t){for(var n=[],i=t.fn("S"),r=0;r<i.length;r++)vh(i[r],n);return n}(u[0]):void 0,o=uh(t.gn("startNumber")),a=uh(t.gn("endNumber"));return Et(Et({},n),{m_:r,e_:e,p_:s,k_:o,A_:a})}function yh(t){var n=wh(t),i=t.gn("bitstreamSwitching"),r=t.gn("index"),e=t.gn("initialization"),u=t.gn("media");return Et(Et({},n),{b_:i,T_:r,E_:e,S_:u})}function mh(t){return{R_:function(t){if(t){var n=t.split(/\s/);return n.length>1?(n.length=2,n.map(uh)):1===n.length?n.map(uh)[0]:void 0}}(t.gn("audioSamplingRate")),I_:t.gn("codecs"),N_:oh(t.gn("codingDependency")),D_:function(t){if(0!==t.length)return t.map(hh)}(t.fn("ContentProtection")),C_:t.fn("EssentialProperty").map(Ah),O_:sh(t.gn("frameRate")),P_:uh(t.gn("height")),x_:uh(t.gn("maxPlayoutRate")),B_:uh(t.gn("maximumSAPPeriod")),L_:t.gn("mimeType"),M_:t.gn("profiles"),U_:t.gn("sar"),F_:function(t){switch(t){case"progressive":case"interlaced":case"unknown":return t;default:return}}(t.gn("scanType")),V_:t.gn("segmentProfiles"),H_:uh(t.gn("startWithSAP")),q_:uh(t.gn("width"))}}function ph(t){var n=mh(t),i=uh(t.gn("bandwidth")),r=ch(t.fn("BaseURL")),e=t.gn("dependencyId"),u=t.gn("id"),s=t.gn("mediaStreamStructureId"),o=uh(t.gn("qualityRanking")),a=t.fn("SegmentBase");if(a.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentBase element.");var c=1===a.length?gh(a[0]):void 0,h=_h(t.fn("SegmentList")),f=t.fn("SegmentTemplate");if(f.length>1)throw new v("The provided MPEG-DASH document's Representation element can not have more than one SegmentTemplate element.");var d=1===f.length?yh(f[0]):void 0;return Et(Et({},n),{W_:i,X_:r,G_:e,ic:u,z_:s,j_:o,Y_:c,Q_:h,Z_:d})}function kh(t){return{n_:t.gn("schemeIdUri"),an:t.gn("value")}}function Ah(t){return kh(t)}function bh(t){return kh(t)}function Th(t){return kh(t)}function Eh(t){var n=mh(t),i=function(t){return t.map(Th)}(t.fn("Accessibility")),r=ch(t.fn("BaseURL")),e=oh(t.gn("bitstreamSwitching")),u=t.gn("contentType"),s=uh(t.gn("group")),o=uh(t.gn("id")),a=t.gn("lang"),c=uh(t.gn("maxBandwidth")),h=sh(t.gn("maxFrameRate")),f=uh(t.gn("maxHeight")),d=uh(t.gn("maxWidth")),l=uh(t.gn("minBandwidth")),_=sh(t.gn("minFrameRate")),g=uh(t.gn("minHeight")),w=uh(t.gn("minWidth")),y=t.gn("par"),m=t.fn("Representation").map(ph);if(0===m.length)throw new v("The provided MPEG-DASH document has an AdaptationSet with no valid Representation's");var p=function(t){return t.map(bh)}(t.fn("Role")),k=oh(t.gn("segmentAlignment"))||!1,A=t.fn("SegmentBase");if(A.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentBase element.");var b=1===A.length?gh(A[0]):void 0,T=_h(t.fn("SegmentList")),E=t.fn("SegmentTemplate");if(E.length>1)throw new v("The provided MPEG-DASH document's AdaptationSet element can not have more than one SegmentTemplate element.");var S=1===E.length?yh(E[0]):void 0,R=uh(t.gn("selectionPriority")),I=R||1,N=oh(t.gn("subsegmentAlignment"))||!1,D=uh(t.gn("subsegmentStartsWithSAP")),C=t.gn("xlink:actuate")||"onRequest",O=t.gn("xlink:href");return Et(Et({},n),{J_:i,X_:r,m_:e,K_:u,tg:s,ic:o,sc:a,ng:c,ig:h,rg:f,eg:d,ug:l,sg:_,og:g,ag:w,cg:y,hg:m,fg:p,vg:k,Y_:b,Q_:T,Z_:S,dg:I,lg:N,_g:D,gg:C,wg:O})}function Sh(t){var n=eh(t.gn("presentationTime"))||Pi.ZERO,i=eh(t.gn("duration")),r=uh(t.gn("id")),e=function(t){for(var n=t.mn,i={},r=0;r<n.length;r++)i[n[r].rn]=n[r].an;return i}(t),u=t.pn;return{yg:n,e_:i,ic:r,mn:e,kn:""!==u.trim()?u:t.gn("messageData")||""}}function Rh(t){return{wg:t.gn("xlink:href"),gg:t.gn("xlink:actuate"),n_:t.gn("schemeIdUri"),an:t.gn("value"),bd:uh(t.gn("timescale")),mg:t.fn("Event").map(Sh)}}function Ih(t,n){var i=t.fn("AssetIdentifier");if(i.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one AssetIdentifier element.");var r=1===i.length?kh(i[0]):void 0,e=t.fn("AdaptationSet").map(Eh),u=ch(t.fn("BaseURL")),s=oh(t.gn("bitstreamSwitching")),o=nh(t.gn("duration")),a=t.fn("EventStream").map(Rh),c=t.gn("id"),h=n&&nh(n.gn("start")),f=t.fn("SegmentBase");if(f.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentBase element.");var d=1===f.length?gh(f[0]):void 0,l=_h(t.fn("SegmentBase")),_=t.fn("SegmentTemplate");if(_.length>1)throw new v("The provided MPEG-DASH document's Period element can not have more than one SegmentTemplate element.");var g=1===_.length?yh(_[0]):void 0,w=nh(t.gn("start")),y=(t.fn("Subset"),t.gn("xlink:href"));return{pg:e,kg:r,X_:u,m_:s,e_:o,Ag:a,ic:c,bg:h,Y_:d,Q_:l,Z_:g,Jh:w,gg:t.gn("xlink:actuate"),wg:y}}function Nh(t){var n=t.gn("schemeIdUri");if(n)return{n_:n,an:t.gn("value")}}function Dh(t,n){var i=ih(t.gn("availabilityEndTime")),r=ih(t.gn("availabilityStartTime")),e=ch(t.fn("BaseURL")),u=t.gn("id"),s=t.fn("Location").map(function(t){return""+t.pn}),o=nh(t.gn("maxSegmentDuration")),a=nh(t.gn("maxSubsegmentDuration")),c=nh(t.gn("mediaPresentationDuration")),h=(t.fn("Metrics"),nh(t.gn("minBufferTime")));if(!h)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'minimumBufferTime' attribute.");var f=nh(t.gn("minimumUpdatePeriod")),d=function(t){for(var n=[],i=0;i<t.length;i+=1)n.push(Ih(t[i],t[i+1]));return n}(t.fn("Period"));if(!d.length)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'Period' element.");var l=t.gn("profiles");if(!l)throw new v("The provided MPEG-DASH document's MPD element does not have the required 'profiles' attribute.");return{Tg:i,Eg:r,X_:e,ic:u,Sg:s,Rg:n,Ig:o,Ng:a,Dg:c,Cg:h,Og:f,Pg:d,M_:l,xg:ih(t.gn("publishTime")),Bg:nh(t.gn("suggestedPresentationDelay")),y_:nh(t.gn("timeShiftBufferDepth")),ru:function(t){switch(t){case"static":case"dynamic":return t;default:return}}(t.gn("type")),Lg:function(t){for(var n=[],i=0;i<t.length;i++){var r=Nh(t[i]);r&&n.push(r)}return n}(t.fn("UTCTiming"))}}var Ch,Oh,Ph=function(){function t(){}return t.prototype.Mg=function(t,n){return function(t,n){if(!t)throw new v("The provided MPEG-DASH document does not contain a valid MPD root element.");return Dh(t,n)}(r.tn(t).An,n)},t}();!function(t){t.Ug="arraybuffer",t.Fg="json",t.Vg="stream",t.Hg="text",t.qg="blob",t.Wg="document"}(Ch||(Ch={})),function(t){t.Ug=Ch.Ug,t.Fg=Ch.Fg,t.Vg=Ch.Vg,t.Hg=Ch.Hg}(Oh||(Oh={}));var xh=function(){function t(n){var i=this;this.Je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],r=t[1];i.append(n,r)}):Array.isArray(n)?n.forEach(function(t){i.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){i.append(t,n[t])})}var n=t.prototype;return n.append=function(t,n){var i=t,r=n;i=Bh(i),r=Lh(r);var e=i.toLowerCase();if(this.Je.hasOwnProperty(e)){var u=this.Je[e],s=u[1];u[1]=s?s+", "+r:r}else this.Je[e]=[i,r]},n.delete=function(t){var n=Bh(t).toLowerCase();delete this.Je[n]},n.get=function(t){var n=Bh(t).toLowerCase();return this.Je.hasOwnProperty(n)?this.Je[n][1]:null},n.has=function(t){var n=Bh(t).toLowerCase();return this.Je.hasOwnProperty(n)},n.set=function(t,n){var i=t,r=(i=Bh(i)).toLowerCase();this.Je[r]=[i,Lh(n)]},n.forEach=function(t,n){for(var i in this.Je)this.Je.hasOwnProperty(i)&&t.call(n,this.Je[i][1],i,this)},n.asList=function(){var t=[];for(var n in this.Je)if(this.Je.hasOwnProperty(n)){var i=this.Je[n],r=i[0],e=i[1];t.push([r,e])}return t},n.Xg=function(){var t={};return this.forEach(function(n,i){t[i]=n}),t},n.Gg=function(t){var n=this;t.forEach(function(t,i){n.append(i,t)})},n.zg=function(t){var n=this;t.forEach(function(t,i){n.set(i,t)})},t}();function Bh(t){var n=t;if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new d("Invalid character in header field name");return n}function Lh(t){var n=t;return"string"!=typeof n&&(n=String(n)),n}var Mh,Uh,Fh,Vh,Hh,qh,Wh=function(t,n){var i,r,e,u,s,o,a,c,h,f,v,d=t.Zl;n?(i=n.jg,r=n.Yg,e=n.Qg,u=n.Zg,s=n.Jg,o=n.bs,a=n.ru,c=n.Kg,h=n.$g,f=n.tw,v=n.nw):(i=null,r={},e="GET",u=Oh.Hg,s=0,a="",c="",h="",f=!1),this.Zl=d,this.jg=t.jg||i,this.Yg=new xh(t.Yg||r),this.Qg=t.Qg||e,this.Zg=t.Zg||u,this.Jg=void 0!==t.Jg?Number(t.Jg)||0:s,this.bs=t.bs||o||(new Rr).bs,this.ru=t.ru||a,this.Kg=t.Kg||c,this.$g=t.$g||h,this.tw=void 0!==t.tw?Boolean(t.tw):f,this.nw=t.nw||v},Xh=function(t){function n(n,i){return t.call(this,n,i)||this}return ut(n,t),n}(Wh);!function(t){t.ADBLOCK="adblock",t.NETWORK="network",t.PARSING="parsing",t.PLAYBACK="playback",t.GENERAL="general"}(Mh||(Mh={})),function(t){t[t.VAST_MALFORMED_RESPONSE=100]="VAST_MALFORMED_RESPONSE",t[t.VAST_SCHEMA_VALIDATION_ERROR=101]="VAST_SCHEMA_VALIDATION_ERROR",t[t.VAST_UNSUPPORTED_VERSION=102]="VAST_UNSUPPORTED_VERSION",t[t.VAST_TRAFFICKING_ERROR=200]="VAST_TRAFFICKING_ERROR",t[t.VAST_UNEXPECTED_LINEARITY=201]="VAST_UNEXPECTED_LINEARITY",t[t.VAST_UNEXPECTED_DURATION_ERROR=202]="VAST_UNEXPECTED_DURATION_ERROR",t[t.UNEXPECTED_SIZE=203]="UNEXPECTED_SIZE",t[t.VAST_WRAPPER_ERROR=300]="VAST_WRAPPER_ERROR",t[t.VAST_LOAD_TIMEOUT=301]="VAST_LOAD_TIMEOUT",t[t.VAST_TOO_MANY_REDIRECTS=302]="VAST_TOO_MANY_REDIRECTS",t[t.VAST_NO_ADS_AFTER_WRAPPER=303]="VAST_NO_ADS_AFTER_WRAPPER",t[t.GENERAL_LINEAR_ERROR=400]="GENERAL_LINEAR_ERROR",t[t.FILE_NOT_FOUND=401]="FILE_NOT_FOUND",t[t.VAST_MEDIA_LOAD_TIMEOUT=402]="VAST_MEDIA_LOAD_TIMEOUT",t[t.VAST_LINEAR_ASSET_MISMATCH=403]="VAST_LINEAR_ASSET_MISMATCH",t[t.VAST_PROBLEM_DISPLAYING_MEDIA_FILE=405]="VAST_PROBLEM_DISPLAYING_MEDIA_FILE",t[t.MEZZANINE_FILE_REQUIRES=406]="MEZZANINE_FILE_REQUIRES",t[t.MEZZANINE_FILE_DOWNLOADED_FIRST_TIME=407]="MEZZANINE_FILE_DOWNLOADED_FIRST_TIME",t[t.AD_IN_VAST_REJECTED=408]="AD_IN_VAST_REJECTED",t[t.INTERACTIVE_CREATIVE_NOT_EXECUTED=409]="INTERACTIVE_CREATIVE_NOT_EXECUTED",t[t.VERIFICATION_CODE_NOT_EXECUTED=410]="VERIFICATION_CODE_NOT_EXECUTED",t[t.GENERAL_NON_LINEAR_ERROR=500]="GENERAL_NON_LINEAR_ERROR",t[t.NONLINEAR_DIMENSIONS_ERROR=501]="NONLINEAR_DIMENSIONS_ERROR",t[t.OVERLAY_AD_LOADING_FAILED=502]="OVERLAY_AD_LOADING_FAILED",t[t.VAST_NONLINEAR_ASSET_MISMATCH=503]="VAST_NONLINEAR_ASSET_MISMATCH",t[t.GENERAL_COMPANION_AD_ERROR=600]="GENERAL_COMPANION_AD_ERROR",t[t.INVALID_DIMENSIONS_COMPANION_AD=601]="INVALID_DIMENSIONS_COMPANION_AD",t[t.COMPANION_REQUIRED_ERROR=602]="COMPANION_REQUIRED_ERROR",t[t.COMPANION_AD_LOADING_FAILED=603]="COMPANION_AD_LOADING_FAILED",t[t.UNABLE_TO_FIND_SUPPORTED_COMPANION=604]="UNABLE_TO_FIND_SUPPORTED_COMPANION",t[t.UNKNOWN_ERROR=900]="UNKNOWN_ERROR",t[t.GENERAL_VPAID_ERROR=901]="GENERAL_VPAID_ERROR",t[t.MALFORMED_URI=1005]="MALFORMED_URI",t[t.VAST_ASSET_NOT_FOUND=1007]="VAST_ASSET_NOT_FOUND",t[t.VAST_EMPTY_RESPONSE=1009]="VAST_EMPTY_RESPONSE",t[t.UNKNOWN_AD_RESPONSE=1010]="UNKNOWN_AD_RESPONSE",t[t.UNSUPPORTED_LOCALE=1011]="UNSUPPORTED_LOCALE",t[t.INVALID_ARGUMENTS=1101]="INVALID_ARGUMENTS",t[t.INVALID_ADX_EXTENSION=1105]="INVALID_ADX_EXTENSION",t[t.AUTOPLAY_DISALLOWED=1205]="AUTOPLAY_DISALLOWED"}(Uh||(Uh={})),function(t){t.iw="linear",t.rw="nonlinear",t.ew="companion",t.uw="vmap"}(Fh||(Fh={})),function(t){t.iw="linear",t.sw="nonlinear",t.ow="display"}(Vh||(Vh={})),function(t){t[t.aw=0]="aw",t[t.cw=1]="cw",t[t.hw=2]="hw",t[t.fw=3]="fw",t[t.vw=4]="vw"}(Hh||(Hh={})),function(t){t[t.dw=0]="dw",t[t.lw=1]="lw",t[t._w=2]="_w"}(qh||(qh={}));var Gh,zh,jh,Yh,Qh,Zh,Jh,Kh=function(t){function n(n,i){var r;return void 0===i&&(i=Qa.mv),(r=t.call(this,"loadedmetadata")||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),$h=function(t){function n(n,i){var r;return void 0===i&&(i=Qa.kv),(r=t.call(this,"canplay")||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),tf=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),nf=function(t){function n(n,i){var r;return void 0===i&&(i=Qa.pv),(r=t.call(this,"loadeddata")||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),rf=function(t){function n(n,i){var r;return void 0===i&&(i=Qa.yv),(r=t.call(this,Ia.Ih)||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),ef=function(t){function n(n){var i;return(i=t.call(this,"playing")||this).currentTime=n,i}return ut(n,t),n}(Un),uf=function(t){function n(n){var i;return(i=t.call(this,Ia.Rh)||this).duration=n,i}return ut(n,t),n}(Un),sf=function(t){function n(n,i){var r;return(r=t.call(this,Ia.Xh)||this).currentTime=n,r.currentProgramDateTime=i,r}return ut(n,t),n}(Un),of=function(t){function n(n){var i;return(i=t.call(this,Ia.xh)||this).currentTime=n,i}return ut(n,t),n}(Un),af=function(t){function n(n){var i;return(i=t.call(this,"waiting")||this).currentTime=n,i}return ut(n,t),n}(Un),cf=function(t){function n(n,i){var r;return void 0===i&&(i=Qa.Av),(r=t.call(this,"canplaythrough")||this).currentTime=n,r.readyState=i,r}return ut(n,t),n}(Un),hf=function(t){function n(n){var i;return(i=t.call(this,Ia.Dh)||this).currentTime=n,i}return ut(n,t),n}(Un);!function(t){t.gw="contentResumeRequested",t.ww="contentPauseRequested",t.yw="click",t.Rh="durationChange",t.mw="expandedChanged",t.pw="start",t.kw="impression",t.Fc="pause",t.Aw="resume",t.bw="adProgress",t.Tw="adBuffering",t.Ew="firstQuartile",t.td="midpoint",t.Sw="thirdQuartile",t.nd="complete",t.Rw="userClose",t.Iw="linearChanged",t.Nw="loaded",t.Dw="adCanPlay",t.Cw="adMetadata",t.Ow="adBreakReady",t.Pw="interaction",t.xw="allAdsCompleted",t.Bw="skip",t.Lw="skippableStateChanged",t.Mw="log",t.Uw="viewableImpression",t.Fw="volumeChange",t.Vw="mute"}(Gh||(Gh={})),function(t){t.Hw="adError"}(zh||(zh={})),function(t){t[t.qw=-1]="qw",t[t.Ww=-1]="Ww",t[t.Xw=-1]="Xw",t[t.Gw=-1]="Gw",t[t.zw=-1]="zw",t[t.jw=-1]="jw",t[t.Yw=-1]="Yw",t[t.Qw=101]="Qw",t[t.Zw=102]="Zw",t[t.Jw=200]="Jw",t[t.Kw=201]="Kw",t[t.$w=202]="$w",t[t.ty=300]="ty",t[t.ny=301]="ny",t[t.iy=302]="iy",t[t.ey=303]="ey",t[t.uy=400]="uy",t[t.sy=402]="sy",t[t.oy=403]="oy",t[t.ay=403]="ay",t[t.hy=500]="hy",t[t.vy=501]="vy",t[t.ly=503]="ly",t[t._y=602]="_y",t[t.gy=900]="gy",t[t.wy=900]="wy",t[t.yy=901]="yy",t[t.my=1005]="my",t[t.py=1007]="py",t[t.ky=1009]="ky",t[t.Ay=1010]="Ay",t[t.by=1011]="by",t[t.Ty=1021]="Ty",t[t.Ey=1101]="Ey",t[t.Sy=1205]="Sy"}(jh||(jh={})),function(t){t.Ry="adLoadError",t.Iy="adPlayError"}(Yh||(Yh={})),function(t){t.Ny="theo",t.Dy="google-ima",t.Cy="google-dai",t.Oy="freewheel"}(Qh||(Qh={})),function(t){t.iw="linear",t.rw="nonlinear",t.Py="unknown"}(Zh||(Zh={})),function(t){t.NONE="none",t.READY="ready"}(Jh||(Jh={}));var ff,vf,df=function(t){function n(n){var i;return(i=t.call(this,"error")||this).errorObject=n,i}return ut(n,t),n.prototype.Da=function(){return this},b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Os);!function(t){t.NONE="none",t.MIDROLL_AND_POSTROLL="midroll-and-postroll"}(ff||(ff={})),function(t){t.xy="subtitles",t.By="captions",t.Ly="descriptions",t.My="chapters",t.Uy="metadata",t.Fy="thumbnails"}(vf||(vf={}));var lf,_f,gf=[vf.xy,vf.By,vf.Ly,vf.My,vf.Uy,vf.Fy];function wf(t){var n=String(t||"").toLowerCase();return function(t){return"string"==typeof t&&Tn(gf,t)}(n)?n:n?vf.Uy:vf.xy}function yf(t){if(!t)return!0;var n,i,r=!(mf(n=t.sources)||M(n)&&mf(n[0]))||kf(t.sources),e=!t.ads||(!(i=t.ads)||L(i)&&0===i.length),u=""!==t.poster&&!t.poster;return r&&e&&u}function mf(t){return V(t)||Tf(t)||bf(t)||Af(t)}function pf(t){if(V(t))return!t;if(Af(t))return!t.id;if(bf(t)){var n=t.ssai,i="live"===n.availabilityType&&n.assetKey,r="vod"===n.availabilityType&&n.contentSourceID&&n.videoID;return!(!i||!r)}return!t.src}function kf(t){if(t){if(mf(t))return pf(t);for(var n=0;n<t.length;n++){if(!pf(t[n]))return!1}return!0}return!0}function Af(t){return U(t)&&V(t.integration)&&"verizon-media"===t.integration}function bf(t){return U(t)&&U(t.ssai)&&"google-dai"===t.ssai.integration}function Tf(t){return!(!U(t)||!V(t.src))}function Ef(t){return V(t.src)}function Sf(t){if(t&&t.sources)return function t(n){if(V(n))return n;if(Tf(n))return n.src;if(M(n)&&n.length>0)return t(n[0]);return}(t.sources)}function Rf(t){return!!t&&sn(t=t.toLowerCase(),_f.Vy)}function If(t){return!!t&&(sn(t=t.toLowerCase(),_f.Hy)||sn(t,_f.qy))}function Nf(t){var n,i=_f.Wy;return(n=t)&&un(n,"mpd")&&(i=_f.Vy),function(t){return!!t&&un(t,"m3u8")}(t)&&(i=_f.Hy),i}function Df(){return{crossOrigin:lf._v,useCredentials:!1,liveOffset:void 0,timeServer:void 0,hlsDateRange:!1,experimentalRendering:!1,nativeUiRendering:!1,lowLatency:!1,useNativePlayback:!1}}function Cf(){return Et(Et({},Df()),{src:void 0,type:_f.Wy,contentProtection:void 0,ssai:void 0,integrationData:void 0})}function Of(t,n,i){return Af(t)?function(t,n,i){var r=Et(Et({},Df()),{ping:{adImpressions:!1,freeWheelVideoViews:!1,linearAdData:!1},integration:La.VERIZON_MEDIA,id:"",preplayParameters:{},playbackUrlParameters:{},assetType:Ma.ASSET,contentProtected:!1,assetInfo:!0});r.id=(e=t.id,V(e)?e:M(e)&&V(e[0])?e:U(u=e)&&V(u.userId)&&(M(u.externalId)||V(u.externalId))?e:""),t.preplayParameters&&(r.preplayParameters=t.preplayParameters);var e,u;t.playbackUrlParameters&&(r.playbackUrlParameters=t.playbackUrlParameters);t.assetType&&(r.assetType=function(t){switch(t){case"channel":return Ma.CHANNEL;case"event":return Ma.EVENT;case"asset":default:return Ma.ASSET}}(t.assetType));t.contentProtected&&(r.contentProtected=Js(t.contentProtected));t.assetInfo?r.assetInfo=Js(t.assetInfo):r.assetInfo="asset"===r.assetType;return r.ping=(s=r.assetType,o=t.ping,a=!1,c=!1,h=!1,o?(a=!!H(o.adImpressions)&&o.adImpressions,c=!!H(o.freeWheelVideoViews)&&o.freeWheelVideoViews,h=H(o.linearAdData)?o.linearAdData:s!==Ma.ASSET):s!==Ma.ASSET&&(h=!0),{adImpressions:a,freeWheelVideoViews:c,linearAdData:h}),r=xf(r=Pf(r,t),n,i);var s,o,a,c,h}(t,n,i):function(t,n,i){var r=Cf(),e=n&&(n.contentProtection||n.drm);if(V(t)){if(r.src=t,r.type=Nf(t),e){var u=ca(e);r.contentProtection=Ya(u)}}else if(Tf(t)||bf(t)){r.src=t.src,r.type=t.type||Nf(t.src);var s=t.contentProtection||t.drm||e,o=ca(s);r.contentProtection=Ya(o),t.ssai&&(r.ssai=za(t.ssai)),r=Pf(r,t)}return r=xf(r,n,i)}(t,n,i)}function Pf(t,n){n.useCredentials?t.crossOrigin=lf.gv:n.crossOrigin&&(t.crossOrigin=Vf(n.crossOrigin)),V(n.timeServer)&&(t.timeServer=n.timeServer),n.liveOffset&&(t.liveOffset=n.liveOffset),n.hlsDateRange&&(t.hlsDateRange=n.hlsDateRange),n.lowLatency&&(t.lowLatency=Js(n.lowLatency)),n.useNativePlayback&&(t.useNativePlayback=Js(n.useNativePlayback));var i=void 0!==n.experimentalRendering?Js(n.experimentalRendering):void 0;void 0!==i&&(t.experimentalRendering=i);var r=void 0!==n.nativeUiRendering?Js(n.nativeUiRendering):void 0;return void 0!==r&&(t.nativeUiRendering=r),t}function xf(t,n,i){var r,e=n&&n.timeServer;return i&&i.liveOffset&&!B(t.liveOffset)&&(t.liveOffset=i.liveOffset),i&&i.hlsDateRange&&!B(t.hlsDateRange)&&(t.hlsDateRange=i.hlsDateRange),t.crossOrigin===lf._v&&(null===(r=null==n?void 0:n.vr)||void 0===r?void 0:r[360])&&(t.crossOrigin=lf.wv),t.useCredentials=t.crossOrigin===lf.gv,V(e)&&!t.timeServer&&(t.timeServer=e),t}function Bf(t){var n={src:""};if(t&&t.src){if(n.src=to(t.src),"default"in t&&(n.default=Js(t.default)),n.kind=wf(t.kind),function(t){switch(t){case"":case"srt":case"ttml":case"webvtt":case"emsg":case"eventstream":case"id3":case"cea608":case"daterange":return!0;default:return!1}}(t.format)&&(n.format=t.format),"srclang"in t){var i=t.srclang;"string"==typeof i&&""!==i&&(n.srclang=i)}if("label"in t){var r=t.label;"string"==typeof r&&""!==r&&(n.label=r)}}return n}function Lf(t,n){if(F(t))try{return n.xc(t).Xy(t)}catch(t){return}}function Mf(t){return V(t.sources)&&""!==t.sources||U(t.sources)&&V(t.sources.src)}function Uf(t){return t.integration===Yo.SPOTX&&!y(t.id)}function Ff(t){return"freewheel"===t.integration}function Vf(t){switch(t){case lf.wv:case lf.gv:return t;default:return lf._v}}function Hf(t){var n={allowedMimeTypes:void 0,preload:"midroll-and-postroll",showCountdown:!0,vpaidMode:"enabled",googleImaConfiguration:{useNativeIma:!1}};return void 0===t?n:(void 0!==t.preload&&(n.preload=function(t){switch(t){case"none":return ff.NONE;case"midroll-and-postroll":default:return ff.MIDROLL_AND_POSTROLL}}(t.preload)),void 0!==t.showCountdown&&(n.showCountdown=Js(t.showCountdown)),void 0!==t.vpaidMode&&(n.vpaidMode=function(t){switch(t){case"insecure":return"insecure";case"disabled":return"disabled";case"enabled":default:return"enabled"}}(t.vpaidMode)),L(t.allowedMimeTypes)&&(n.allowedMimeTypes=t.allowedMimeTypes.filter(V)),void 0!==t.googleImaConfiguration&&(n.googleImaConfiguration=function(t){return void 0===t?{useNativeIma:!1}:{useNativeIma:Js(t.useNativeIma)}}(t.googleImaConfiguration)),n)}function qf(t,n,i){if(void 0===i&&(i=Na.$t),yf(t))return{sources:[Cf()]};var r=js(t);if(r.sources=function(t,n,i){if(mf(t))return[Of(t,n,i)];if(M(t)&&mf(t[0])){for(var r=[],e=0;e<t.length;e++){var u=t[e];r.push(Of(u,n,i))}return r}return[Cf()]}(r.sources,r,n),"contentProtection"in r&&delete r.contentProtection,"drm"in r&&delete r.drm,"ads"in r){var e=function(t,n){if(!M(t))return[];for(var i=[],r=0;r<t.length;r++){var e=t[r];(e=Lf(e,n))&&(Mf(e)||Uf(e)||Ff(e))&&i.push(e)}return i}(r.ads,i);0===e.length?delete r.ads:r.ads=e}var u,s=!kf(r.sources),o=r.ads&&r.ads.length>0;if(s&&!o?delete r.ads:o&&!s&&(r.sources=[]),"textTracks"in r){var a=function(t){if(!M(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];""!==(r=Bf(r)).src&&n.push(r)}return n}(r.textTracks);0===a.length?delete r.textTracks:r.textTracks=a}if("poster"in r&&(r.poster=to(r.poster)),"vr"in r&&(r.vr=((u=(u=r.vr)||{})[360]=!!u[360],u.stereoMode=Ha(u.stereoMode),{360:Boolean(u[360]),stereoMode:u.stereoMode?qa(u.stereoMode):Ba.NONE})),"analytics"in r||(null==n?void 0:n.analytics)){var c=Wf(r.analytics),h=n&&n.analytics||[];r.analytics=function(t,n){for(var i=js(t),r=function(r){var e=n[r],u=!t.some(function(t){return t.integration===e.integration});u&&e.integration!==Va&&i.push(e)},e=0;e<n.length;e++)r(e);return i}(c,h)}return"mutedAutoplay"in r&&(r.mutedAutoplay=$f(r.mutedAutoplay)),"timeServer"in r&&delete r.timeServer,r.blockContentIfAdError=function(t){if(void 0===t||"boolean"!=typeof t)return!1;return Boolean(t)}(r.blockContentIfAdError),r}function Wf(t){if(!M(t))return[];for(var n=[],i=0;i<t.length;i++){var r=t[i];F(r)&&n.push(r)}return n}!function(t){t._v="",t.wv="anonymous",t.gv="use-credentials"}(lf||(lf={})),function(t){t.Vy="application/dash+xml",t.Hy="application/vnd.apple.mpegurl",t.qy="application/x-mpegurl",t.Wy="video/mp4"}(_f||(_f={}));var Xf,Gf="1ADD53F3";function zf(t){return{chromecast:function(t){return{appID:t&&t.appID?to(t.appID):Gf}}(t?t.chromecast:void 0),strategy:function(t){switch(t){case"auto":return Xf.AUTO;case"manual":return Xf.MANUAL;case"disabled":return Xf.DISABLED;default:return Xf.MANUAL}}(t?t.strategy:void 0)}}!function(t){t.AUTO="auto",t.MANUAL="manual",t.DISABLED="disabled"}(Xf||(Xf={}));var jf,Yf=function(t){function n(n){var i;return(i=t.call(this,Ia.Vh)||this).currentTime=n,i}return ut(n,t),n}(Un),Qf=function(t){function n(n){var i;return(i=t.call(this,Ia.Hh)||this).currentTime=n,i}return ut(n,t),n}(Un),Zf=function(t){function n(n,i){var r;return(r=t.call(this,Ia.Mh)||this).currentTime=n,r.playbackRate=i,r}return ut(n,t),n}(Un),Jf={Gy:0,e_:NaN,zy:!1,Vu:void 0,jy:void 0,Yy:!1,Qy:!0,Zy:1,lc:Qa.yv,Jy:!1,Ky:0,$y:0,tm:1};function Kf(t){var n,i,e,u=js(t||{});return u.libraryLocation&&(u.libraryLocation=As(u.libraryLocation)),u.isEmbeddable=Boolean(u.isEmbeddable),u.cast=zf(u.cast),u.ads=Hf(u.ads),u.analytics=Wf(u.analytics),u.mutedAutoplay=$f(u.mutedAutoplay),u.allowNativeFullscreen=Boolean(u.allowNativeFullscreen),u.allowMixedContent=Boolean(u.allowMixedContent),u.persistVolume=Boolean(u.persistVolume),u.liveOffset=(n=u.liveOffset,Number(n)||void 0),u.hlsDateRange=(i=u.hlsDateRange,Boolean(i)),u.retainPlaybackRateOnSourceChange=Boolean(u.retainPlaybackRateOnSourceChange),u.license=V(e=u.license)?e:void 0,u.licenseUrl=function(t){if(!t)return;try{return As(t)}catch(t){return void r.la("Invalid 'licenseUrl', falling back to default URL")}}(u.licenseUrl),u}function $f(t){switch(t){case jf.ALL:case jf.CONTENT:return t;default:return jf.NONE}}function tv(t){return{Gy:t.Gy,e_:t.e_,zy:t.zy,Vu:t.Vu,jy:t.jy,Yy:t.Yy,Qy:t.Qy,Zy:t.Zy,lc:t.lc,Jy:t.Jy,Ky:t.Ky,$y:t.$y,tm:t.tm}}function nv(t,n){t.tm=n.tm,t.Yy=n.Yy}function iv(t,n,i){if(n!==i){var r=n.Gy,e=n.e_,u=n.Yy,s=n.Qy,o=n.Zy,a=n.lc,c=n.Jy,h=(n.$y,n.Ky,n.tm),f=i.Gy,v=i.e_,d=i.zy,l=i.jy,_=i.Yy,g=i.Qy,w=i.Zy,m=i.lc,p=i.Jy,k=(i.$y,i.Ky,i.tm);a!==Qa.yv&&t.Su(new rf(f,m)),g&&!s?t.Su(new of(f)):!g&&s&&t.Su(new Ja(f)),m>=Qa.mv&&t.Su(new Kh(f,m)),v===e||y(v)&&y(e)||t.Su(new uf(v)),w!==o&&t.Su(new Zf(f,w)),f!==r&&t.Su(new sf(f)),d&&t.Su(new hf(f)),m>=Qa.pv&&t.Su(new nf(f,m)),p&&!c?t.Su(new Qf(f)):!p&&c&&t.Su(new Yf(f)),k===h&&_===u||t.Su(new Ka(f,k)),m>=Qa.kv&&t.Su(new $h(f,m)),m>=Qa.Av&&t.Su(new cf(f,m)),m!==a&&t.Su(new tf(f,m)),l&&t.Su(new df(l))}}function rv(t){switch(t){case"inline":case"fullscreen":case"picture-in-picture":return t;default:return}}!function(t){t.NONE="none",t.ALL="all",t.CONTENT="content"}(jf||(jf={}));var ev="nm",uv=function(t){function n(){return t.call(this,ev)||this}return ut(n,t),n}(Un),sv=function(t){function n(n){var i;return(i=t.call(this,Ia.Eh)||this).currentSource=n,i}return ut(n,t),n}(Un),ov=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).im=new ec,n}ut(n,t);var i=n.prototype;return i.La=function(t){t.rm=this,this.im.La(t),this.Su(new Bs(t))},i.Ua=function(t){t.rm=void 0,t.dc=oo.cc,this.im.Ua(t),this.Su(new Ms(t))},i.um=function(t){},i.sm=function(t){},i.Fa=function(){var t=this.im.Ha.slice();this.im.Fa();for(var n=0;n<t.length;n++){t[n].Va()}return Tt.resolve()},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),t.next=3,this.Fa();case 3:this.im.Va();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n}(Cs);function av(t,n,i){void 0===i&&(i=!1);var r=ji(t,n,i),e=ji(t,n,i),u=i?e:r,s=i?r:e;return Pi.fromBits(s,u,!0)}var cv,hv=function(){function t(t,n){this.kn=t,this.om=n}var n=t.prototype;return n.am=function(){return Fi(this.kn,this.om)},n.cm=function(){return Gi(this.kn,this.om)},n.hm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt16(n.rs,i);return n.$u(2),r}(this.kn,this.om)},n.fm=function(){return ji(this.kn,this.om)},n.vm=function(){return function(t,n,i){void 0===i&&(i=!1);var r=t.getInt32(n.rs,i);return n.$u(4),r}(this.kn,this.om)},n.dm=function(){return av(this.kn,this.om)},n.lm=function(t){return Hi(this.kn,this.om,t)},n._m=function(t){return function(t,n,i){for(var r=[],e=0;e<i;e++)r.push(ji(t,n));return r}(this.kn,this.om,t)},n.gm=function(t){return Ji(this.kn,this.om,t)},n.wm=function(){return hr(this.kn,this.om)},n.ym=function(t){this.om.$u(t)},t}(),fv=function(t){function n(n,i){var r;return(r=t.call(this)||this).mm=n,r.pm=i,r}return ut(n,t),n}(at),vv=function(){function t(){}return t.km=function(n,i){void 0===i&&(i=!1);var r=[],e=n.kn,u=n.om;try{for(;u.rs<e.byteLength;){var s=t.Am(e,u);r.push(s)}}catch(t){if(!(t instanceof fv))throw t;if(i)throw new fv(t.mm,r)}return r},t.Am=function(t,n){var i=n.rs;if(!Wi(t,n,4))throw new fv(i);var r=ji(t,n);if(!Wi(t,n,4))throw new fv(i);var e,u=Ji(t,n,4),s=0;if(1===r){if(!Wi(t,n,8))throw new fv(i);s=av(t,n).toNumber()}if("uuid"===u){if(!Wi(t,n,16))throw new fv(i);u=Ji(t,n,16)}switch(r){case 0:e=t.byteLength-i;break;case 1:e=s;break;default:e=r}var o=n.rs,a=i+e;if(a>t.byteLength)throw new fv(i);var c={ru:u,rs:i,kn:new hv(vr(t,i,a),new mr(o-i))};return n.ts(a),c},t.bm=function(t,n,i){var r=t.kn,e=t.om,u=fr(lr(r),e.rs,r.byteLength);return i&&(u=yr(u)),e.$u(u.byteLength),{ru:n,kn:u}},t.Tm=function(n,i,r){var e=gv(n.fm());return{ru:i,Em:e.version,Sm:e.flags,kn:t.bm(n,i,r).kn}},t}();function dv(t,n){var i=lv(t,n);if(!i)throw new v("Missing "+n+" atom");return i}function lv(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ru===n)return r.kn}}function _v(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];e.ru===n&&i.push(e.kn)}return i}function gv(t){return{version:t>>24,flags:new Li(16777215&t)}}var wv=function(){function t(){}return t.Rm=function(n){return Boolean(t.Im[n])},t.Nm=function(n){for(var i=[],r=vv.km(new hv(n,new mr)),e=0;e<r.length;e++){var u=r[e];t.Rm(u.ru)&&i.push(t.Im[u.ru](u.rs,u.kn))}return i},t.Dm=function(t){var n=new hv(t,new mr);return vv.km(n).some(function(t){return"moof"===t.ru})},t.Cm=function(n){return _v(vv.km(new hv(n,new mr)),"pssh").map(t.Om)},t.Pm=function(n,i){var r=vv.km(i),e=dv(r,"mvhd"),u=_v(r,"trak"),s=lv(r,"mvex");return{ru:"moov",xm:t.Bm(e),im:u.map(t.Lm),Mm:s?t.Um(s):void 0}},t.Bm=function(t){var n=gv(t.fm()),i=n.version,r=n.flags,e=1===i?t.dm():t.fm(),u=1===i?t.dm():t.fm(),s=t.fm(),o=1===i?t.dm():t.fm(),a=t.fm(),c=t.cm()>>8;t.ym(2),t.ym(8);var h=t._m(9);return t.ym(24),{ru:"mvhd",Em:i,Sm:r,Fm:e,Vm:u,bd:s,e_:o,Hm:a,tm:c,qm:h,Wm:t.fm()}},t.Lm=function(n){var i=vv.km(n),r=dv(i,"tkhd"),e=dv(i,"mdia");return{ru:"trak",xm:t.Xm(r),c_:t.Gm(e)}},t.Xm=function(t){var n=gv(t.fm()),i=n.version,r=n.flags,e=1===i?t.dm():t.fm(),u=1===i?t.dm():t.fm(),s=t.fm();t.ym(4);var o=1===i?t.dm():t.fm();t.ym(8);var a=t.hm(),c=t.hm(),h=t.hm()/_.pow(2,8);t.ym(2);var f=t._m(9),v=t.fm()/_.pow(2,16),d=t.fm()/_.pow(2,16);return{ru:"tkhd",zm:r.ss(1),jm:r.ss(2),Ym:r.ss(4),Fm:e,Vm:u,Qm:s,e_:o,Zm:a,Jm:c,tm:h,qm:f,q_:v,P_:d}},t.Gm=function(n){var i=vv.km(n),r=dv(i,"mdhd"),e=dv(i,"hdlr"),u=dv(i,"minf"),s=t.Km(r),o=t.$m(e);return{ru:"mdia",xm:s,tp:o,np:t.ip(u,o.rp)}},t.Km=function(t){var n=gv(t.fm()),i=n.version,r=n.flags,e=1===i?t.dm():t.fm(),u=1===i?t.dm():t.fm(),s=t.fm(),o=1===i?t.dm():t.fm();t.cm();return t.ym(2),{ru:"mdhd",Em:i,Sm:r,Fm:e,Vm:u,bd:s,e_:o}},t.$m=function(t){var n=gv(t.fm()),i=n.version,r=n.flags;t.ym(4);var e=t.gm(4);return t.ym(12),{ru:"hdlr",Em:i,Sm:r,rp:e,rn:t.wm()}},t.ip=function(n,i){var r=dv(vv.km(n),"stbl");return{ru:"minf",ep:t.sp(r,i)}},t.sp=function(n,i){var r=dv(vv.km(n),"stsd");return{ru:"stbl",op:t.ap(r,i)}},t.ap=function(n,i){for(var r=gv(n.fm()),e=r.version,u=r.flags,s=(n.fm(),[]),o=vv.km(n),a=0;a<o.length;a++){var c=o[a];"avc1"===c.ru?s.push(t.cp(c.kn)):"hev1"===c.ru||"hvc1"===c.ru?s.push(t.hp(c.kn,c.ru)):"mp4a"===c.ru?s.push(t.fp(c.kn)):"wvtt"===c.ru&&s.push(t.vp(c.kn))}return{ru:"stsd",Em:e,Sm:u,dp:s}},t.lp=function(t,n){return t.ym(6),{ru:n,_p:t.cm()}},t.gp=function(n,i){var r=t.lp(n,i);n.ym(8);var e=n.cm(),u=n.cm();n.ym(2),n.ym(2);var s=n.fm()>>>16;return Et(Et({},r),{wp:e,yp:u,mp:s})},t.pp=function(n,i){var r=t.lp(n,i);n.ym(2),n.ym(2),n.ym(12);var e=n.cm(),u=n.cm(),s=n.fm(),o=n.fm();n.ym(4);var a=n.cm();n.ym(32);var c=n.cm();return n.ym(2),Et(Et({},r),{q_:e,P_:u,kp:s,Ap:o,bp:a,Tp:c})},t.fp=function(n){var i=t.gp(n,"mp4a"),r=dv(vv.km(n),"esds"),e=t.Ep(r);return Et(Et({},i),{Sp:e})},t.vp=function(n){var i=t.lp(n,"wvtt"),r=vv.km(n),e=dv(r,"vttC"),u=t.Rp(e),s=lv(r,"vlab"),o=s?t.Ip(s):s;return Et(Et({},i),{Np:u,Dp:o})},t.Rp=function(t){return{ru:"vttC",Cp:t.wm()}},t.Ip=function(t){return{ru:"vlab",uc:t.wm()}},t.Ep=function(t){return vv.Tm(t,"esds",!0)},t.cp=function(n){var i=t.pp(n,"avc1"),r=vv.km(n),e=dv(r,"avcC"),u=lv(r,"pasp"),s=t.Op(e),o=u?t.Pp(u):void 0;return Et(Et({},i),{xp:s,Bp:o})},t.hp=function(n,i){var r=t.pp(n,i),e=dv(vv.km(n),"hvcC"),u=t.Lp(e);return Et(Et({},r),{Mp:u})},t.Op=function(t){return vv.bm(t,"avcC",!0)},t.Lp=function(t){return vv.bm(t,"hvcC",!0)},t.Pp=function(t){return{ru:"pasp",Up:t.fm(),Fp:t.fm()}},t.Um=function(n){return{ru:"mvex",im:_v(vv.km(n),"trex").map(t.Vp)}},t.Vp=function(t){var n=gv(t.fm());return{ru:"trex",Em:n.version,Sm:n.flags,Qm:t.fm(),Hp:t.fm(),qp:t.fm(),Wp:t.fm(),Xp:t.fm()}},t.Gp=function(n,i){var r=vv.km(i),e=dv(r,"mfhd"),u=_v(r,"traf");return{ru:"moof",zp:n,xm:t.jp(e),im:u.map(t.Yp)}},t.jp=function(t){var n=gv(t.fm());return{ru:"mfhd",Em:n.version,Sm:n.flags,Qp:t.fm()}},t.Yp=function(n){var i=vv.km(n),r=dv(i,"tfhd"),e=_v(i,"trun"),u=lv(i,"tfdt"),s=t.Zp(r),o=e.map(function(n){return t.Jp(n,s)}),a=u?t.Kp(u):void 0;return{ru:"traf",xm:s,$p:o,tk:a}},t.Zp=function(t){var n=gv(t.fm()),i=n.version,r=n.flags,e=t.fm(),u=r.ss(1)?t.fm():void 0,s=r.ss(2)?t.fm():void 0,o=r.ss(8)?t.fm():void 0,a=r.ss(16)?t.fm():void 0,c=r.ss(32)?t.fm():void 0;return{ru:"tfhd",Em:i,Sm:r,Qm:e,nk:u,ik:s,qp:o,Wp:a,Xp:c}},t.Jp=function(n,i){for(var r=gv(n.fm()),e=r.version,u=r.flags,s=n.fm(),o=u.ss(1)?n.vm():void 0,a=u.ss(4)?n.fm():void 0,c=[],h=0;h<s;h++){var f=t.rk(n,u,e,i);0===h&&void 0!==a&&(f.Sm=a),c.push(f)}return{ru:"trun",Em:e,Sm:u,ek:s,zp:o,uk:a,sk:c}},t.rk=function(t,n,i,r){return{e_:n.ss(256)?t.fm():r.qp,Ju:n.ss(512)?t.fm():r.Wp,Sm:n.ss(1024)?t.fm():r.Xp,ak:n.ss(2048)?0===i?t.fm():t.vm():void 0}},t.ck=function(t,n){var i=n.kn,r=n.om,e=gv(ji(i,r)),u=e.version,s=e.flags,o=Zi(i,r),a=Zi(i,r),c=ji(i,r),h=ji(i,r),f=ji(i,r),v=ji(i,r),d=wr(lr(i),r.rs,i.byteLength);return r.$u(d.byteLength),{ru:"emsg",Em:u,Sm:s,hk:o,an:a,bd:c,fk:h,vk:f,ic:v,dk:d}},t.lk=function(t,n){return vv.bm(n,"mdat",!1)},t.Om=function(n){var i=n.kn,r=n.om,e=yr(lr(i)).buffer,u=gv(ji(i,r)),s=u.version,o=u.flags,a=t._k(i,r);if(s>0)for(var c=ji(i,r),h=[],f=0;f<c;f++){for(var v="",d=0;d<16;d++){var l=Fi(i,r).toString(16);v+=1===l.length?"0"+l:l}h.push(v)}var _=ji(i,r),g=new m(e,r.rs,_);return r.$u(i.byteLength),{ru:"pssh",Em:s,Sm:o,gk:a,wk:[],yk:_,kn:g,mk:e}},t._k=function(t,n){for(var i="",r=0;r<4;r++){var e=Fi(t,n).toString(16);i+=1===e.length?"0"+e:e}i+="-";for(var u=0;u<2;u++){var s=Fi(t,n).toString(16);i+=1===s.length?"0"+s:s}i+="-";for(var o=0;o<2;o++){var a=Fi(t,n).toString(16);i+=1===a.length?"0"+a:a}i+="-";for(var c=0;c<2;c++){var h=Fi(t,n).toString(16);i+=1===h.length?"0"+h:h}i+="-";for(var f=0;f<6;f++){var v=Fi(t,n).toString(16);i+=1===v.length?"0"+v:v}return i.toLowerCase()},t.pk=function(t,n){var i,r,e=n.kn,u=n.om,s=gv(ji(e,u)),o=s.version,a=s.flags,c=ji(e,u),h=ji(e,u);0===o?(i=Pi.fromBits(ji(e,u),0,!0),r=Pi.fromBits(ji(e,u),0,!0)):(i=av(e,u),r=av(e,u)),u.$u(2);for(var f=Gi(e,u),v=[],d=0;d<f;d+=1){var l=ji(e,u),_=l>>31&1,g=2147483647&l,w=ji(e,u),y=ji(e,u),m=y>>31&1,p=y>>28&7,k=268435455&y;v.push({kk:_,Ak:g,e_:w,bk:m,Tk:p,Ek:k})}return{ru:"sidx",Em:o,Sm:a,Sk:c,bd:h,Rk:i,Ik:r,Nk:f,Dk:v}},t.Kp=function(t){var n=t.kn,i=t.om,r=gv(ji(n,i)),e=r.version;return{ru:"tfdt",Em:e,Sm:r.flags,tk:0===e?Pi.fromBits(ji(n,i),0,!0):av(n,i)}},t}();function yv(t){var n,i={get track(){return t.Ca.Na},get id(){return t.ic},get startTime(){return t.u_},get endTime(){return t.Ck},get content(){return t.Ok},addEventListener:function(t,i){t=no(t,to),n.Iu(t,i)},removeEventListener:function(t,i){t=no(t,to),n.Cu(t,i)}};return n=new qs(t,i),i}function mv(){}wv.Im=((cv={}).moov=wv.Pm,cv.moof=wv.Gp,cv.mdat=wv.lk,cv.sidx=wv.pk,cv.emsg=wv.ck,cv);var pv=.02;function kv(t,n){return Ic(t.u_,n.u_,pv)&&Ic(t.Ck,n.Ck,pv)&&t.ic===n.ic}var Av=function(t){function n(n,i,r,e,u){var s;return void 0===u&&(u=""),(s=t.call(this)||this).Ia=void 0,s.Pk=void 0,s.xk=!1,s.Bk="",s.Lk=-1,s.Mk=n,s.Uk=i,s.Fk=r,s.Vk=!!e,s.Hk=u,s}ut(n,t);var i=n.prototype;return i.Da=function(){return yv(this)},i.if=function(t){return this===t||Qs(this,t)&&kv(this,t)},i.Va=function(){this.Du()},b(n,[{key:"u_",get:function(){return this.Mk},set:function(t){this.Mk=t}},{key:"Ck",get:function(){return this.Uk},set:function(t){this.Uk=t}},{key:"ic",get:function(){return this.Hk},set:function(t){this.Hk=t}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"qk",get:function(){return this.xk},set:function(t){this.xk=t}},{key:"Ca",get:function(){return this.Pk},set:function(t){this.Pk=t}},{key:"Ok",get:function(){return this.Fk},set:function(t){this.Fk=t}},{key:"Wk",get:function(){return this.Bk},set:function(t){this.Bk=t}},{key:"Xk",get:function(){return this.Vk},set:function(t){this.Vk=t}}]),n}(Ds),bv=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,n,i,r,e)||this).Gk=u,a.zk=s,a.jk=o||void 0,a}return ut(n,t),n.prototype.if=function(n){return this===n||!!Qs(this,n)&&(!!t.prototype.if.call(this,n)&&(!!Ys(this.Yk,n.Yk)&&(!!Ys(this.Qk,n.Qk)&&(this.Zk&&n.Zk?!!this.Zk.isEqualNode(n.Zk)&&(this.Ok&&n.Ok?!!this.Ok.isEqualNode(n.Ok):this.Ok===n.Ok):this.Zk===n.Zk))))},b(n,[{key:"Yk",get:function(){return this.Gk}},{key:"Qk",get:function(){return this.zk}},{key:"Zk",get:function(){return this.jk}},{key:"Na",get:function(){var t;return this.Ia||(this.Ia=zs(yv(t=this),{get styles(){return t.Yk},get regions(){return t.Qk},get metadata(){return t.Zk}})),this.Ia}}]),n}(Av),Tv=function(){function t(t,n,i){this.Jk=t,this.Kk=n,bc(i)?this.$k=function(t,n,i){return i.removeAttribute("begin"),i.removeAttribute("dur"),i.removeAttribute("end"),i}(0,0,i):this.$k=i}return b(t,[{key:"tA",get:function(){return this.$k.cloneNode(!0)}},{key:"u_",get:function(){return this.Jk}},{key:"Ck",get:function(){return this.Kk}}]),t}();var Ev={VIDEO_H264:"video/avc",VIDEO_H265:"video/hevc",VIDEO_MP4:"video/mp4",VIDEO_MPEG:"video/mpeg",VIDEO_MPEG2:"video/mpeg2",VIDEO_UNKNOWN:"video/x-unknown",AUDIO_AAC:"audio/mp4a-latm",AUDIO_MP4:"audio/mp4",AUDIO_UNKOWN:"audio/x-unknown",IMAGE_JPEG:"image/jpeg",APPLICATION_TTML_XML:"application/ttml+xml",APPLICATION_MP4:"application/mp4",TEXT_VTT:"text/vtt"};function Sv(t){return un(t,Ev.APPLICATION_MP4)||un(t,Ev.VIDEO_MP4)||un(t,Ev.AUDIO_MP4)}var Rv,Iv={nA:Mc.xd,iA:Mc.Bd,rA:Mc.xd},Nv=/^(\d\d+):(\d\d):(\d+)((\.(\d+))?|(:(\d\d+)(\.(\d+))?))$/,Dv=/^(\d+)(\.(\d+))?(h|m|s|ms|f|t)$/;function Cv(t,n,i){return void 0===i&&(i=Iv),function(t,n,i){var r=[],e=Tc(t);if(!e)return r;var u=e.documentElement;if("tt"!==u.tagName)return r;var s=u&&pc(u,"head")[0],o=u&&pc(u,"body")[0],a=["ebutts","tts","xml"];if(!o||!s)return r;for(var c=function(t,n){for(var i={},r=pc(t,"styling")[0],e=r&&pc(r,"style")||[],u=0;u<e.length;u++){var s=e[u],o=yc(s,"id",gc);i[o]=Ac(s,n)}return i}(s,a),h=function(t,n){var i=js(t),r=Bv(n.getAttribute("tts:extent"));if(!r)return i;for(var e=0,u=l.keys(i);e<u.length;e++){var s=u[e],o=Bv(i[s].extent);if(o){var a=Pv(o[0],r[0]),c=Pv(o[1],r[1]);i[s].extent=a+" "+c}var h=Bv(i[s].origin);if(h){var f=Pv(h[0],r[0]),v=Pv(h[1],r[1]);i[s].origin=f+" "+v}}return i}(function(t,n){for(var i={},r=pc(t,"layout")[0],e=r&&pc(r,"region")||[],u=0;u<e.length;u++){var s=e[u],o=yc(s,"id",gc);i[o]=Ac(s,n);var a=Uv(s,n);for(var c in a)i[o][c]=a[c]}return i}(s,a),u),f=pc(s,"metadata")[0],v=function t(n,i,r,e){var u=i;var s;var o=r;var a=[];var c;var h=[];bc(n)&&(u=Mv(wc(n,"begin"),e)||u,s=Mv(wc(n,"dur"),Mc.xd),o=Mv(wc(n,"end"),e)||s&&u.Df(s)||o);var f=n.childNodes;for(var v=0;v<f.length;v++)("body"===n.nodeName||"div"===n.nodeName)&&f.item(v).nodeType>1||(a=a.concat(t(f.item(v),u,o,e)));c=function(t,n,i){var r=[];r.push(t,n);for(var e=0;e<i.length;e++){var u=i[e];r.push(u.u_,u.Ck)}r.sort(Uc);for(var s=r.length,o=0;o<s-1;o++)r[o+1].if(r[o])&&(bn(r,o+1),o--,s=r.length);return r}(u,o,a);for(var d=0;d<c.length-1;d++){var l=Lv(c[d],c[d+1],a),_=void 0;if(l.length<=0&&(y=void 0,m=void 0,y=(w=n).nodeName.toUpperCase(),m=!!wc(w,"smpte:backgroundImage"),"#TEXT"===y||"BR"===y||m))_=n.cloneNode(!1),h.push(new Tv(c[d],c[d+1],_));else if(l.length>0){_=n.cloneNode(!1);for(var g=0;g<l.length;g++)_.appendChild(l[g].tA);h.push(new Tv(c[d],c[d+1],_))}}var w,y,m;return h}(o,i.nA,i.iA,i.rA),d=0;d<v.length;d++){var _=v[d],g=Ov(h,_);r.push(new bv(_.u_.Od,_.Ck.Od,_.tA,!1,c,g,f))}return r}(t,0,i)}function Ov(t,n){for(var i=function t(n){var i=[];var r;if(bc(n)){(r=wc(n,"region"))&&i.push(r);for(var e=n.childNodes,u=0;u<e.length;u++)i=i.concat(t(e[u]))}return i}(n.tA),r={},e=0;e<i.length;e++){var u=i[e];r[u]=t[u]}return r}function Pv(t,n){var i=xv(t),r=xv(n);if(i&&r&&i===r){var e=Number(t.slice(0,-i.length)),u=Number(n.slice(0,-r.length));return y(e)||y(u)?t:e/u*100+"%"}return t}function xv(t){return on(t,"px")?"px":on(t,"em")?"em":on(t,"c")?"c":on(t,"%")?"%":void 0}function Bv(t){if(t){var n=t.split(" ");if(2===n.length)return[n[0],n[1]]}}function Lv(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e].u_,s=i[e].Ck;(u.Sd(t)&&s.af(n)||u.sf(n)&&s.Sd(n)||u.af(t)&&s.Id(t))&&r.push(i[e])}return r}function Mv(t,n){if(Nv.test(t)){var i=Nv.exec(t),r=Number(i[1])||0,e=Number(i[2])||0,u=Number(i[3])||0,s=i[6],o=s?Number(s)*_.pow(.1,s.length):0;return new Mc(3600*r+60*e+u+o).Hf(n)}if(Dv.test(t)){var a=Dv.exec(t),c=Number(a[1]),h=0;switch(a[4]){case"h":h=3600*c;break;case"m":h=60*c;break;case"s":h=c;break;case"ms":h=.001*c;break;case"f":case"t":default:h=NaN}return new Mc(h).Hf(n)}}function Uv(t,n){for(var i={},r=pc(t,"style")||[],e=0;e<r.length;e++){var u=Ac(r[e],n);for(var s in u)i[s]=u[s]}return i}function Fv(t){var n=function(t){var n=Tc(t);if(n)return n.documentElement}(t);return n&&"tt"===n.tagName}!function(t){t.eA="cue",t.uA="region",t.sA="stylesheet"}(Rv||(Rv={}));var Vv={"line-left":"start",center:"middle","line-right":"end"},Hv={start:"line-left",middle:"center",end:"line-right"};function qv(t,n){if("auto"===t)switch(n){case"start":case"left":return"line-left";case"end":case"right":return"line-right";default:return"center"}return t}function Wv(t,n){if("auto"===t)switch(n){case"start":case"left":return 0;case"end":case"right":return 100;default:return 50}return r=50,e="number"==typeof(i=t)?i:w(i),y(e)?r:e;var i,r,e}function Xv(t){return zs(yv(t),{get align(){return t.oA},get line(){return t.aA},get lineAlign(){return t.cA},get position(){return t.hA},get positionAlign(){return t.fA},get region(){return t.vA?t.vA.Na:null},get size(){return t.Ju},get snapToLines(){return t.dA},get text(){return t.Ok},get vertical(){return t.lA}})}function Gv(t,n){return t.Ok===n.Ok&&t.aA===n.aA&&t.cA===n.cA&&t.hA===n.hA&&t.fA===n.fA&&t.vA===n.vA&&t.dA===n.dA&&t.Ju===n.Ju&&t.oA===n.oA&&t.lA===n.lA}var zv=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,r,e)||this).aA="auto",s.cA="start",s.hA="auto",s.fA="auto",s.vA=void 0,s.dA=!0,s.Ju=100,s.oA="center",s.lA="",s.ic=u||"",s}return ut(n,t),n.prototype.if=function(n){return this===n||Qs(this,n)&&t.prototype.if.call(this,n)&&Gv(this,n)},b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=Xv(this)),this.Ia}},{key:"ru",get:function(){return Rv.eA}}]),n}(Av);function jv(t){var n="number"==typeof t.aA?t.aA:w(t.aA);return y(n)||t.dA||!(n<0||n>100)?y(n)?t.dA?-1:100:n:100}function Yv(t){return Wv(t.hA,t.oA)}function Qv(t){return qv(t.fA,t.oA)}function Zv(t){var n=100,i=Qv(t),r=Yv(t);return"line-left"===i&&(n=100-r),"line-right"===i&&(n=r),"center"===i&&r<=50&&(n=2*r),"center"===i&&r>50&&(n=2*(100-r)),t.Ju<n?t.Ju:n}function Jv(t){return{get id(){return t.ic},get identifier(){return t.ic},get lines(){return t._A},get regionAnchorX(){return t.gA},get regionAnchorY(){return t.wA},get scrollValue(){return t.yA},get viewportAnchorX(){return t.mA},get viewportAnchorY(){return t.pA},get width(){return t.q_}}}var Kv=function(){function t(t,n,i,r,e,u,s,o){this.ic=t,this.q_=n,this._A=i,this.gA=r,this.wA=e,this.mA=u,this.pA=s,this.yA=o}return b(t,[{key:"Na",get:function(){return this.Ia||(this.Ia=Jv(this)),this.Ia}},{key:"ru",get:function(){return Rv.uA}}]),t}(),$v=9e4,td=_.pow(2,33),nd=Yc.Gd(td,$v),id=nd.gl(2);function rd(t){return null!=t&&!t.Vd()}function ed(t,n){return t.Cd()||n.Cd()?Yc.hf(t,n):od(t,n).Id(Yc.xd)?t:n}function ud(t,n){var i=t.Hf(n);return i.sf(Yc.xd)&&(i=i.Df(nd)),i}function sd(t,n){var i=t.Df(n);return i.Sd(nd)&&(i=i.Hf(nd)),i}function od(t,n){var i=t.Hf(n);return t.Cd()||n.Cd()?i:(i.Sd(id)?i=i.Hf(nd):i.sf(id.Fd())&&(i=i.Df(nd)),i)}function ad(t,n){if(t||n)return t?n?Yc.cf(t,n):t:n}function cd(t,n){if(t||n)return t?n?Yc.hf(t,n):t:n}var hd=6,fd=["WEBVTT ","WEBVTT\t","WEBVTT\n"],vd=[" ","\t","\n","\f","\r"],dd=/^\d*$/,ld=/.*[0-9]+.*/,_d=/^[\d.-]+$/,gd=/(^\.|\.$)/,wd=/(\D\.|\.\D)/;function yd(t,n){void 0===n&&(n=Iv);var i={_c:[],Qk:[],kA:[]},r=md(t),e=new mr;if(Nd(r),pd(r,function(t){return"\n"!==t},e),e.rs>=r.length)return i;(e.$u(1),"\n"!==r.charAt(e.rs))?Td(kd(r,e,!1,!0,i,n),i):e.$u(1);for(pd(r,function(t){return"\n"===t},e);e.rs<r.length;){Td(kd(r,e,!1,!1,i,n),i),pd(r,function(t){return"\n"===t},e)}return i}function md(t){var n=en(t,"\0"," "),i=en(n,"\r\n","\n");return en(i,"\r","\n")}function pd(t,n,i){for(var r=i.rs;i.rs<t.length&&n(t.charAt(i.rs));)i.$u(1);return t.substring(r,i.rs)}function kd(t,n,i,r,e,u){for(var s,o,a,c,h=0,f=n.rs,v="",d=!1,l=!1;!d;)if(s=pd(t,function(t){return"\n"!==t},n),h++,n.rs>=t.length?d=!0:n.$u(1),un(s,"--\x3e"))if(!r&&1===h||2===h&&!l){l=!0,f=n.rs,o=new zv(0,0,"",!1,v);try{Ed(s,e.Qk,o,u),v=""}catch(t){console.warn(t),o=null}}else n.$u(-(n.rs-f));else{if(""===s)break;r&&sn(s,"X-TIMESTAMP-MAP")&&(e.AA=Ad(s)),r||2!==h||i||(an("STYLE",v.replace(/ /g,""))?(a={ru:Rv.sA},v=""):an("REGION",v.replace(/ /g,""))&&(c=new Kv("",100,3,0,100,0,100,""),v="")),v&&(v+="\n"),v=v+=s,f=n.rs}if(o)return o.Ok=v,o;if(a);else if(c)return function(t,n){for(var i=t.split(/\s/),r=0;r<i.length;r++){var e=i[r];if(0!==e.length&&un(e,":")&&":"!==e.charAt(0)&&":"!==e.charAt(e.length-1)){var u=e.indexOf(":"),s=e.substring(0,u),o=e.substring(u+1,e.length);switch(s.toUpperCase()){case"ID":Vd(o,n);break;case"WIDTH":Wd(o,n);break;case"LINES":qd(o,n);break;case"REGIONANCHOR":var a=Fd(o);a&&(n.gA=a[0],n.wA=a[1]);break;case"VIEWPORTANCHOR":var c=Fd(o);c&&(n.mA=c[0],n.pA=c[1]);break;case"SCROLL":Hd(o,n)}}}}(v,c),c;return null}function Ad(t){var n,i=t.split("=")[1].trim().split(","),r=bd(i[0].trim(),"MPEGTS")?i[0]:i[1],e=bd(i[0].trim(),"LOCAL")?i[0]:i[1];return{bA:(n=+r.split(/:(.*)/)[1].trim()||0,Yc.Gd(n,$v)),TA:Id(e.split(/:(.*)/)[1].trim(),new mr)||Yc.xd}}function bd(t,n){return sn(t,n)}function Td(t,n){t&&function(t){return t.ru===Rv.eA}(t)?n._c.push(t):t&&function(t){return t.ru===Rv.uA}(t)?n.Qk.push(t):t&&function(t){return t.ru===Rv.sA}(t)&&n.kA.push(t)}function Ed(t,n,i,r){var e=new mr;if(Dd(t,e),i.u_=Sd(Id(t,e).Sl(),r).Od,Dd(t,e),"--\x3e"!==t.substring(e.rs,e.rs+3))throw v("Something went wrong with parsing a WebVTT Cue");e.$u(3),Dd(t,e),i.Ck=Sd(Id(t,e).Sl(),r).Od,function(t,n,i){for(var r=t.split(/\s/),e=0;e<r.length;e++){var u=r[e];if(0!==u.length&&un(u,":")&&":"!==u.charAt(0)&&":"!==u.charAt(u.length-1)){var s=u.indexOf(":"),o=u.substring(0,s),a=u.substring(s+1,u.length);switch(o.toUpperCase()){case"REGION":Bd(a,n,i);break;case"VERTICAL":Md(a,n);break;case"D":Ud(a,n);break;case"LINE":case"L":Pd(a,n);break;case"POSITION":case"T":xd(a,n);break;case"SIZE":case"S":Ld(a,n);break;case"ALIGN":case"A":Od(a,n)}}}}(t.substring(e.rs,t.length),i,n)}function Sd(t,n){return t.Df(n.nA)}function Rd(t){return/^[0-9]$/.test(t)}function Id(t,n){var i,r,e,u,s=en(t,",","."),o=!1;if(n.rs>=s.length||!Rd(s.charAt(n.rs)))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var a=pd(s,Rd,n),c=g(a,10);if((a.length>2||c>59)&&(o=!0),n.rs>=s.length||":"!==s.charAt(n.rs))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.$u(1);var h=pd(s,Rd,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var f=g(h,10);if(o||n.rs<s.length&&":"===s.charAt(n.rs)){if(n.rs>=s.length||":"!==s.charAt(n.rs))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.$u(1);var d=pd(s,Rd,n);if(2!==h.length)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");i=c,r=f,e=g(d,10)}else i=0,r=c,e=f;if(n.rs>=s.length||"."!==s.charAt(n.rs))throw new v("Something went wrong with parsing a WebVTT Cue timestamp");n.$u(1);var l=pd(s,Rd,n);if(u=g(l,10),f>59||e>59)throw new v("Something went wrong with parsing a WebVTT Cue timestamp");var _=Yc.Gd(60*i*60+60*r+e,1),w=Yc.Gd(u,1e3);return _.Df(w)}function Nd(t){if(t.length<hd)return!1;for(var n=0;n<fd.length;n++){if(sn(t,fd[n]))return!0}return!1}function Dd(t,n){for(;n.rs<t.length&&(i=t.charAt(n.rs),Tn(vd,i));)n.$u(1);var i}function Cd(t){var n=t.lastIndexOf("%");if(n>-1){var i=w(t.substring(0,n));if(!y(i)&&i>=0&&i<=100)return i}return null}function Od(t,n){var i=t.toLowerCase();switch(i){case"start":case"center":case"end":case"left":case"right":n.oA=i;break;case"middle":n.oA="center"}}function Pd(t,n){var i=t,r="";if(un(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length)),ld.test(i)){var e;if(on(i,"%")){if(!(e=Cd(i)))return;e+="%"}else{if(!_d.test(t)||t.lastIndexOf("-")>0||t.indexOf(".")!==t.lastIndexOf(".")||!wd.test(t)||gd.test(t))return;e=g(t)}switch(n.aA=e,n.dA=on(i,"%"),r=t.toLowerCase()){case"start":case"center":case"end":n.cA=r;break;case"middle":n.cA="center"}}}function xd(t,n){var i=t,r="";un(t,",")&&(i=t.substring(0,t.indexOf(",")),r=t.substring(t.indexOf(",")+1,t.length));var e=Cd(i);if(e)switch(n.hA=e,r=r.toLowerCase()){case"line-left":case"center":case"line-right":case"auto":n.fA=r;break;case"start":n.fA="line-left";break;case"middle":n.fA="center";break;case"end":n.fA="line-right"}}function Bd(t,n,i){for(var r=i.length-1;r>=0;r--)if(i[r].ic===t)return void(n.vA=i[r])}function Ld(t,n){var i=Cd(t);i&&(n.Ju=i)}function Md(t,n){switch(t.toLowerCase()){case"rl":case"vertical:rl":case"vertical-rl":n.lA="rl";break;case"lr":case"vertical:lr":case"vertical-lr":n.lA="lr";break;default:n.lA=""}}function Ud(t,n){"VERTICAL"===t.toUpperCase()?n.lA="rl":"VERTICAL-LR"===t.toUpperCase()&&(n.lA="lr")}function Fd(t){if(t.indexOf(",")>=0){var n=Cd(t.substring(0,t.indexOf(","))),i=Cd(t.substring(t.indexOf(",")+1,t.length));return[Rc(n||0,0,100),Rc(i||100,0,100)]}return null}function Vd(t,n){n.ic=t}function Hd(t,n){"up"===t.toLowerCase()&&(n.yA="up")}function qd(t,n){dd.test(t)&&(n._A=g(t))}function Wd(t,n){var i=Cd(t);i&&(n.q_=i)}function Xd(t){return un(t,"stpp")}function Gd(t){return t.some(zd)}function zd(t){return un(t,"vtt")||un(t,"wvtt")}function jd(t,n){return Sv(t)&&Gd(n)}function Yd(t,n){return!!t&&(Sv(t)?function(t){return t.some(Xd)}(n)||Gd(n):un(t,Ev.APPLICATION_TTML_XML)||un(t,Ev.TEXT_VTT)||un(t,Ev.IMAGE_JPEG))}function Qd(t,n){return t===vf.Fy||t===vf.Uy&&n===vf.Fy}var Zd=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,n,i,u)||this).url=r,s.status=e,s}return ut(n,t),n}(Vo),Jd=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).EA=n,e}return ut(n,t),b(n,[{key:"SA",get:function(){return this.EA}}]),n}(at);var Kd=function(t){function n(n,i){return t.call(this,n,"Error while opening "+n.Zl+". Invalid URL.",i)||this}return ut(n,t),b(n,[{key:"name",get:function(){return"HttpOpenError"}}]),n}(Jd);var $d=function(t){function n(n,i){var r;return(r=t.call(this,n.SA,function(t){return"Error while loading "+t.SA.Zl+", status code "+t.IA}(n),i)||this).RA=n,r}return ut(n,t),b(n,[{key:"name",get:function(){return"HttpResponseError"}},{key:"NA",get:function(){return this.RA}}]),n}(Jd);function tl(t){return Nd(md(t))?"webvtt":Fv(t)?"ttml":"srt"}function nl(t,n,i,r){for(var e=0,u=t._c.Ha;e<u.length;e++){var s=u[e];if(s.u_>i)break;n<=s.Ck&&r.push(s)}}function il(t,n){return Pc(t.rc,n.rc)}function rl(t,i){var r=i,e=0;if(t instanceof Kd)r=t.SA.Zl;else if(t instanceof $d){var u=t.NA;if(r=u.DA,0===(e=u.IA))return new Zd(n.ErrorCode.SUBTITLE_CORS_ERROR,"Could not load the subtitle file. Make sure the source is set correctly and that CORS support is enabled.",r,e,t)}return new Zd(n.ErrorCode.SUBTITLE_LOAD_ERROR,"Could not load the subtitle file.",r,e,t)}function el(t){switch(t){case"webvtt":return"WebVTT";case"srt":return"SRT";case"ttml":return"TTML";default:return""}}function ul(t,n,i,r,e,u,s){void 0===e&&(e=!1),void 0===u&&(u=0),void 0===s&&(s=t.length);for(var o=u,a=s-1;o<=a;){var c=o+(a-o>>1),h=r(i(t[c]),n);if(h<0)o=c+1;else if(h>0)a=c-1;else{if(!(e&&c>u&&0===r(i(t[c-1]),n)))return c;a=c-1}}return~o}function sl(t,n){return t.u_<=n&&t.Ck>n}function ol(t,n){return function(t,n){return Bc(t.u_,n.u_,pv)}(t,n)||function(t,n){return Bc(t.Ck,n.Ck,pv)}(t,n)}function al(t,n){var i=ul(t,n,z,ol,!0);if(i<0)return i;for(;i<t.length&&0===ol(n,t[i]);i++)if(t[i].if(n))return i;return-(i+1)}function cl(t){var n=t.Ca;if(!n)return-1;if(t instanceof Av)return n.CA(t);var i=n._c;if(!i)return-1;var r=al(i.Ha,t);return r>=0?r:-1}function hl(t,n){var i=function(t,n,i){for(var r=t.length,e=n.length,u=0,s=0,o=[],a=[];u<r&&s<e;){var c=t[u],h=n[s];c===h?(u++,s++):i(h,c)<=0?(o.push(h),s++):(a.push(c),u++)}for(;u<r;)a.push(t[u]),u++;for(;s<e;)o.push(n[s]),s++;return{OA:o,PA:a}}(t,n,ol);return function(t,n){for(var i=n.length,r=0;r<i;r++)t[r]=n[r];t.length=i}(t,n),i}var fl=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).xA=i,e.Ad=r,e}return ut(n,t),n}(Ps),vl=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).cue=i,r}return ut(n,t),n}(xs),dl=function(t){function n(n,i){return t.call(this,"BA",n,i)||this}return ut(n,t),n.prototype.Da=function(){return new ll(this.xA.Na)},n}(fl),ll=function(t){function n(n){return t.call(this,"enter",n)||this}return ut(n,t),n}(vl),_l=function(t){function n(n,i){return t.call(this,"LA",n,i)||this}return ut(n,t),n.prototype.Da=function(){return new gl(this.xA.Na)},n}(fl),gl=function(t){function n(n){return t.call(this,"exit",n)||this}return ut(n,t),n}(vl),wl=function(t){function n(n){var i;return(i=t.call(this,"MA")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new yl(this.Ca.Na)},n}(Ps),yl=function(t){function n(n){var i;return(i=t.call(this,"cuechange")||this).track=n,i}return ut(n,t),n}(xs);function ml(){return r.va()}var pl=0;function kl(t){var n=ml(),i=_.max(0,16-(n-pl)),r=a(function(){return t(n+i)},i);return pl=n+i,r}var Al=c,bl=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,Tl=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame;bl&&Tl||(bl=kl,Tl=Al),bl=bl.bind(t),Tl=Tl.bind(t);var El=new(function(){function t(){}var n=t.prototype;return n.UA=function(t){return bl(t)},n.FA=function(t){Tl(t)},t}()),Sl=function(t){function n(n){var i;return(i=t.call(this,"VA")||this).xA=n,i}return ut(n,t),n.prototype.Da=function(){return new Rl(this.xA.Na)},n}(Ps),Rl=function(t){function n(n){var i;return(i=t.call(this,"entercue")||this).cue=n,i}return ut(n,t),n}(xs),Il=function(t){function n(n){var i;return(i=t.call(this,"HA")||this).xA=n,i}return ut(n,t),n.prototype.Da=function(){return new Nl(this.xA.Na)},n}(Ps),Nl=function(t){function n(n){var i;return(i=t.call(this,"exitcue")||this).cue=n,i}return ut(n,t),n}(xs),Dl=.1;function Cl(t,n){return xc(t.Ad,n.Ad)||function(t,n){return t.Ca===n.Ca?Pc(cl(t),cl(n)):il(t.Ca,n.Ca)}(t.xA,n.xA)||function(t,n){return t===n?0:"BA"===t?-1:1}(t.type,n.type)}var Ol=function(){function t(t,n){var i=this;void 0===n&&(n=El),this.Ev=void 0,this.qA=[],this.WA=0,this.XA=0,this.GA=[],this.zA=!1,this.jA=void 0,this.YA=!1,this.QA=function(){i.WA=0,i.ZA(),i.JA()},this.KA=function(){i.ZA(),i.JA()},this.$A=function(){i.zA=!0,i.nb();var t=void 0!==i.jA?i.jA:i.XA,n=i.Ev.Gy;_.abs(t-n)>Dl&&(i.jA=n,i.YA=!1)},this.ib=function(){i.zA=!0;var t=i.Ev.Gy;_.abs(i.XA-t)<=Dl&&(i.YA=!0),i.ZA(),i.JA()},this.rb=function(){i.ZA(),i.JA()},this.eb=function(){i.ub()},this.sb=function(t){An(i.GA,t.xA),i.ub()},this.ob=n,void 0!==t&&this.ab(t)}var n=t.prototype;return n.ab=function(t){this.Ev=t,t.Iu(Ia.Xh,this.KA),t.Iu(Ia.Bh,this.KA),t.Iu("playing",this.KA),t.Iu(Ia.xh,this.KA),t.Iu(Ia.Hh,this.$A),t.Iu(Ia.Vh,this.ib),this.ub()},n.Fa=function(){for(var t=0,n=this.qA.slice();t<n.length;t++){var i=n[t];this.Ua(i)}this.nb(),this.Ev&&(this.Ev.Cu(Ia.Xh,this.KA),this.Ev.Cu(Ia.Bh,this.KA),this.Ev.Cu("playing",this.KA),this.Ev.Cu(Ia.xh,this.KA),this.Ev.Cu(Ia.Hh,this.$A),this.Ev.Cu(Ia.Vh,this.ib)),this.Ev=void 0,this.WA=0,this.XA=0,this.zA=!1,this.jA=void 0,Sn(this.GA)},n.La=function(t){Tn(this.qA,t)||(this.qA.push(t),t.Iu("cb",this.eb),t.Iu("hb",this.sb),t.Iu("Ma",this.rb),t._c.qa&&this.ub())},n.Ua=function(t){if(An(this.qA,t)&&(t.Cu("cb",this.eb),t.Cu("hb",this.sb),t.Cu("Ma",this.rb),t._c.qa)){for(var n=0,i=t._c.Ha;n<i.length;n++){var r=i[n];An(this.GA,r)}this.ub()}},n.JA=function(){this.Ev.Jy||this.Ev.Qy?this.nb():this.ub()},n.ub=function(){this.WA||(this.WA=this.ob.UA(this.QA))},n.nb=function(){this.WA&&(this.ob.FA(this.WA),this.WA=0)},n.ZA=function(){var t=this.qA;if(t.length&&!this.Ev.Jy){var n=this.zA&&!this.YA?this.jA:this.Ev.Gy,i=n-this.XA<-Dl,r=this.zA||i,e=this.YA;this.zA&&(this.jA=void 0,this.zA=!1,this.YA=!1);for(var u,s=this.XA,o=[],a=0;a<t.length;a++){var c=t[a];if(c.dc!==oo.cc){c.fb(n,r);for(var h=0,f=c.gc.Ha;h<f.length;h++){var v=f[h];o.push(v)}}}if(r&&!e)u=this.GA;else{u=[];for(var d=Mc.Pd.Od,l=0;l<t.length;l++){var g=t[l];g.dc!==oo.cc&&nl(g,s-d,n,u)}}for(var w=u.length-1;w>=0;w--)Tn(o,u[w])&&bn(u,w);var y=[];if(!r||e)for(var m=u.length-1;m>=0;m--){var p=u[m];p.u_>=s&&p.Ck<=n&&(y.push(p),bn(u,m))}for(var k=[],A=[],b=0;b<y.length;b++){var T=y[b];T.qk||k.push(new dl(T,T.u_)),k.push(new _l(T,_.max(T.u_,T.Ck)))}for(var E=0,S=u;E<S.length;E++){var R=S[E];R.qk&&(k.push(new _l(R,_.max(R.u_,R.Ck))),R.qk=!1)}for(var I=0;I<o.length;I++){var N=o[I];N.qk||(k.push(new dl(N,N.u_)),N.qk=!0)}k.sort(Cl);for(var D=0;D<k.length;D++){var C=k[D],O=C.xA;O.Su(C);var P=O.Ca;"BA"===C.type?P.Su(new Sl(O)):P.Su(new Il(O)),Tn(A,P)||A.push(P)}A.sort(il);for(var x=0;x<A.length;x++){var B=A[x];B.Su(new wl(B))}this.XA=n,this.GA=o}},n.Va=function(){this.Fa()},t}(),Pl=0;function xl(){return Pl++}var Bl=0;var Ll,Ml=function(){function t(t){this.Ia=void 0,this.vb=t}var n=t.prototype;return n.Da=function(){return function(t){for(var n=[],i=0;i<t.qa;i++)n[i]=t.ju(i).Na;return n.item=function(n){n|=0;var i=t.ju(n);return i&&i.Na||void 0},l.defineProperty(n,"constructor",{value:mv}),n}(this)},n.lb=function(t){for(var n=this.vb,i=n.length-1;i>=0;i-=1){var r=n[i];if(t.if(r))return!0}return!1},n.ju=function(t){return this.vb[t]},b(t,[{key:"Ha",get:function(){return this.vb}},{key:"qa",get:function(){return this.vb.length}},{key:"Na",get:function(){if(this.Ia){var t=this.vb;this.Ia.length=t.length;for(var n=0;n<t.length;n++)this.Ia[n]=t[n].Na}else this.Ia=this.Da();return this.Ia}}]),t}(),Ul=function(t){function n(n){var i;return(i=t.call(this,"qs")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new Fl(this.Ca.Na)},n}(Ps),Fl=function(t){function n(n){var i;return(i=t.call(this,"update")||this).track=n,i}return ut(n,t),n}(xs),Vl=function(t){function n(n){var i;return(i=t.call(this,"Ma")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new Hl(this.Ca.Na)},n}(Ps),Hl=function(t){function n(n){var i;return(i=t.call(this,"change")||this).track=n,i}return ut(n,t),n}(xs),ql=function(t){function n(n,i){var r;return(r=t.call(this,"_b")||this).Ca=n,r.lc=i,r}return ut(n,t),n.prototype.Da=function(){return new Wl(this.Ca.Na,_o(this.lc))},n}(Ps),Wl=function(t){function n(n,i){var r;return(r=t.call(this,"readystatechange")||this).track=n,r.readyState=i,r}return ut(n,t),n}(xs),Xl=function(t){function n(n){var i;return(i=t.call(this,"gb")||this).Ca=n,i}return ut(n,t),n.prototype.Da=function(){return new Gl(this.Ca.Na)},n}(Ps),Gl=function(t){function n(n){var i;return(i=t.call(this,"typechange")||this).track=n,i}return ut(n,t),n}(xs),zl=function(t){function n(n){var i;return(i=t.call(this,"cb")||this).xA=n,i}return ut(n,t),n.prototype.Da=function(){return new jl(this.xA.Na)},n}(Ps),jl=function(t){function n(n){var i;return(i=t.call(this,"addcue")||this).cue=n,i}return ut(n,t),n}(xs),Yl=function(t){function n(n){var i;return(i=t.call(this,"hb")||this).xA=n,i}return ut(n,t),n.prototype.Da=function(){return new Ql(this.xA.Na)},n}(Ps),Ql=function(t){function n(n){var i;return(i=t.call(this,"removecue")||this).cue=n,i}return ut(n,t),n}(xs);!function(t){t[t.NONE=0]="NONE",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.ERROR=3]="ERROR"}(Ll||(Ll={}));var Zl=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).Hk=Jl+++"",o.wb=xl(),o.yb=!1,o.mb=oo.cc,o.pb=Ll.NONE,o.kb=void 0,o.vb=[],o.Ab=[],o.bb=0,o.Tb=0,o.Eb=s||"",o.Sb=n,o.Rb=r,o.yb=Boolean(e),o.zo=u||"",o.Ib=i||"",o.Nb=new Ml(o.vb),o.Db=new Ml(o.Ab),o}ut(n,t);var i=n.prototype;return i.Cb=function(t){return pn(this.Nb.Ha,function(n){return n.ic===t})},i.Da=function(){return fo(this)},i.Ob=function(t){t=co(t);var n=this.dc;t!==n&&(this.mb=t,t!==oo.cc&&n===oo.cc?this.rm&&this.Pb(this.rm):t===oo.cc&&(this.Ab.forEach(function(t){return t.qk=!1}),Sn(this.Ab),this.Tb=0,this.rm&&this.xb(this.rm)))},i.Pb=function(t){t.um(this)},i.xb=function(t){t.sm(this)},i.Bb=function(t){if(t&&!t.Ca){var n=al(this._c.Ha,t);if(!(n>=0)){t.Ca=this;var i=-(n+1);this.vb.splice(i,0,t),this.Lb(i),t.Lk=i,i<this.Tb&&(this.Tb=i),this.Su(new zl(t))}}},i.Mb=function(t){if(t&&t.Ca===this){var n=this.CA(t);if(!(n<0)){t.qk=!1;var i=this.Ab,r=al(i,t);r>=0&&bn(i,r),bn(this.vb,n),this.Lb(n),t.Lk=-1,this.Tb>n&&--this.Tb,this.Su(new Yl(t))}}},i.fb=function(t,n){var i=this.Ab,r=this.vb,e=this.Tb,u=!1;n&&(e=0);for(var s=i.length-1;s>=0;s--){sl(i[s],t)||(u=!0,bn(i,s))}for(;e<r.length&&r[e].u_<=t;){var o=r[e];sl(o,t)&&!Tn(i,o)&&(u=!0,i.push(o)),e++}u&&wn(i,ol),this.Tb=e},i.CA=function(t){return(-1===t.Lk||t.Lk>=this.bb)&&this.Ub(),t.Lk},i.Ub=function(){for(var t=this.vb,n=this.bb;n<t.length;n++)t[n].Lk=n;this.bb=t.length},i.Lb=function(t){t<this.bb&&(this.bb=t)},i.Va=function(){this.Du();for(var t=this.vb.slice(),n=0;n<t.length;n++){t[n].Va()}Sn(this.vb),Sn(this.Ab)},b(n,[{key:"gc",get:function(){return this.Db}},{key:"_c",get:function(){return this.Nb}},{key:"Fb",get:function(){return this.yb},set:function(t){this.yb=t}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"ic",get:function(){return this.Hk}},{key:"rc",get:function(){return this.wb}},{key:"vc",get:function(){return this.Eb}},{key:"ec",get:function(){return this.Sb}},{key:"uc",get:function(){return this.Ib},set:function(t){t!==this.Ib&&(this.Ib=t,this.Su(new Ul(this)))}},{key:"sc",get:function(){return this.Rb}},{key:"dc",get:function(){return this.mb},set:function(t){this.Ob(t),this.Su(new Vl(this))}},{key:"lc",get:function(){return this.pb},set:function(t){this.pb!==t&&(this.pb=t,this.Su(new ql(this,this.pb)))}},{key:"wc",get:function(){return this.kb},set:function(t){this.kb=t}},{key:"rm",get:function(){return this.Vb},set:function(t){this.Vb=t}},{key:"ru",get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t,this.Su(new Xl(this)))}}]),n}(Ds),Jl=0;var Kl=function(t){function n(n,i){var r;return(r=t.call(this,vf.xy,n,i,!1)||this).ru="ttml",r}return ut(n,t),n}(Zl),$l=function(t){function n(n,i){var r;return(r=t.call(this)||this).Hb=i,r.qb=new Ft,r.Wb=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((i=n.Ca).ru){t.next=4;break}return t.next=4,i.xu("gb");case 4:if("id3"===i.ru){t.next=6;break}return t.abrupt("return");case 6:if(0!==i._c.qa){t.next=11;break}return t.next=9,i.xu("cb");case 9:t.next=6;break;case 11:r.Xb(i);case 12:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.Gb=function(t){var n=t.Ca;if("id3"===n.ru&&r.qb.has(n.rc)){var i=r.qb.get(n.rc);r.Ua(i),r.zb.Ua(i),n.Cu("cb",r.jb)}},r.jb=function(t){t_(t.xA)&&r.Yb(t.xA)},r.zb=new Ol(n),r.Qb(),r}ut(n,t);var i=n.prototype;return i.Qb=function(){this.Hb.Iu("Oa",this.Wb),this.Hb.Iu("Pa",this.Gb)},i.Zb=function(){this.Hb.Cu("Oa",this.Wb),this.Hb.Cu("Pa",this.Gb)},i.Xb=function(t){var n=t._c.Ha[0];if(t_(n)){var i=function(t){var n=t.match(n_);if(!n)return;return{Ca:n[1],sc:n[2]}}(n.Ok.description),r=i.Ca,e=i.sc;if(!this.Jb(r,e)){var u=new Kl(r,e);this.La(u),this.zb.La(u),this.qb.set(t.rc,u);for(var s=0,o=t._c.Ha;s<o.length;s++){var a=o[s];t_(a)&&this.Yb(a)}t.Iu("cb",this.jb)}}},i.Jb=function(t,n){return!!pn(this.im.Ha,function(i){return i.uc===t&&i.sc===n})},i.Yb=function(t){if(t.Ca)for(var n=this.qb.get(t.Ca.rc),i=Cv(t.Ok.text,0,{nA:new Mc(0),iA:new Mc(1/0),rA:new Mc(-t.Ck)}),r=0;r<i.length;r++){var e=i[r];n.Bb(e)}},i.um=function(n){this.im.Ha.indexOf(n)<0||t.prototype.um.call(this,n)},i.Fa=function(){var n=Tt.coroutine(bt.mark(function n(){var i,r,e,u,s;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:for(i=0,r=this.Hb.Ha;i<r.length;i++)r[i].Cu("cb",this.jb);for(e=0,u=this.im.Ha;e<u.length;e++)s=u[e],this.zb.Ua(s);return this.qb.clear(),n.next=5,t.prototype.Fa.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.Va=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.Zb(),this.zb.Va(),n.next=4,t.prototype.Va.call(this);case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(ov);function t_(t){return function(t){return"TXXX"===t.id||"TXX"===t.id}(n=t.Ok)&&n_.test(n.description);var n}var n_=/^Track:(.+),Lang:(.+)$/;var i_=function(t){function n(n){var i;(i=t.call(this)||this).Kb=[],i.Wb=function(t){i.La(t.Ca)},i.Gb=function(t){i.Ua(t.Ca)},i.za=function(t){"Oa"!==t.type&&"Pa"!==t.type&&"Ma"!==t.type&&i.Eu(t)};for(var r=0;r<n.length;r++){var e=n[r];i.$b(e)}return i}ut(n,t);var i=n.prototype;return i.$b=function(t){this.Kb.push(t);for(var n=0,i=t.Ha;n<i.length;n++){var r=i[n];this.La(r)}this.tT(t)},i.nT=function(t){An(this.Kb,t),t.Du();for(var n=0,i=t.Ha;n<i.length;n++){var r=i[n];this.Ua(r)}},i.tT=function(t){t.Iu("Oa",this.Wb),t.Iu("Pa",this.Gb),t.Sa(this.za)},i.Va=function(){for(;this.Kb.length;)this.nT(this.Kb[0]);t.prototype.Va.call(this)},i.Da=function(){return lo(this)},n}(Fs);var r_,e_=function(t){function n(n){var i;return(i=t.call(this)||this).iT=[],i.rT=!1,i.eT=new ao,i.uT=new ao,i.sT=new go,i.oT=!1,i.aT(n),n.Sa(i.Eu),i.Wa=n,i.eT.Qa=n.cT,i.uT.Qa=n.hT,i.sT.Qa=n.fT,i.vT=new $l(st(i),i.sT),i.qA=new i_([i.sT,i.vT.im]),i}ut(n,t);var i=n.prototype;return i.dT=function(){this.Wa.dT()},i.lT=function(){this.Wa.lT()},i._T=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Cr(this.iT.map(function(t){return t._T()})).then(G));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gT=function(){return this.Wa.gT()},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(i),t.next=3,this.Wa.wT(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.yT=function(){return this.Qa.yT()},i.mT=function(){this.Qa.mT()},i.pT=function(){this.Qa.pT()},i.kT=function(){if(!this.rT){for(var t=0,n=this.iT;t<n.length;t++){n[t].kT()}this.rT=!0}},i.AT=function(t){this.Wa.AT(t)},i.bT=function(){this.Wa.bT()},i.TT=function(){this.Wa.TT()},i.ET=function(){this.Wa.ET()},i.ST=function(){return this.Wa.ST()},i.RT=function(){return this.Wa.RT()},i.IT=function(){for(var t=[],n=0,i=this.iT;n<i.length;n++){var r=i[n];t.push.apply(t,r.IT())}return t},i.NT=function(t){for(var n=!1,i=0,r=this.iT;i<r.length;i++){n=r[i].NT(t)||n}return n},i.Su=function(n){this.NT(n)||t.prototype.Su.call(this,n)},i.aT=function(t){this.iT.push(t)},i.DT=function(t){An(this.iT,t)},i.CT=function(t){if(t!==this.Wa){var n=this.Wa;n.bT(),n.Ra(this.Eu);var i=tv(this),r=this.OT,e=this.RT();this.Wa=t,this.eT.Qa=t.cT,this.uT.Qa=t.hT,this.sT.Qa=t.fT,iv(this,i,this);var u=this.OT;u!==r&&this.Su(new sv(u)),this.RT()!==e&&this.Su(new uv),t.Sa(this.Eu),t.AT(n)}},i.PT=function(){},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Du(),this.Wa.bT(),n=0,i=this.iT;case 3:if(!(n<i.length)){t.next=10;break}return r=i[n],t.next=7,r.Va();case 7:n++,t.next=3;break;case 10:return this.eT.Va(),this.uT.Va(),this.sT.Va(),this.qA.Va(),t.next=16,this.vT.Va();case 16:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Cr(this.iT.map(function(t){return t.Fa()})).then(G));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"cT",get:function(){return this.eT}},{key:"fT",get:function(){return this.qA}},{key:"hT",get:function(){return this.uT}},{key:"xT",get:function(){return this.Wa.xT}},{key:"BT",get:function(){return this.Wa.BT},set:function(t){this.Wa.BT=t}},{key:"OT",get:function(){return this.Wa.OT}},{key:"Gy",get:function(){return this.Wa.Gy},set:function(t){this.Wa.Gy=t}},{key:"e_",get:function(){return this.Wa.e_}},{key:"LT",get:function(){return this.Wa.LT}},{key:"zy",get:function(){return this.Wa.zy}},{key:"Vu",get:function(){return this.Wa.Vu}},{key:"jy",get:function(){return this.Wa.jy}},{key:"MT",get:function(){return this.Wa.MT}},{key:"Cv",get:function(){return function(t){for(var n=0,i=0,r=0,e=0,u=0,s={amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0},o=0;o<t.length;o++){var a=t[o];n+=a.Iv,i+=a.Rv,r+=a.Bv,e+=a.Sv,u+=a.Nv,s.amountOfBufferedAudioSegments+=a.Dv.amountOfBufferedAudioSegments,s.amountOfBufferedVideoSegments+=a.Dv.amountOfBufferedVideoSegments}return{Iv:n,Rv:i,Bv:r,Sv:e,Nv:u,Dv:s}}(this.iT.map(function(t){return t.Cv}))}},{key:"Yy",get:function(){return this.Wa.Yy},set:function(t){this.Wa.Yy=t}},{key:"UT",get:function(){return this.Wa.UT}},{key:"Qy",get:function(){return this.Wa.Qy}},{key:"Zy",get:function(){return this.Wa.Zy},set:function(t){this.Wa.Zy=t}},{key:"FT",get:function(){return this.Wa.FT}},{key:"VT",get:function(){return this.Wa.VT},set:function(t){this.Wa.VT=t}},{key:"lc",get:function(){return this.Wa.lc}},{key:"HT",get:function(){return this.Wa.HT}},{key:"Jy",get:function(){return this.Wa.Jy}},{key:"Ky",get:function(){return this.Wa.Ky}},{key:"$y",get:function(){return this.Wa.$y}},{key:"tm",get:function(){return this.Wa.tm},set:function(t){this.Wa.tm=t}},{key:"Qa",get:function(){return this.Wa},set:function(t){this.CT(t)}}]),n}(Cs);function u_(t){switch(t){case r_.qT:case"":return r_.qT;case r_.Uy:return r_.Uy;case r_.Vv:default:return r_.Vv}}!function(t){t.WT="",t.Vv="none",t.Uy="metadata",t.qT="auto"}(r_||(r_={}));var s_=function(){function t(){this.XT=[],this.Ia=void 0}var n=t.prototype;return n.Df=function(t){this.XT.push(t),this.Ia&&this.Ia.push(t.Na)},n.Ba=function(t){return this.XT[t]},n.lb=function(t){return L(t)?En(this.XT,t):Tn(this.XT,t)},b(t,[{key:"Ha",get:function(){return this.XT}},{key:"qa",get:function(){return this.XT.length}},{key:"Na",get:function(){var t,n;return this.Ia||(this.Ia=((n=(t=this).Ha.map(function(t){return t.Na})).item=function(n){n|=0;var i=t.Ba(n);return i&&i.Na||void 0},n)),this.Ia}}]),t}(),o_=0;var a_=function(t){function n(n){var i;return(i=t.call(this)||this).ru="audio",i.GT=!1,i.Ia=void 0,i.zT=n,i.wb=xl(),i.Hk=o_+++"",i.Ib=n.label,i.XT=new s_,i.jT(),i}ut(n,t);var i=n.prototype;return i.YT=function(t){this.nc=t},i.jT=function(){this.nc=this.QT},b(n,[{key:"tc",get:function(){}},{key:"nc",get:function(){return this.GT},set:function(t){this.GT!==t&&(this.GT=t,this.QT=t,this.Su(new Vl(this)))}},{key:"QT",get:function(){return!!this.zT.enabled},set:function(t){this.zT.enabled=t}},{key:"Na",get:function(){return this.Ia||(this.Ia=eo(this)),this.Ia}},{key:"ic",get:function(){return this.Hk}},{key:"rc",get:function(){return this.wb}},{key:"ec",get:function(){return this.zT.kind}},{key:"uc",get:function(){return this.Ib},set:function(t){t!==this.Ib&&(this.Ib=t,this.Su(new Ul(this)))}},{key:"sc",get:function(){return this.zT.language}},{key:"dc",get:function(){return this.nc?"enabled":"disabled"}},{key:"ZT",get:function(){return this.zT}},{key:"oc",get:function(){return this.XT}},{key:"ac",get:function(){},set:function(t){}}]),n}(Ds),c_=0;var h_=function(t){function n(n){var i;return(i=t.call(this)||this).ru="video",i.GT=!1,i.Ia=void 0,i.zT=n,i.wb=xl(),i.Hk=c_+++"",i.XT=new s_,i.Ib=n.label,i.jT(),i}ut(n,t);var i=n.prototype;return i.jT=function(){this.nc=this.QT},i.YT=function(t){this.nc=t},b(n,[{key:"tc",get:function(){}},{key:"nc",get:function(){return this.GT},set:function(t){this.GT!==t&&(this.GT=t,this.QT=t,this.Su(new Vl(this)))}},{key:"QT",get:function(){return!!this.zT.selected},set:function(t){this.zT.selected=t}},{key:"Na",get:function(){return this.Ia||(this.Ia=eo(this)),this.Ia}},{key:"ic",get:function(){return this.Hk}},{key:"rc",get:function(){return this.wb}},{key:"ec",get:function(){return"main"}},{key:"uc",get:function(){return this.Ib},set:function(t){t!==this.Ib&&(this.Ib=t,this.Su(new Ul(this)))}},{key:"sc",get:function(){return this.zT.language}},{key:"dc",get:function(){return this.nc?"enabled":"disabled"}},{key:"ZT",get:function(){return this.zT}},{key:"oc",get:function(){return this.XT}},{key:"ac",get:function(){},set:function(t){}}]),n}(Ds),f_=function(t){function n(n){var i;return(i=t.call(this,"JT")||this).MT=n,i}return ut(n,t),n}(Un),v_=function(t){function i(n){var i;return(i=t.call(this)||this).KT=new Rr,i.$T=n,i}ut(i,t);var r=i.prototype;return r.tE=function(t){if(t.src){var n=t.kind||vf.xy,i=new Zl(n,t.label,t.srclang,t.default);return i.wc=As(t.src),i}},r.La=function(n){t.prototype.La.call(this,n)},r.nE=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a,c,h,f,v,d,l;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i.lc=Ll.LOADING,e=new Xh({Zl:i.wc,Zg:Ch.Hg,Qg:"GET",bs:r}),t.prev=2,t.next=5,this.$T.SA(e);case 5:return o=t.sent,s=o.IA,t.next=9,o.kn();case 9:u=t.sent,t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(2),Cn(t.t0),i.lc=Ll.ERROR,i.Su(new df(rl(t.t0,i.wc))),t.abrupt("return");case 18:for(t.prev=18,a=tl(u),i.ru=a,c=[],"webvtt"===a||"srt"===a?(h=yd(u),c=h._c):"ttml"===a&&(c=Cv(u)),f=0,v=c;f<v.length;f++)d=v[f],i.Bb(d);t.next=33;break;case 26:return t.prev=26,t.t1=t.catch(18),Cn(t.t1),i.lc=Ll.ERROR,l=el(i.ru),i.Su(new df(new Zd(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+l+(l?" ":"")+"subtitle file.",i.wc,s,t.t1))),t.abrupt("return");case 33:i.lc=Ll.LOADED;case 34:case"end":return t.stop()}},t,this,[[2,12],[18,26]])}));return function(n,i){return t.apply(this,arguments)}}(),r.um=function(t){Tn(this.im.Ha,t)&&t.lc===Ll.NONE&&this.nE(t,this.KT.bs).catch(On)},r.Vs=function(){},r.Fa=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.KT.fs(),this.KT=new Rr,n.next=4,t.prototype.Fa.call(this);case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(ov);function d_(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ec===n&&r.Fb)return r}}function l_(t,n){__(d_(t.Ha,n))}function __(t){void 0!==t&&(t.dc=oo.fc)}function g_(t,n){__(d_(t.Ha,n)||function(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.ec===n)return r}}(t.Ha,n))}function w_(t){for(var n=0;n<gf.length;n++){var i=gf[n];i===vf.My?g_(t,i):l_(t,i)}}var y_=function(t){function n(){return t.call(this,Ia.Fh)||this}return ut(n,t),n}(Un),m_=function(){function t(t){var n=this;this.iE=[],this.rE=void 0,this.eE=new Rr,this._r=function(){return 0===n.iE.length?n.uE?p_(n.uE,n.eE.bs).then(n.sE,n.sE):n.sE():n.iE.shift()().then(n._r)},this.sE=function(){if(0!==n.iE.length)return n._r();n.rE=void 0},this.uE=t}var n=t.prototype;return n.oE=function(t,n){var i=this;return new Tt(function(r){var e=new Rr;e.ks(i.eE.bs),n&&e.ks(n);var u=function(){e.bu()};i.iE.push(function(){var n=p_(t,e.bs);return r(n),n.then(u,u)}),i.rE||(i.rE=i._r())})},n.fs=function(){return this.aE(!0)},n.Va=function(){return this.uE=void 0,this.aE(!1)},n.aE=function(t){var n=this.rE;return this.eE.fs(),t&&(this.eE=new Rr),Tt.resolve(n)},t}();function p_(t,n){return new Tt(function(i){return i(t(n))})}var k_=function(t){function n(n){var i;return(i=t.call(this,Ia.bh)||this).errorObject=n,i}return ut(n,t),b(n,[{key:"error",get:function(){return this.errorObject.message}},{key:"licenseAcquisitionURL",get:function(){return this.errorObject.url}},{key:"status",get:function(){return this.errorObject.status}},{key:"statusText",get:function(){return this.errorObject.statusText}},{key:"licenseAcquisitionMessage",get:function(){return this.errorObject.response}},{key:"systemCode",get:function(){return this.errorObject.systemCode}}]),n}(Un),A_=function(t){function n(n){var i;return(i=t.call(this)||this).Oe=!1,i.cE=void 0,i.hE=void 0,i.fE=n,i}ut(n,t);var i=n.prototype;return i.ab=function(t,n){if(this.Oe)throw new v("Already initialized");if(this.Oe=!0,this.cE=t,this.vE=n,t){if(!this.fE.dE(t.lE.n_))throw new v("Unsupported encryption scheme: "+t.lE.n_);var i=this.fE._E(t.lE.n_);i.ab(t.lE),this.hE=i,this.gE().catch(On)}},i.gE=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=this.cE,r=this.hE,e=!1,u=0,s=i.wE;case 4:if(!(u<s.length)){t.next=26;break}o=s[u],a=0,c=o.yE;case 7:if(!(a<c.length)){t.next=21;break}return h=c[a],t.prev=9,t.next=12,this.mE(r.ru,h,n);case 12:e=!0,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(9),Cn(t.t0);case 18:a++,t.next=7;break;case 21:if(!e){t.next=23;break}return t.abrupt("break",26);case 23:u++,t.next=4;break;case 26:case"end":return t.stop()}},t,this,[[9,15]])}));return function(n){return t.apply(this,arguments)}}(),i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),t.next=3,this.Fa();case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.pE=function(t){if(!this.cE||!this.hE)return!1;var n=this.hE.kE(t);return Boolean(n[zt])},n}(Mn),b_=function(t){function n(n){var i;return(i=t.call(this,"error")||this).errorObject=n,i}return ut(n,t),b(n,[{key:"error",get:function(){return this.errorObject.message}}]),n}(Un),T_=function(){function t(){}var n=t.prototype;return n.ab=function(t){this.AE=t.$l},n.kE=function(t){for(var n={},i=wv.Cm(new DataView(t)),r=0;r<i.length;r++){var e=i[r];n[e.gk]=e.mk}return n},b(t,[{key:"ru",get:function(){return qt}},{key:"$l",get:function(){return this.AE}}]),t}(),E_=function(){function t(){}var n=t.prototype;return n.ab=function(t){},n.kE=function(t){var n;return(n={})[Yt]=t,n},b(t,[{key:"ru",get:function(){return Wt}},{key:"$l",get:function(){}}]),t}(),S_=function(t){function n(){return t.call(this,Ia.Th)||this}return ut(n,t),n}(Un),R_=function(t){function n(n){var i;return(i=t.call(this,"jh")||this).bE=n,i}return ut(n,t),n}(Un),I_=new m_,N_=function(t){function i(i,e,u,s,o){var a;return(a=t.call(this)||this).TE=i,a.EE=e,a.Hu=u,a.Wu=s,a.SE=o,a.Oe=!1,a.RE=!1,a.eE=new Rr,a.Ps=function(t){switch(t.Uu){case"license-request":a.IE(t.Mu,t.Fu).catch(function(t){return a.vo(t)});break;default:a.vo(new Ho(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Unsupported CDM message type: "+t.Uu))}},a.NE=function(t){a.TE.zs.Yu(function(t,n){switch(t){case"usable":r.Ts(function(){a.RE=!0,a.Su(new S_)},100);break;case"expired":case"status-pending":break;case"output-restricted":case"internal-error":a.Su(new R_(n))}})},a.DE=function(t){a.vo(new Ho(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Unknown CDM error"))},i.Iu("Mu",a.Ps),i.Iu("Lu",a.NE),i.Iu("Vu",a.DE),a.Xs=i.Xs.then(function(){return a.CE()}),a}ut(i,t);var e=i.prototype;return e.Fs=function(){var t=this;return this.Oe=!0,I_.oE(function(n){return t.OE(n)},this.eE.bs)},e.OE=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Dn(i),t.next=4,this.EE.PE(this.Wu);case 4:return r=t.sent,t.next=7,this.TE.Fs(this.Hu,this.Wu,r);case 7:if(!this.EE.xE){t.next=10;break}return t.next=10,this.EE.xu("persistenttokenavailable",i);case 10:t.next=19;break;case 12:throw t.prev=12,t.t0=t.catch(0),Cn(t.t0),e=t.t0 instanceof Br?t.t0.Rs:void 0,u=new Ho(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while performing the CDM request",t.t0,void 0,void 0,void 0,void 0,e),this.vo(u),u;case 19:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),e.IE=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&this.EE.BE(r),t.prev=1,!br(i)){t.next=8;break}return t.next=5,this.EE.LE(new m(i),this.eE.bs);case 5:e=t.sent,t.next=11;break;case 8:return t.next=10,this.EE.ME(new m(i),this.eE.bs);case 10:e=t.sent;case 11:t.next=18;break;case 13:if(t.prev=13,t.t0=t.catch(1),!Nn(t.t0)){t.next=17;break}return t.abrupt("return");case 17:throw t.t0;case 18:return t.prev=18,t.next=21,this.TE.qs(e);case 21:t.next=27;break;case 23:throw t.prev=23,t.t1=t.catch(18),u=t.t1 instanceof Br?t.t1.Rs:void 0,new Ho(n.ErrorCode.CONTENT_PROTECTION_INTERNAL_ERROR,"Error while applying license response",t.t1,void 0,void 0,void 0,void 0,u);case 27:case"end":return t.stop()}},t,this,[[1,13],[18,23]])}));return function(n,i){return t.apply(this,arguments)}}(),e.vo=function(t){var i=t instanceof Ho?t:new Ho(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.Su(new k_(i)),this.Us()},e.CE=function(){this.TE.Cu("Mu",this.Ps),this.TE.Cu("Lu",this.NE),this.TE.Cu("Vu",this.DE),this.RE=!1,this.eE.fs()},e.Us=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),this.CE(),t.next=4,this.TE.Us().catch(G);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(i,[{key:"UE",get:function(){return this.RE}}]),i}(Mn),D_=[Ia.Th,Ia.bh,Ia.zh],C_=function(t){function n(n,i,r){var e;(e=t.call(this)||this).FE=[],e.Ys=n,e.fE=r,e.VE=i;var u=i.HE;return u&&Dr(n.Zs(u)),e}ut(n,t);var i=n.prototype;return i.qE=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ys.Qs("temporary");case 2:return e=t.sent,u=new N_(e,this.VE,n,i,r),this.FE.push(u),u.Iu(D_,this.Eu),u.Xs.then(function(){return s.WE(u)}),t.abrupt("return",u);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.XE=function(t,n,i){if(i)return!1;for(var r=0,e=this.FE;r<e.length;r++){var u=e[r];if(!u.SE&&u.Hu===t&&ii(u.Wu,n))return!0}return!1},i.WE=function(t){t.Cu(D_,this.Eu),An(this.FE,t)},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),n=this.FE.slice(),this.FE.length=0,t.next=5,Tt.all(n.map(function(t){return t.Us()}));case 5:this.VE.Va();case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"GE",get:function(){return this.VE.GE}},{key:"io",get:function(){return this.VE.io}},{key:"zE",get:function(){return this.VE.zE}},{key:"$l",get:function(){return this.VE.$l}},{key:"UE",get:function(){return!!this.FE.length&&this.FE.every(function(t){return t.UE})}}]),n}(Mn),O_=function(t){function n(){return t.call(this,"persistenttokenavailable")||this}return ut(n,t),n}(Un),P_=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this)||this).jE=void 0,s.io=n,s.GE=i,s.$l=r,s.$T=e,s.YE=u,s.zE=s.QE(i),s}ut(i,t);var e=i.prototype;return e.ZE=function(){return this.jE},e.BE=function(t){this.jE=t},e.JE=function(){return this.zE.licenseAcquisitionURL||this.ZE()},e.PE=function(t){return Tt.resolve(void 0)},e.KE=function(){var t=Tt.coroutine(bt.mark(function t(i,r,e,u){var s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==(s=this.$E(i,r,e,u)).Zl){t.next=3;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 3:return t.prev=3,t.next=6,this.tS.SA(s);case 6:return o=t.sent,t.next=9,o.nS(r);case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t.catch(3),Cn(t.t0),t.next=17,this.iS(t.t0,s.Zl,u);case 17:return t.abrupt("return");case 18:case"end":return t.stop()}},t,this,[[3,12]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.$E=function(t,n,i,r){var e=this.rS().Xg(),u=this.tw,s=this.eS();return new Wh({Zl:s,Zg:n,Yg:e,jg:t,tw:u,Qg:"POST",Jg:0,bs:r,ru:"content-protection",Kg:i})},e.IE=function(t,n){return Tt.resolve(t)},e.uS=function(t,n,i,r){return Tt.resolve(t)},e.rS=function(){return new xh(this.zE.headers||{})},e.iS=function(){var t=Tt.coroutine(bt.mark(function t(i,r,e){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during license server request",i);case 1:case"end":return t.stop()}},t)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.eS=function(t,n){var i=n,e=this.zE.queryParameters;if(!i){var u=this.JE();if(!u)return"";i=u}if(e||t){var s=r.aa(i);t&&ks(s,t),e&&ks(s,e),i=s.href}return i},e.sS=function(t){return function(t,n){var i=n.licenseResponseProcessor;return Tt.resolve(new m(x_(t,i)))}(t,this.zE)},e.oS=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.aS(n,r);case 2:return e=t.sent,t.next=5,this.KE(e,this.YE,i,r);case 5:return u=t.sent,t.next=8,this.sS(u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),e.Va=function(){this.Du()},b(i,[{key:"tS",get:function(){return this.$T}},{key:"xE",get:function(){return!1}},{key:"HE",get:function(){var t=this.zE.certificate;if(t)return V(t)?Jn(t):gr(t)}},{key:"cS",get:function(){return"optional"}},{key:"ro",get:function(){return!1}},{key:"tw",get:function(){return Boolean(this.zE.useCredentials)}}]),i}(Mn);function x_(t,i){if(!t||!i||"function"!=typeof i)return t;try{return i(t)}catch(t){throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error while preprocessing DRM data",t)}}function B_(t,n){var i=yr(t).buffer,r=n.licenseRequestProcessor;return Tt.resolve(x_(i,r))}var L_,M_=function(t){function n(n,i,r,e){return t.call(this,Kt,n,i,r,e)||this}ut(n,t);var i=n.prototype;return i.QE=function(t){return t.widevine||{}},i.LE=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HE){t.next=2;break}return t.abrupt("return",this.HE);case 2:return t.abrupt("return",this.ME(new m(n),i));case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ME=function(n,i){return t.prototype.oS.call(this,n,"widevine-license",i)},n}(P_);!function(t){t.$e="Widevine",t.Ke="PlayreadyV2",t.hS="PlayreadyV2",t.fS="PlayreadyV3",t.tu="Fairplay"}(L_||(L_={}));var U_={Widevine:{DRMProvider:"Google",DRMVersion:"1.4.8.86",DRMType:"Widevine"},PlayreadyV2:{DRMProvider:"Microsoft",DRMVersion:"2.9",DRMType:"Playready"},PlayreadyV3:{DRMProvider:"Microsoft",DRMVersion:"3",DRMType:"Playready"},Fairplay:{DRMProvider:"Apple",DRMType:"FairPlay",DRMVersion:"1.0"}};function F_(t,n){var i,e,u,s,o=U_[n],a=t.accountName;return{CustomerName:t.customerName,AccountName:a,PortalId:t.portalId,FriendlyName:t.friendlyName,DeviceInfo:{FormatVersion:"1",DeviceType:"PC",OSType:null===(i=r.pa)||void 0===i?void 0:i.Aa,OSVersion:null===(e=r.pa)||void 0===e?void 0:e.ka,DRMProvider:o.DRMProvider,DRMVersion:o.DRMVersion,DRMType:o.DRMType,DeviceVendor:null===(u=r.pa)||void 0===u?void 0:u.ba,DeviceModel:null===(s=r.pa)||void 0===s?void 0:s.Ta}}}function V_(t,i){if(!t.accountName)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, accountName is not set.");if(!t.customerName)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, customerName is not set.");if(!t.portalId)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration, portalId is not set.");throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium "+i+" DRM configuration.")}function H_(t,n,i){var r;if(ia(t))r={AuthToken:t.authToken,Payload:n};else{if(!ra(t))throw V_(t,i);r={LatensRegistration:F_(t,i),Payload:n}}return si(JSON.stringify(r))}function q_(t,n,i){return W_.apply(this,arguments)}function W_(){return(W_=Tt.coroutine(bt.mark(function t(i,r,e){var u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=i.NA){t.next=3;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,r);case 3:return s=u,t.prev=4,t.next=7,s.vS(e);case 7:o=t.sent,a=X_(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),a="";case 14:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium server request",i,s.SA.Zl,s.IA,s.dS,a);case 15:case"end":return t.stop()}},t,null,[[4,11]])}))).apply(this,arguments)}function X_(t){if(t){if(t.WvProxyErr)return t.WvProxyErr.desc;if(t.DrmErr)return t.DrmErr.desc}}var G_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Fg)||this).lS=!0,e}ut(i,t);var r=i.prototype;return r.iS=function(t,n,i){return q_(t,n,i)},r.aS=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.GE){t.next=3;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Widevine DRM configuration.");case 3:return u=$n(i),t.abrupt("return",H_(e,u,L_.$e));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.sS=function(t){var i;if(!t.license)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Widevine license server");return i=Jn(t.license),Tt.resolve(i)},r._S=function(t){return Tt.resolve(new m(t))},r.LE=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.gS(),t.next=3,this.aS(n,i);case 3:return r=t.sent,t.next=6,this.KE(r,Oh.Ug,"widevine-certificate",i);case 6:return e=t.sent,t.next=9,this._S(e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.ME=function(){var n=Tt.coroutine(bt.mark(function n(i,r){var e;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.ME.call(this,i,r);case 2:return e=n.sent,this.gS(),n.abrupt("return",e);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),r.gS=function(){this.Su(new O_),this.lS=!1},b(i,[{key:"xE",get:function(){return this.lS}},{key:"cS",get:function(){return"required"}}]),i}(M_),z_=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://widevine-proxy.drm.technology/proxy"),e}return ut(i,t),i.prototype.aS=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B_(i,this.zE);case 2:if(e=t.sent,u=this.$l,r=new m(e),s=[].slice.call(r),o=this.wS){t.next=8;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The Widevine vuDRM token has not been correctly configured.");case 8:return t.abrupt("return",JSON.stringify({token:o,drm_info:s,kid:u}));case 9:case"end":return t.stop()}var r},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),b(i,[{key:"wS",get:function(){if(ea(this.GE))return this.GE.token}}]),i}(M_);function j_(t,n){var i=n||{};return t.ticket&&t.sessionId&&(i=Et(Et({},i),{SessionId:t.sessionId,Ticket:t.ticket})),Et(Et({},i),{CrmId:t.crmId,AccountId:t.accountId,ContentId:t.contentId})}var Y_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://emeademo.dev.ott.irdeto.com/Widevine/getlicense"),e}ut(n,t);var i=n.prototype;return i.aS=function(t,n){return B_(t,this.zE)},i.eS=function(n,i){var r=n;return $o(this.GE)&&(r=j_(this.GE,r)),t.prototype.eS.call(this,r,i)},n}(M_),Q_="Conax-Custom-Data";function Z_(t,n,i){var r=t&&Ko(t)&&t;if(r&&!i.has(Q_)){var e=Fo(r)?r.token:void 0,u=Fo(r)?r.deviceId:void 0,s=JSON.stringify({Version:"1.0.0",CxAuthenticationDataToken:e,CxClientInfo:{DeviceType:"Browser",DrmClientType:n+"-HTML5",DrmClientVersion:"1.0.0",CxDeviceId:u}});i.set(Q_,s)}return i}var J_=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://connect.conax.com:8094/license"),e}ut(n,t);var i=n.prototype;return i.aS=function(t,n){return B_(t,this.zE)},i.rS=function(){var n=t.prototype.rS.call(this);return Z_(this.GE,"Widevine",n)},n}(M_);function K_(t){var n=sr(new m(t));return Jn(JSON.parse(n).license)}function $_(t){return"string"==typeof t.token?t.token:si(JSON.stringify({userId:t.userId,sessionId:t.sessionId,merchant:t.merchant}))}function tg(t,n,i){var r;return r=i.token?"x-dt-auth-token":"dt-custom-data",t.set(r,n),t}var ng=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://lic.drmtoday.com/license-proxy-widevine/cenc/"),e}ut(n,t);var i=n.prototype;return i.aS=function(t,n){return B_(t,this.zE)},i.sS=function(t){return Tt.resolve(K_(t))},i.rS=function(){return tg(t.prototype.rS.call(this),this.wS,this.GE)},b(n,[{key:"wS",get:function(){return $_(this.GE)}}]),n}(M_),ig=function(t){function n(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}ut(n,t);var i=n.prototype;return i.aS=function(t,n){return B_(t,this.zE)},i.rS=function(){var n=t.prototype.rS.call(this),i=this.GE.token;return n.set("Authorization","Bearer "+i),n},n}(M_);function rg(t,n,i,r){return eg.apply(this,arguments)}function eg(){return(eg=Tt.coroutine(bt.mark(function t(i,r,e,u){var s,o,a,c,h,f,v;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(ua(i)){t.next=2;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Xstream DRM Configuration");case 2:return(s=new xh).append("Cache-Control","no-cache"),s.append("Content-Type","application/json"),(o=i.sessionId)&&s.append("XSSESSION",o),a=i.streamId,c=i.fairplay?"persistent"===i.fairplay.licenseType?"persistent":"non-persistent":i.widevine&&"persistent"===i.widevine.licenseType?"persistent":"non-persistent",h={drmType:r,licenseType:c,streamId:a},f={Zl:i.ticketAcquisitionURL,Zg:Oh.Fg,Yg:s,Qg:"POST",jg:JSON.stringify(h),bs:u},t.next=13,e.SA(f);case 13:return v=t.sent,t.next=16,v.vS();case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}var ug=function(t){function n(n,i,r){return t.call(this,n,i,r,Oh.Fg)||this}ut(n,t);var i=n.prototype;return i.rS=function(){var n=t.prototype.rS.call(this);return n.set("Content-Type","application/json"),n},i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=ui(n.buffer),e=this.GE,t.next=4,rg(e,"widevine_modular",this.tS,i);case 4:return u=t.sent,this.BE(u.licenseServerUrl),s=or(JSON.stringify({payload:r,ticket:u.ticket})),t.abrupt("return",B_(s,this.zE));case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.sS=function(t){var n=t;return Tt.resolve(Jn(n.license))},n}(M_),sg=function(t){function i(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}ut(i,t);var r=i.prototype;return r.aS=function(t,n){return B_(t,this.zE)},r.rS=function(){if(!sa(this.GE))throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rS.call(this);return i.set("X-AxDRM-Message",this.GE.token),i},i}(M_);function og(t){for(var n=new m(2*t.length),i=0;i<t.length;i+=1)n[2*i]=t.charCodeAt(i),n[2*i+1]=0;return n}var ag=function(t){function n(n,i,r){var e;return(e=t.call(this,Jt,n,i,r,Oh.Ug)||this).yS=void 0,e}ut(n,t);var i=n.prototype;return i.QE=function(t){return t.playready||{}},i.rS=function(){var n=new xh(this.yS);return n.zg(t.prototype.rS.call(this)),n},i.mS=function(t){return t.length>=1&&t[0].vn.length>0},i.PE=function(n){var i=this.GE.playready.customData;if(i){var r=og(i),e=og('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">'+$n(r)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>");return Tt.resolve({playready:{yo:e}})}return t.prototype.PE.call(this,n)},i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B_(n,this.zE);case 2:return r=t.sent,t.abrupt("return",this.pS(r));case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.pS=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,e,u,s,o,a,c,h,f,v,d,l,_,g,w,y;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=null,a=new DataView(n),c=rr(a,new mr,!0),t.prev=3,h=r.tn(c),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(3),t.abrupt("return",o);case 10:for(f=null===(i=h.fn("PlayReadyKeyMessage")[0])||void 0===i?void 0:i.fn("LicenseAcquisition")[0],v=null!==(e=null==f?void 0:f.fn("Challenge"))&&void 0!==e?e:[],this.mS(v)&&(o=ei(v[0].pn)),d=new xh,l=null!==(s=null===(u=null==f?void 0:f.fn("HttpHeaders")[0])||void 0===u?void 0:u.fn("HttpHeader"))&&void 0!==s?s:[],_=0;_<l.length;_++)g=l[_],w=g.fn("name")[0].pn,y=g.fn("value")[0].pn,d.append(w,y);return this.yS=d,t.abrupt("return",o);case 18:case"end":return t.stop()}},t,this,[[3,7]])}));return function(n){return t.apply(this,arguments)}}(),i.LE=function(t,n){return Tt.resolve(t)},i.ME=function(n,i){return t.prototype.oS.call(this,n,"playready-license",i)},b(n,[{key:"ro",get:function(){return Boolean(this.GE.playready.customData)}}]),n}(P_),cg=function(){function t(n){this.kS=n,this.AS=t.bS(n)}return t.bS=function(t){return"3"===t.version?L_.fS:L_.hS},t.prototype.TS=function(){var t={};if(this.AS===L_.fS){var n={LatensRegistration:F_(this.kS,L_.fS)};t["X-TITANIUM-DRM-CDATA"]=si(JSON.stringify(n))}return t},b(t,[{key:"ES",get:function(){return this.AS}},{key:"ro",get:function(){return this.AS===L_.hS}}]),t}();var hg=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).SS=new cg(e.GE),e}ut(i,t);var e=i.prototype;return e.PE=function(t){var i=this.GE;if(!this.GE)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium PlayReady DRM configuration.");if(ra(i)){var r={};return r.playready={yo:fg(i,this.SS.ES)},Tt.resolve(r)}return Tt.reject(V_(i,L_.Ke))},e.rS=function(){var n=new xh(this.SS.TS());return n.zg(t.prototype.rS.call(this)),n},e.iS=function(){var t=Tt.coroutine(bt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.NA){t.next=3;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e);case 3:return t.prev=3,t.next=6,o.RS(u);case 6:h=t.sent,f=sr(new m(h)),(v=r.tn(f))&&(d=Kc(v,"CustomData")).length>0&&(a=JSON.parse(d[0].pn),c=null===(s=a.DrmErr)||void 0===s?void 0:s.desc),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(3);case 14:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Titanium PlayReady license request",i,e,o.IA,o.dS,c);case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.mS=function(t){if(1!==t.length)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"PlayReady license message incorrectly formatted, Challenge not found.");return!0},b(i,[{key:"ro",get:function(){return this.SS.ro}}]),i}(ag);function fg(t,n){var i=F_(t,n),r=i.DeviceInfo.FormatVersion,e=si('<LatensRegistration formatversion="'+r+'"><AccountName>'+i.AccountName+"</AccountName><CustomerName>"+i.CustomerName+"</CustomerName><PortalID>"+i.PortalId+'</PortalID><DeviceInfo formatversion="'+r+'"><DeviceType>'+i.DeviceInfo.DeviceType+"</DeviceType><OSType>"+i.DeviceInfo.OSType+"</OSType><OSVersion>"+i.DeviceInfo.OSVersion+"</OSVersion><DRMProvider>"+i.DeviceInfo.DRMProvider+"</DRMProvider><DRMVersion>"+i.DeviceInfo.DRMVersion+"</DRMVersion><DRMType>"+i.DeviceInfo.DRMType+"</DRMType><DeviceVendor>"+i.DeviceInfo.DeviceVendor+"</DeviceVendor><DeviceModel>"+i.DeviceInfo.DeviceModel+"</DeviceModel></DeviceInfo></LatensRegistration>"),u=cr(("<TitaniumCustomData>"+e+"</TitaniumCustomData>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/&lt;/g,"<").replace(/&gt;/g,">"),!0);return cr('<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0"><CustomData encoding="base64encoded">'+$n(u)+"</CustomData></LicenseAcquisition></PlayReadyCDMData>",!0)}var vg=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BE("https://playready-license.drm.technology/rightsmanager.asmx"),e}ut(i,t);var r=i.prototype;return r.mS=function(t){if(1!==t.length)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Vudrm PlayReady license message incorrectly formatted, Challenge not found.");return!0},r.eS=function(n,i){var r=Et(Et({},n||{}),{token:this.wS});return t.prototype.eS.call(this,r,i)},b(i,[{key:"wS",get:function(){if(ea(this.GE))return this.GE.token}}]),i}(ag),dg=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BE("https://emeademo.dev.ott.irdeto.com/playready/rightsmanager.asmx"),e}return ut(n,t),n.prototype.eS=function(n,i){var r=n;return $o(this.GE)&&(r=j_(this.GE,r)),t.prototype.eS.call(this,r,i)},n}(ag),lg=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BE("https://connect.conax.com:8010/cxplayready/rightsmanager.asmx"),e}return ut(n,t),n.prototype.rS=function(){var n=t.prototype.rS.call(this);return Z_(this.GE,"PlayReady",n)},n}(ag),_g=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).BE("https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx"),e}ut(n,t);var i=n.prototype;return i.sS=function(n){return 1===(sn(sr(new m(n)),"<?xml")?0:1)?Tt.resolve(K_(n)):Tt.resolve(t.prototype.sS.call(this,new m(n)))},i.rS=function(){return tg(t.prototype.rS.call(this),this.wS,this.GE)},b(n,[{key:"wS",get:function(){return $_(this.GE)}}]),n}(ag);var gg,wg=function(t){function n(n,i,r){return t.call(this,n,i,r)||this}ut(n,t);var i=n.prototype;return i.rS=function(){var n=t.prototype.rS.call(this);return this.IS&&n.set("Ticket",this.IS),n.set("Content-Type","text/xml"),n},i.aS=function(){var n=Tt.coroutine(bt.mark(function n(i,r){var e,u;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.GE,n.next=3,rg(e,"playready",this.tS,r);case 3:return u=n.sent,this.BE(u.licenseServerUrl),this.IS=u.ticket,n.abrupt("return",t.prototype.aS.call(this,i,r));case 7:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),n}(ag),yg=function(t){function i(){return t.apply(this,arguments)||this}return ut(i,t),i.prototype.rS=function(){if(!sa(this.GE))throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rS.call(this);return i.set("X-AxDRM-Message",this.GE.token),i},i}(ag);!function(t){t.Fg="application/json",t.NS="application/x-www-form-urlencoded",t.DS="application/octet-stream",t.Hg="text/plain;charset=UTF-8"}(gg||(gg={}));var mg=function(t){function n(n,i,r,e){var u;return(u=t.call(this,$t,n,i,r,e)||this).CS="",u.OS=void 0,u}ut(n,t);var i=n.prototype;return i.PS=function(){return this.zE.certificateURL||this.OS},i.xS=function(t){this.OS=t},i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.BS(n,this.CS));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+encodeURIComponent($n(n))+"&assetId="+encodeURIComponent(i));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.QE=function(t){return t.fairplay||{}},i.LS=function(t){var n=t.indexOf("?");if(n>=0)return Tt.resolve(t.substr(n+1));var i=t.split("/");return Tt.resolve(i[i.length-1])},i.PE=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=new m(n),s=void 0,o=void 0,a=void 0,c=void 0,s=dr(u),o=new mr,a=ji(s,o,!0),c=Hi(s,o,a),i=ar(c,!0),t.next=3,this.LS(i);case 3:return r=t.sent,this.CS=r,(e={}).fairplay={So:r},t.abrupt("return",e);case 8:case"end":return t.stop()}var u,s,o,a,c},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.rS=function(){var n=t.prototype.rS.call(this);return n.set("Content-Type",this.MS),n},i.LE=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HE){t.next=2;break}return t.abrupt("return",this.HE);case 2:return t.next=4,this.US(i);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ME=function(n,i){return t.prototype.oS.call(this,n,"fairplay-license",i)},i.FS=function(t){var n=this.PS(),i=this.rS(),r={Zl:n,Zg:Oh.Ug,Yg:i,Qg:"GET",tw:!1,jg:null,Jg:0,bs:t,ru:"content-protection",Kg:"fairplay-certificate"};return new Wh(r)},i.US=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.FS(n),t.next=3,this.tS.SA(i);case 3:return r=t.sent,t.next=6,r.RS();case 6:return e=t.sent,t.abrupt("return",new m(e));case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.sS=function(t){var n;if("string"==typeof t){var i=t.trim();"<ckc>"===i.substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),n=Jn(i)}else n=new m(t);return Tt.resolve(n)},i.eS=function(n,i){var r=t.prototype.eS.call(this,n,i);return sn(r,"skd:")&&(r=r.substr("skd:".length)),r},b(n,[{key:"MS",get:function(){return gg.NS}}]),n}(P_);var pg=function(t){function n(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}ut(n,t);var i=n.prototype;return i.LS=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.split("://",1),r=i[0].slice(-3),i=n.split(";",2),e=i.length>1?i[1]:"",t.abrupt("return","skd"===r.toLowerCase()?e:"");case 5:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.sS=function(t){return Tt.resolve(new m(t))},i.eS=function(n,i){var r=n||{};return r.p1=rt(),t.prototype.eS.call(this,r,i)},b(n,[{key:"MS",get:function(){return gg.DS}}]),n}(mg),kg=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://fairplay-license.drm.technology/license"),e.xS("https://fairplay-license.drm.technology/certificate"),e}ut(i,t);var r=i.prototype;return r.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={token:this.wS,contentId:i,payload:$n(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.sS=function(t){return Tt.resolve(new m(t))},r.rS=function(){var n=t.prototype.rS.call(this);return n.set("x-vudrm-token",this.wS),n},b(i,[{key:"MS",get:function(){return gg.Fg}},{key:"wS",get:function(){if(!ea(this.GE))throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Token is required for FairPlay VuDrm.");return this.GE.token}}]),i}(mg),Ag="Verimatrix Fairplay license response incorrectly formatted. Invalid json.",bg="Verimatrix Fairplay license response incorrectly formatted. Ckc not found.",Tg=function(t){function i(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}return ut(i,t),i.prototype.sS=function(i){var r=function(t){var i;try{i=JSON.parse(t).ckc}catch(t){throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,Ag)}if(!i)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,bg);return i}(sr(new DataView(i)));return t.prototype.sS.call(this,r)},i}(mg);var Eg=function(t){function i(n,i,r){return t.call(this,n,i,r,Oh.Fg)||this}ut(i,t);var r=i.prototype;return r.aS=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.GE){t.next=3;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Titanium Fairplay DRM configuration.");case 3:return e=$n(i),t.abrupt("return",H_(r,e,L_.tu));case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.sS=function(t){try{var i;if(V(t)){var r=t.trim();i=JSON.parse(r)}else i=t;if(i.license){var e=ei(i.license);return Tt.resolve(new m(e))}return Tt.reject(new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Titanium Fairplay license server"))}catch(t){return Tt.reject(new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Titanium Fairplay license server"))}},r.iS=function(t,n,i){return q_(t,n,i)},b(i,[{key:"MS",get:function(){return gg.Fg}}]),i}(mg),Sg=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).BE("https://emeademo.dev.ott.irdeto.com/streaming/getckc"),e.xS("https://emeademo.dev.ott.irdeto.com/streaming/getcertificate"),e}ut(n,t);var i=n.prototype;return i.PS=function(){var n=t.prototype.PS.call(this);if(!n)return n;var i=r.aa(n),e=this.GE;return $o(e)&&ks(i,{accountId:e.accountId,applicationId:e.applicationId||""}),i.href},i.LS=function(){var n=Tt.coroutine(bt.mark(function n(i){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!$o(this.GE)){n.next=2;break}return n.abrupt("return",this.GE.contentId);case 2:return n.abrupt("return",t.prototype.LS.call(this,i));case 3:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.sS=function(t){return Tt.resolve(new m(t))},i.eS=function(n,i){var r=n;return $o(this.GE)&&(r=function(t,n){return Et(Et({},j_(t,n)),{KeyId:t.keyId})}(this.GE,r)),t.prototype.eS.call(this,r,i)},b(n,[{key:"MS",get:function(){return gg.DS}}]),n}(mg),Rg=function(t){function i(i,r,e){var u;if(u=t.call(this,i,r,e,Oh.Hg)||this,!Ko(i))throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Conax configuration");return u.BE("https://connect.conax.com:8097/license"),u}ut(i,t);var r=i.prototype;return r.rS=function(){var n=t.prototype.rS.call(this);return Z_(this.GE,"FairPlay",n)},r.US=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.PS(),r={Zl:i,Zg:Oh.Ug,Yg:{},Qg:"GET",tw:!1,jg:null,Jg:0,bs:n,ru:"content-protection",Kg:"fairplay-certificate"},t.next=4,this.tS.SA(r);case 4:return e=t.sent,t.next=7,e.RS();case 7:return u=t.sent,t.abrupt("return",new m(u));case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.aS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.LS=function(t){var n,i=t.indexOf("?");return 0===t.indexOf("skd://")?(n=i>=0?t.substring("skd://".length,i):t.substring("skd://".length),Tt.resolve(sr(Jn(n)))):Tt.resolve("unknown")},r.sS=function(t){try{var n=JSON.parse(t);return Tt.resolve(new m(ei(n.CkcMessage)))}catch(t){return Tt.reject("CFLRW-66")}},i}(mg),Ig=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Hg)||this).BE(Go[Vt.tu]),e}ut(i,t);var r=i.prototype;return r.LS=function(t){return 0===t.indexOf("skd://")?Tt.resolve(t.substring("skd://".length,40)):Tt.reject(new Ho(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error while determining the KeyOS Content ID."))},r.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","spc="+$n(n)+"&assetId="+i);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i}(mg),Ng=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Hg)||this).BE("https://lic.drmtoday.com/license-server-fairplay/"),e}ut(n,t);var i=n.prototype;return i.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="spc="+encodeURIComponent($n(n))+"&"+encodeURI(i),"persistent"!==this.zE.licenseType){t.next=3;break}return t.abrupt("return",r+"&offline=true");case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.rS=function(){return tg(t.prototype.rS.call(this),this.wS,this.GE)},b(n,[{key:"wS",get:function(){return $_(this.GE)}}]),n}(mg),Dg=function(t){function n(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}ut(n,t);var i=n.prototype;return i.LS=function(t){var n=t;return sn(n,"skd:")&&(n="http:"+n.substring(4)),sn(n,"http:")||sn(n,"https:")?Tt.resolve(r.aa(n).hostname):Tt.reject(new v("Could not parse ExpressPlay FairPlay content ID."))},i.aS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.sS=function(t){return Tt.resolve(new m(t))},b(n,[{key:"MS",get:function(){return gg.DS}}]),n}(mg),Cg=function(t){function n(n,i,r){return t.call(this,n,i,r,Oh.Hg)||this}return ut(n,t),n.prototype.rS=function(){var n=t.prototype.rS.call(this),i=this.GE.token;return n.set("Authorization","Bearer "+i),n},n}(mg),Og=function(t){function n(n,i,r){var e;if(e=t.call(this,n,i,r,Oh.Fg)||this,!ua(n))throw new v("Invalid Xstream DRM configuration");return e}ut(n,t);var i=n.prototype;return i.US=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.PS(),r=this.rS(),e={Zl:i,Zg:Oh.Fg,Yg:r,Qg:"POST",bs:n,ru:"content-protection",Kg:"fairplay-certificate"},t.next=5,this.tS.SA(e);case 5:return u=t.sent,t.next=8,u.vS();case 8:return s=t.sent,t.abrupt("return",new m(Jn(s.certificate)));case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ME=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=Oh.Hg),e=$n(n),u=this.GE,t.next=5,rg(u,"fairplay",this.tS,i);case 5:return s=t.sent,o=or(JSON.stringify({spc:e,ticket:s.ticket})),a={Zl:this.JE(),Zg:Oh.Fg,Yg:this.rS(),Qg:"POST",jg:o,Jg:0,bs:i,ru:"content-protection",Kg:"fairplay-license"},t.next=10,this.tS.SA(a);case 10:return c=t.sent,t.next=13,c.vS();case 13:return h=t.sent,t.abrupt("return",Jn(h.licence));case 15:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),b(n,[{key:"MS",get:function(){return gg.Fg}}]),n}(mg),Pg=function(t){function i(n,i,r){return t.call(this,n,i,r,Oh.Hg)||this}ut(i,t);var r=i.prototype;return r.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$n(n));case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),r.sS=function(i){if(0===i.length)throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Vimond license request error.");return t.prototype.sS.call(this,i)},r.rS=function(){var n=t.prototype.rS.call(this);return n.set("Content-Type","text/plain"),n},i}(mg),xg=function(t){function i(n,i,r){return t.call(this,n,i,r,Oh.Ug)||this}ut(i,t);var r=i.prototype;return r.BS=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),r.sS=function(t){return Tt.resolve(new m(t))},r.rS=function(){if(!sa(this.GE))throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"Invalid Axinom configuration");var i=t.prototype.rS.call(this);return i.set("X-AxDRM-Message",this.GE.token),i},b(i,[{key:"MS",get:function(){return gg.Fg}}]),i}(mg),Bg=function(t){function i(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Fg)||this).VS=void 0,e}ut(i,t);var e=i.prototype;return e.BS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={spc:$n(n)},t.abrupt("return",JSON.stringify(r));case 2:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),e.LS=function(t){var i=r.aa(t);return this.VS=t,i.searchParams.has("b")?Tt.resolve(i.searchParams.get("b")):Tt.reject(new Ho(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Error during license server request: Could not extract content id"))},e.eS=function(n,i){var r=this.JE();return!r&&this.VS&&(r=this.VS),r&&(r=r.replace("skd://","https://")),t.prototype.eS.call(this,n,i||r)},e.sS=function(){var t=Tt.coroutine(bt.mark(function t(i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=V(i)?JSON.parse(i.trim()):i).ckc){t.next=4;break}return t.abrupt("return",Jn(r.ckc));case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_INVALID,"Could not process the response from the Uplynk Fairplay license server");case 9:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"No license received from the Uplynk Fairplay license server");case 10:case"end":return t.stop()}},t,null,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),b(i,[{key:"MS",get:function(){return gg.Hg}}]),i}(mg),Lg=function(){function t(t,n){this.HS=t,this.qS=n}var n=t.prototype;return n.WS=function(t){return this.HS(t)},n.XS=function(t,n){throw new d(n+" must be "+this.qS+". (Received: "+t+")")},t}(),Mg=new Lg(X,"a number"),Ug=new Lg(V,"a string"),Fg=new Lg(H,"a boolean");var Vg,Hg=(Vg={responseCode:Mg,isException:Fg,description:Ug,title:Ug,correlationId:Ug},{WS:function(t){if(!U(t))return!1;for(var n=0,i=l.keys(Vg);n<i.length;n++){var r=i[n];if(!Vg[r].WS(t[r]))return!1}return!0},XS:function(t,n){if(!U(t))throw new d(n+" must be an object.");for(var i=0,r=l.keys(Vg);i<r.length;i++){var e=r[i],u=Vg[e];if(!u.WS(t[e]))return u.XS(t[e],n+"."+e)}throw new d}});function qg(t,n,i,r,e){return Wg.apply(this,arguments)}function Wg(){return(Wg=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Xg(n,i,r,u),t.next=3,Gg(s,e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Xg(t,n,i,e){var u={token:n.token,account:n.accountId,form:"json"},s=decodeURIComponent(function(t,n){var i=r.aa(t);return ks(i,n),i.toString()}(i,u)),o=new xh({});o.append("Content-Type","application/json");var a=$n(t),c={getFairplayLicense:{releasePid:n.releasePid,spcMessage:a}};return{Zl:s,Zg:Oh.Hg,Yg:o,Qg:"POST",jg:JSON.stringify(c),bs:e,ru:"content-protection",Kg:"fairplay-license"}}function Gg(t,n){return zg.apply(this,arguments)}function zg(){return(zg=Tt.coroutine(bt.mark(function t(i,r){var e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.SA(i);case 2:return e=t.sent,t.next=5,e.vS();case 5:if(u=t.sent,!Hg.WS(u)){t.next=8;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,u.description,void 0,i.Zl,u.responseCode);case 8:return t.abrupt("return",Jn(u.getFairplayLicenseResponse.ckcResponse));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var jg=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r,Oh.Ug)||this).GS=n,e}ut(n,t);var i=n.prototype;return i.LS=function(n){var i=n.replace("FairPlay",this.GS.releasePid);return t.prototype.LS.call(this,i)},i.ME=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qg(n,this.GS,this.JE(),this.tS,i);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(mg),Yg=function(t){function i(n,i,r){return t.call(this,tn,n,i,r,Oh.Ug)||this}ut(i,t);var r=i.prototype;return r.QE=function(t){return t.clearkey||{}},r.aS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",B_(n,this.zE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.KE=function(){var i=Tt.coroutine(bt.mark(function i(r,e,u,s){var o,a;return bt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.zE,!this.JE()){i.next=5;break}return i.abrupt("return",t.prototype.KE.call(this,r,this.YE,u,s));case 5:if(!o.keys||!o.keys.length){i.next=10;break}return a={keys:o.keys.map(function(t){var n=t;return n||(n={}),{kty:"oct",kid:n.id,k:n.value}})},i.abrupt("return",or(JSON.stringify(a)).buffer);case 10:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The clearkey license has not been configured correctly.");case 11:case"end":return i.stop()}},i,this)}));return function(t,n,r,e){return i.apply(this,arguments)}}(),r.LE=function(t,n){return Tt.resolve(new m(0))},r.ME=function(n,i){return t.prototype.oS.call(this,n,"clearkey-license",i)},i}(P_),Qg=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.aS=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",B_(n,this.zE));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n}(M_),Zg={url:"",method:"GET",headers:{},body:null,useCredentials:!1};function Jg(t,n,i){return Kg.apply(this,arguments)}function Kg(){return(Kg=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=vw(i),(u=n.onCertificateRequest)&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Tt.resolve(i));case 5:return t.next=8,Pn(Tt.resolve(u.call(n,e)),r);case 8:if(!_r(s=t.sent)){t.next=11;break}return t.abrupt("return",gr(s));case 11:return t.abrupt("return",fw(Et(Et({},Zg),s)));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function $g(t,n,i,r,e){return tw.apply(this,arguments)}function tw(){return(tw=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n.onCertificateResponse,o=hw(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Tt.resolve(i));case 5:return t.next=8,Pn(Tt.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",gr(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function nw(t,n,i,r){return iw.apply(this,arguments)}function iw(){return(iw=Tt.coroutine(bt.mark(function t(n,i,r,e){var u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uw(n,i,r,e);case 2:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=5;break}return t.abrupt("return",u);case 5:return t.abrupt("return",fw(u));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function rw(t,n,i,r,e,u){return ew.apply(this,arguments)}function ew(){return(ew=Tt.coroutine(bt.mark(function t(n,i,r,e,u,s){var o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=cw(r,u),t.next=3,ow(n,new m(i),o,e,s);case 3:return a=t.sent,t.abrupt("return",gr(a).buffer);case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function uw(t,n,i,r){return sw.apply(this,arguments)}function sw(){return(sw=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null==n?void 0:n.onLicenseRequest,s=cw(i,r),u&&"function"==typeof u){t.next=5;break}return t.abrupt("return",Tt.resolve(s));case 5:return t.next=8,Pn(Tt.resolve(u.call(n,s)),e);case 8:if(!_r(o=t.sent)){t.next=11;break}return t.abrupt("return",gr(o).buffer);case 11:return t.abrupt("return",Et(Et({fairplaySkdUrl:void 0},Zg),o));case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ow(t,n,i,r,e){return aw.apply(this,arguments)}function aw(){return(aw=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null==n?void 0:n.onLicenseResponse,o=hw(i,r,e),s&&"function"==typeof s){t.next=5;break}return t.abrupt("return",Tt.resolve(i));case 5:return t.next=8,Pn(Tt.resolve(s.call(n,o)),u);case 8:return a=t.sent,t.abrupt("return",gr(a));case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function cw(t,n){return Et(Et({},vw(t)),{fairplaySkdUrl:n})}function hw(t,n,i){return{url:i.DA,status:i.IA,statusText:i.dS,headers:i.Yg.Xg(),body:t,request:n}}function fw(t){return new Wh({Zl:t.url,Qg:t.method,Yg:t.headers,jg:t.body,tw:t.useCredentials})}function vw(t){var n;return{url:t.Zl,body:null!==(n=dw(t.jg))&&void 0!==n?n:null,headers:t.Yg.Xg(),method:t.Qg,useCredentials:t.tw}}function dw(t){if(t)return"string"==typeof t?or(t):t instanceof ArrayBuffer?new m(t):ni(t)?lr(t):void 0}var lw=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r)||this).zS=e,u}ut(i,t);var r=i.prototype;return r.LE=function(t,n){return Tt.resolve(t)},r.ME=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pS(yr(i).buffer);case 2:return e=t.sent,u=this.$E(e,Oh.Ug,"playready-license",r),t.next=6,nw(this.zS,u,void 0,r);case 6:if(!((s=t.sent)instanceof ArrayBuffer)){t.next=10;break}return t.abrupt("return",new m(s));case 10:if(""!==s.Zl){t.next=12;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 12:return t.prev=12,t.next=15,this.tS.SA(s);case 15:return o=t.sent,t.next=18,o.RS(r);case 18:return a=t.sent,t.t0=m,t.next=22,rw(this.zS,a,u,o,void 0,r);case 22:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 26:throw t.prev=26,t.t2=t.catch(12),Cn(t.t2),new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during PlayReady license request",t.t2);case 30:case"end":return t.stop()}},t,this,[[12,26]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(ag),_w=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Oh.Ug)||this).zS=e,u}ut(i,t);var r=i.prototype;return r.LE=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HE){t.next=2;break}return t.abrupt("return",this.HE);case 2:return e=this.$E(i,Oh.Ug,"widevine-certificate",r),t.next=5,Jg(this.zS,e,r);case 5:if(!((u=t.sent)instanceof m)){t.next=9;break}return t.abrupt("return",u);case 9:if(""!==u.Zl){t.next=11;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The certificate request URL has not been correctly configured.");case 11:return t.prev=11,t.next=14,this.tS.SA(u);case 14:return s=t.sent,t.next=17,s.RS(r);case 17:o=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(11),Cn(t.t0),new Ho(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during Widevine certificate request",t.t0);case 24:return a=cw(e,void 0),t.next=27,$g(this.zS,new m(o),a,s,r);case 27:return t.abrupt("return",t.sent);case 28:case"end":return t.stop()}},t,this,[[11,20]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ME=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$E(i,Oh.Ug,"widevine-license",r),t.next=3,nw(this.zS,e,void 0,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(u));case 7:if(""!==u.Zl){t.next=9;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.tS.SA(u);case 12:return s=t.sent,t.next=15,s.RS(r);case 15:o=t.sent,t.next=22;break;case 18:throw t.prev=18,t.t0=t.catch(9),Cn(t.t0),new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during Widevine license request",t.t0);case 22:return t.t1=m,t.next=25,rw(this.zS,o,e,s,void 0,r);case 25:return t.t2=t.sent,t.abrupt("return",new t.t1(t.t2));case 27:case"end":return t.stop()}},t,this,[[9,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i}(Qg),gw=function(t){function i(n,i,r,e){var u;return(u=t.call(this,n,i,r,Oh.Ug)||this).zS=e,u}ut(i,t);var r=i.prototype;return r.LE=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.HE){t.next=2;break}return t.abrupt("return",this.HE);case 2:return e=this.FS(r),t.next=5,Jg(this.zS,e,r);case 5:if(u=t.sent,!ni(u)){t.next=8;break}return t.abrupt("return",u);case 8:return t.prev=8,t.next=11,this.tS.SA(u);case 11:return s=t.sent,t.next=14,s.RS();case 14:return o=t.sent,a=cw(e,void 0),t.next=18,$g(this.zS,new m(o),a,s,r);case 18:return t.abrupt("return",t.sent);case 21:throw t.prev=21,t.t0=t.catch(8),Cn(t.t0),new Ho(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"Error during FairPlay certificate request",t.t0);case 25:case"end":return t.stop()}},t,this,[[8,21]])}));return function(n,i){return t.apply(this,arguments)}}(),r.ME=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$E(i,Oh.Ug,"fairplay-license",r),t.next=3,nw(this.zS,e,this.jS,r);case 3:if(!((u=t.sent)instanceof ArrayBuffer)){t.next=7;break}return t.abrupt("return",new m(u));case 7:if(""!==u.Zl){t.next=9;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"The license request URL has not been correctly configured.");case 9:return t.prev=9,t.next=12,this.tS.SA(u);case 12:return s=t.sent,t.next=15,s.RS(r);case 15:return o=t.sent,t.t0=m,t.next=19,rw(this.zS,o,e,s,this.jS,r);case 19:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 23:throw t.prev=23,t.t2=t.catch(9),Cn(t.t2),new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"Error during FairPlay license request",t.t2);case 27:case"end":return t.stop()}},t,this,[[9,23]])}));return function(n,i){return t.apply(this,arguments)}}(),r.LS=function(){var n=Tt.coroutine(bt.mark(function n(i){var r;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.jS=i,!(null===(r=this.zS)||void 0===r?void 0:r.extractFairplayContentId)){n.next=3;break}return n.abrupt("return",Tt.resolve(this.zS.extractFairplayContentId(i)));case 3:return n.abrupt("return",t.prototype.LS.call(this,i));case 4:case"end":return n.stop()}},n,this)}));return function(t){return n.apply(this,arguments)}}(),i}(mg),ww=function(){function t(){}var n=t.prototype;return n._E=function(t){var n=t.toLowerCase();return n===Ht?new T_:n===Qt?new E_:void 0},n.YS=function(t,n){return new C_(t,n,this)},n.QS=function(t,n,i,r){switch(t.ru){case Vt.$e:return this.ZS(n,i,r);case Vt.Ke:return this.JS(n,i,r);case Vt.tu:return this.KS(n,i,r);case Vt.nu:default:return this.$S(n,i,r)}},n.ZS=function(t,n,i){var r,e=(r=t).integration===Lo&&V(r.customIntegrationId)?t.customIntegrationId:t.integration;if(e&&Xo.Oc.Nc(e,jt)){var u=Xo.Oc.Cc(e,jt,t);return new _w(t,n,i,u)}switch(e){case ko:return new G_(t,n,i);case Eo:return new z_(t,n,i);case To:return new Y_(t,n,i);case Ao:return new J_(t,n,i);case Io:return new ng(t,n,i);case Do:return new ig(t,n,i);case Co:return new ug(t,n,i);case Po:return new sg(t,n,i);case Ro:default:return new Qg(t,n,i,Oh.Ug)}},n.JS=function(t,n,i){var r=t.integration;if(r&&Xo.Oc.Nc(r,Xt)){var e=Xo.Oc.Cc(r,Xt,t);return new lw(t,n,i,e)}switch(r){case ko:return new hg(t,n,i);case Eo:return new vg(t,n,i);case To:return new dg(t,n,i);case Ao:return new lg(t,n,i);case Io:return new _g(t,n,i);case Co:return new wg(t,n,i);case Po:return new yg(t,n,i);case Ro:default:return new ag(t,n,i)}},n.KS=function(t,n,i){var r=t.integration;if(r&&Xo.Oc.Nc(r,Qt)){var e=Xo.Oc.Cc(r,Qt,t);return new gw(t,n,i,e)}switch(r){case bo:return new pg(t,n,i);case Eo:return new kg(t,n,i);case So:return new Tg(t,n,i);case ko:return new Eg(t,n,i);case To:return new Sg(t,n,i);case Ao:return new Rg(t,n,i);case Ro:return new Ig(t,n,i);case Io:return new Ng(t,n,i);case No:return new Dg(t,n,i);case Do:return new Cg(t,n,i);case Co:return new Og(t,n,i);case Oo:return new Pg(t,n,i);case Po:return new xg(t,n,i);case xo:return new Bg(t,n,i);case Bo:return new jg(t,n,i);default:return new mg(t,n,i,Oh.Hg)}},n.$S=function(t,n,i){return new Yg(t,n,i)},n.dE=function(t){var n=t.toLowerCase();return n===Ht||n===Qt},n.tR=function(t){return t.ru===Vt.Ke||t.ru===Vt.$e||t.ru===Vt.tu||t.ru===Vt.nu},t}();function yw(t,n){switch(n){case Vt.$e:return t.widevine;case Vt.Ke:return t.playready;case Vt.tu:return t.fairplay;default:return}}var mw=function(t){function i(n,i,r,e){var u;return void 0===e&&(e=new ww),(u=t.call(this,e)||this).Ns=void 0,u.nR=new m_,u.iR=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.mE(n.Hu,n.Wu);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),Nn(t.t0)||u.vo(t.t0);case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),u.rR=function(t){u.Su(t)},u.eR=function(t){u.Su(t),u.Su(new b_(t.errorObject))},u.uR=n,u.$T=i,u.hu=r,u.uR.Iu("qu",u.iR),u}ut(i,t);var e=i.prototype;return e.UE=function(){return!!this.Oe&&(!this.cE||(!this.cE.wE.length||!!this.Ns&&this.Ns.UE))},e.mE=function(){var t=Tt.coroutine(bt.mark(function t(i,e,u){var s,o,a,c,h,f,v,d,l,_,g;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(u),e.byteLength){t.next=3;break}return t.abrupt("return");case 3:if(this.Oe&&this.cE&&this.cE.wE.length){t.next=5;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_MISSING,"Missing configuration for encrypted content");case 5:if(s=this.cE,o=this.hE,i===qt||i===Wt){t.next=10;break}return t.abrupt("return");case 10:if(i===o.ru){t.next=12;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_INITIALIZATION_INVALID,"Unexpected initialization data type for content protection: "+i);case 12:a=o.kE(e),h=0,f=s.wE;case 14:if(!(h<f.length)){t.next=40;break}if(v=f[h],Dn(u),!(d=a[v.io.uu])){t.next=37;break}return t.prev=19,t.next=22,this.sR(v.io,u);case 22:if(l=t.sent,_=this.uR.MT,!this.oR(l,i,d,_)){t.next=30;break}return t.next=27,l.qE(i,d,_);case 27:return g=t.sent,t.next=30,g.Fs();case 30:return t.abrupt("return");case 33:t.prev=33,t.t0=t.catch(19),Cn(t.t0),c=t.t0;case 37:h++,t.next=14;break;case 40:return t.next=42,r.yu();case 42:if(!t.sent){t.next=46;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Encrypted content over an insecure connection is not supported",c);case 46:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_NOT_SUPPORTED,"Cannot create content decryption session",c);case 47:case"end":return t.stop()}},t,this,[[19,33]])}));return function(n,i,r){return t.apply(this,arguments)}}(),e.oR=function(t,n,i,r){return!t.XE(n,i,r)},e.sR=function(t,n){var i=this;return this.nR.oE(function(n){return i.aR(t,n)},n)},e.aR=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(i),this.Oe){t.next=3;break}throw new v("Not initialized");case 3:if(!this.Ns){t.next=7;break}if(this.Ns.io===n){t.next=6;break}throw new v("Internal key system error");case 6:return t.abrupt("return",this.Ns);case 7:if(this.fE.tR(n)){t.next=9;break}throw new v("Unsupported "+n.ou+" key system");case 9:if(r=this.cR(n)){t.next=12;break}throw new v("Missing configuration for "+n.ou+" key system");case 12:return e=this.cE,u=this.hE,s=this.fE.QS(r.io,e.GE,u.$l,this.$T),t.next=17,this.to(n,r,s,i);case 17:return o=t.sent,(a=this.fE.YS(o,s)).Iu(Ia.Th,this.rR),a.Iu(Ia.bh,this.eR),a.Iu(Ia.zh,this.Eu),this.Ns=a,t.abrupt("return",a);case 24:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),e.to=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v,d;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=this.cE,s=this.hE,o=s.ru,a=yw(u.GE,i.io.ru),c=(null==a?void 0:a.persistentState)||r.cS,h=(null==a?void 0:a.distinctiveIdentifier)||void 0,f=Boolean(null==a?void 0:a.audioRobustness)||Boolean(null==a?void 0:a.videoRobustness),t.prev=7,Dn(e),v=pw(u,o,c,h,r.ro,(null==a?void 0:a.audioRobustness)||"SW_SECURE_CRYPTO",(null==a?void 0:a.videoRobustness)||"SW_SECURE_CRYPTO"),t.next=12,this.vE.hR(n,[v]);case 12:return t.abrupt("return",t.sent);case 15:if(t.prev=15,t.t0=t.catch(7),Cn(t.t0),Dn(e),!f){t.next=21;break}throw t.t0;case 21:return d=pw(u,o,c,h,r.ro,void 0,void 0),t.next=24,this.vE.hR(n,[d]);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}},t,this,[[7,15]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),e.cR=function(t){if(this.cE)for(var n=0,i=this.cE.wE;n<i.length;n++){var r=i[n];if(r.io===t)return r}},e.vo=function(t){var i=t instanceof Ho?t:new Ho(n.ErrorCode.CONTENT_PROTECTION_ERROR,t.message,t);this.eR(new k_(i))},e.fR=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.nR.fs();case 2:if(!(n=this.Ns)){t.next=8;break}return n.Cu(Ia.zh,this.Eu),this.Ns=void 0,t.next=8,n.Va();case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Oe=!1,this.cE=void 0,this.hE=void 0,t.next=5,this.fR();case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.Va=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.uR.Cu("qu",this.iR),n.next=3,t.prototype.Va.call(this);case 3:return n.next=5,this.nR.Va();case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i}(A_);function pw(t,n,i,r,e,u,s){return{initDataTypes:[n],audioCapabilities:kw(t.vR,u),videoCapabilities:kw(t.dR,s),persistentState:i,distinctiveIdentifier:r,ro:e}}function kw(t,n){return t.length?t.map(function(t){return{contentType:t,robustness:n}}):void 0}var Aw=t,bw=Aw.MediaSource,Tw=Aw.WebKitMediaSource,Ew=Aw.TextTrack,Sw=u&&u.createElement("video"),Rw=(u&&u.documentElement.style,O.kt&&O.Gt&&O.zt<=26),Iw=(O.Pt,!!p),Nw=!(!bw&&!Tw),Dw=!!Ew,Cw=(u&&(u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled)||O.Ct,O.Ht&&O.qt,Sw&&Sw.canPlayType&&(""!==Sw.canPlayType("application/vnd.apple.mpegURL")||O.Tt&&!O.Ht&&O.Et>=4)),Ow=Sw&&Sw.canPlayType&&""!==Sw.canPlayType("video/mp4")&&!Rw,Pw=Nw&&!O.Wt&&!O.Ut&&!O.Mt&&((bw||Tw).isTypeSupported?(bw||Tw).isTypeSupported('audio/mp4; codecs="mp4a.40.34"'):Sw&&Sw.canPlayType&&""!==Sw.canPlayType('audio/mp4; codecs="mp4a.40.34"')),xw=Nw&&!O.Wt&&(Pw||((bw||Tw).isTypeSupported?(bw||Tw).isTypeSupported("audio/mpeg"):Sw&&Sw.canPlayType&&""!==Sw.canPlayType("audio/mpeg"))),Bw=Nw&&!(O.Vt&&O.kt)&&((bw||Tw).isTypeSupported?(bw||Tw).isTypeSupported('video/mp4; codecs="avc1.4d401e"'):Ow),Lw=(O.Wt||O.Ut||O.Mt,O.Ft),Mw=Lw&&!1,Uw=!O.Wt,Fw=O.Ut&&O.At&&O.bt<=6.1,Vw=Sw&&"onresize"in Sw;try{e&&e.top!==e.self}catch(t){!0}var Hw,qw=.001,Ww=1e4,Xw=3,Gw=["canplay","canplaythrough","loadeddata","loadedmetadata","readystatechange","waiting","playing"],zw=function(t){function n(n,i){var r;return void 0===i&&(i=!1),(r=t.call(this)||this).lR=n,r._R=i,r.gR=Qa.yv,r.wR=!0,r.yR=!1,r.mR=!1,r.pR=function(t){var n=t.readyState;n!==r.gR&&r.Su(t),n===Qa.yv&&(r.yR=!1,r.mR=!1),r.kR(n),r.AR(n),r.bR(n),r.maybeDispatchCanPlayThroughEvent(n),r.TR(n),r.ER(n),r.gR=n},r.SR=function(){r.ER(r.gR),r.TR(r.gR),r.wR=r.lR.Qy},r.RR=function(){r.wR=r.lR.Qy},r.lR.Iu("readystatechange",r.pR),r.lR.Iu(Ia.Bh,r.SR),r.lR.Iu(Ia.xh,r.RR),r._R&&r.lR.Iu("playing",r.Eu),r}ut(n,t);var i=n.prototype;return i.kR=function(t){!this.mR&&t>=Qa.mv&&(this.mR=!0,this.Su(new Kh(this.lR.Gy,t)))},i.AR=function(t){!this.yR&&t>=Qa.pv&&(this.yR=!0,this.Su(new nf(this.lR.Gy,t)))},i.TR=function(t){this._R||(t>=Qa.kv&&this.gR<Qa.kv&&!this.lR.Qy||this.IR&&t>=Qa.kv)&&this.Su(new ef(this.lR.Gy))},i.ER=function(t){!this.NR(t)||this.lR.zy||this.lR.Vu||this.Su(new af(this.lR.Gy))},i.bR=function(t){this.gR<=Qa.pv&&t>=Qa.kv&&this.Su(new $h(this.lR.Gy,t))},i.maybeDispatchCanPlayThroughEvent=function(t){t===Qa.Av&&this.Su(new cf(this.lR.Gy,t))},i.NR=function(t){var n=!this.lR.Qy&&t<=Qa.pv,i=!this.wR&&this.gR<=Qa.pv;return n&&!i},i.Fa=function(){this.gR=Qa.yv,this.wR=!0,this.yR=!1,this.mR=!1},i.Va=function(){this.Du(),this._R&&this.lR.Cu("playing",this.Eu),this.lR.Cu(Ia.Bh,this.SR),this.lR.Cu(Ia.xh,this.RR),this.lR.Cu("readystatechange",this.pR)},b(n,[{key:"IR",get:function(){return!this.lR.Qy&&this.wR}}]),n}(Ds);!function(t){t.DR="nokey",t.CR="keyexpired",t.OR="sessionnotopened",t.PR="insufficientoutputprotection",t.xR="insufficientsecurity",t.LR="frametoolarge",t.MR="loststate",t.UR="resourcebusy",t.FR="unsupportedoperation"}(Hw||(Hw={}));Hw.FR,Hw.UR,Hw.MR,Hw.LR,Hw.xR,Hw.PR,Hw.OR,Hw.CR,Hw.DR;var jw,Yw,Qw=[Ia.Th,Ia.bh,"error"];function Zw(){return Yw||(Yw=Lt&&Lt.document&&Lt.document.createElement("video")),Yw}!function(t){t.HR="video",t.qR="audio"}(jw||(jw={}));var Jw=function(t){function n(n,i,r,e,u,s,o){var a;return void 0===s&&(s=new ww),void 0===o&&(o=Ae()),(a=t.call(this)||this).vE=void 0,a.WR=new go,a.XR=new go,a.GR=void 0,a.zR=void 0,a.jR=[],a.YR=void 0,a.QR=function(t){var n=t.Vu,i=n.code,r=new Vo(ic(i),"Something went wrong during native playback.",n);a.GR=new $a(i,r.message,n.message),a.zR=r,a.Su(new b_(r))},a.ZR=function(){a.Su(new sf(a.Gy,a.BT))},a.JR=function(t){a.Qy||(a.YR=void 0),a.Su(t)},a.KR=function(t){a.YR=void 0,a.Su(t)},a.$R=function(){a.Su(new f_(a.MT))},a.tI=function(){a.$y>0&&a.Ky>0&&a.Su(new y_)},a.nI=function(t){a.eT.La(new a_(t.track))},a.iI=function(t){var n=ty(a.eT,t.track);n&&a.eT.Ua(n)},a.rI=function(){a.eI(a.eT)},a.uI=function(t){a.uT.La(new h_(t.track))},a.sI=function(t){var n=ty(a.uT,t.track);n&&a.uT.Ua(n)},a.oI=function(){a.eI(a.uT)},a.aI=function(t){t.type===Ia.bh&&(a.GR=nc(t.errorObject),a.zR=t.errorObject),a.Eu(t)},a.cI=i,a.$T=r,a.hu=o,a.uR=a.cI.hI("video"),a.fI=a.uR.vI.preload,a.fE=s,a.dI=new zw(a.uR,!0),a.dI.Iu(Gw,a.Eu),a.lI=new mw(a.uR,a.$T,a.hu,a.fE),a.lI.Iu(Qw,a.aI),a._I(),a.eT=new rc,a.uT=new rc,a.gI(),a.wI=new v_(a.$T),a.qA=new i_([a.WR,a.XR]),a.TT(),a}ut(n,t);var i=n.prototype;return i.ET=function(){this.uR.ET()},i.TT=function(){this.uR.TT()},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(r),e={ru:0,wc:n.src,K_:n.type,yI:[],VT:this.fI,mI:n.crossOrigin,pI:i.metadata&&i.metadata.title},t.next=4,this.uR.Vs(e);case 4:return this.vE=t.sent,Dn(r),t.next=8,this.lI.Fa();case 8:this.lI.ab(this.kI(n),this.vE),this.WR.Qa=this.vE.AI,this.XR.Qa=this.vE.bI,i.textTracks&&this.TI(i.textTracks),w_(this.fT);case 13:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.TI=function(t){for(var n=0;n<t.length;n++){var i=t[n];if(O.Ct&&Dw&&!Qd(i.kind,i.label)){var r=u.createElement("track");r.kind=i.kind||"subtitles",r.label=i.label||"",r.src=i.src,i.srclang&&(r.srclang=i.srclang),r.default=!!i.default,this.jR.push(r),this.uR.vI.appendChild(r)}else{if(void 0===i.src)continue;var e=this.vE.EI(i.kind||vf.xy,i.label,i.srclang);e.Fb=!!i.default,e.wc=i.src,this.wI.La(e)}}},i.dT=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.uR.dT();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:if(this.SI){t.next=12;break}return t.next=10,this.uR.xu(Ia.Lh);case 10:t.next=7;break;case 12:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.lT=function(){this.uR.lT()},i.yT=function(){return void 0!==this.uR.vI.webkitShowPlaybackTargetPicker},i.mT=function(){this.uR.vI.webkitShowPlaybackTargetPicker&&this.uR.vI.webkitShowPlaybackTargetPicker()},i.pT=function(){this.uR.vI.webkitShowPlaybackTargetPicker&&this.uR.vI.webkitShowPlaybackTargetPicker()},i.ST=function(){return this.uR.vI},i.RT=function(){return this.uR.vI},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.GR=void 0,this.zR=void 0,this.vE&&(this.vE=void 0),this.XR.Fa(),t.next=6,this.uR.Fa();case 6:for(this.dI.Fa(),n=0,i=this.jR;n<i.length;n++)ae(i[n]);return Sn(this.jR),t.next=11,this.lI.Fa();case 11:return this.VT=this.fI,this.cT.Fa(),this.hT.Fa(),t.next=16,this.wI.Fa();case 16:this.YR=void 0;case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fa();case 2:return this.Du(),this.RI(),this.II(),t.next=7,this.lI.Va();case 7:return this.dI.Va(),this.cI.NI(this.uR),this.eT.Va(),this.uT.Va(),this.qA.Va(),t.next=14,this.wI.Va();case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i._I=function(){this.uR.Iu(Ia.Bh,this.Eu),this.uR.Iu(Ia.xh,this.Eu),this.uR.Iu(Ia.Xh,this.ZR),this.uR.Iu(Ia.Lh,this.Eu),this.uR.Iu(Ia.Ch,this.Eu),this.uR.Iu(Ia.Hh,this.Eu),this.uR.Iu(Ia.Vh,this.JR),this.uR.Iu(Ia.Dh,this.Eu),this.uR.Iu(Ia.Mh,this.Eu),this.uR.Iu(Ia.Gh,this.Eu),this.uR.Iu(Ia.Rh,this.Eu),this.uR.Iu(Ia.Fh,this.tI),this.uR.Iu("playing",this.KR),this.uR.Iu("error",this.QR),this.uR.vI.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.$R)},i.RI=function(){this.uR.Cu(Ia.Bh,this.Eu),this.uR.Cu(Ia.xh,this.Eu),this.uR.Cu(Ia.Xh,this.ZR),this.uR.Cu(Ia.Lh,this.Eu),this.uR.Cu(Ia.Ch,this.Eu),this.uR.Cu(Ia.Hh,this.Eu),this.uR.Cu(Ia.Vh,this.JR),this.uR.Cu(Ia.Dh,this.Eu),this.uR.Cu(Ia.Mh,this.Eu),this.uR.Cu(Ia.Gh,this.Eu),this.uR.Cu(Ia.Rh,this.Eu),this.uR.Cu(Ia.Fh,this.tI),this.uR.Cu("playing",this.KR),this.uR.Cu("error",this.QR),this.uR.vI.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",this.$R)},i.kI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{GE:t.contentProtection||{},lE:{n_:Qt},wE:[{io:$t,yE:[]}],vR:[],dR:["video/mp4"]}}},i.gI=function(){var t=this.uR.vI.audioTracks,n=this.uR.vI.videoTracks;t&&(t.addEventListener("addtrack",this.nI),t.addEventListener("removetrack",this.iI),t.addEventListener("change",this.rI)),n&&(n.addEventListener("addtrack",this.uI),n.addEventListener("removetrack",this.sI),n.addEventListener("change",this.oI))},i.II=function(){var t=this.uR.vI.audioTracks,n=this.uR.vI.videoTracks;t&&(t.removeEventListener("addtrack",this.nI),t.removeEventListener("removetrack",this.iI),t.removeEventListener("change",this.rI)),n&&(n.removeEventListener("addtrack",this.uI),n.removeEventListener("removetrack",this.sI),n.removeEventListener("change",this.oI))},i.eI=function(t){for(var n=0;n<t.qa;n++){t.Ba(n).jT()}},i.PT=function(){this.lI.fR().then(G)},b(n,[{key:"SI",get:function(){var t=this.uR.xT,n=new Mc(this.Gy),i=new Mc(.01);return t.kf(n,i)}},{key:"cT",get:function(){return this.eT}},{key:"xT",get:function(){return this.uR.xT.lf()}},{key:"BT",get:function(){return this.uR.BT},set:function(t){t&&this.uR.DI(t)}},{key:"Gy",get:function(){return void 0!==this.YR?this.YR:this.uR.Gy},set:function(t){this.MT&&(this.YR=t),this.uR.ts(t)}},{key:"e_",get:function(){return this.uR.e_}},{key:"zy",get:function(){return this.uR.zy}},{key:"Vu",get:function(){return this.GR}},{key:"jy",get:function(){return this.zR}},{key:"MT",get:function(){return this.uR.MT}},{key:"Cv",get:function(){return Et(Et({},{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}),this.uR.CI())}},{key:"Yy",get:function(){return this.uR.Yy},set:function(t){this.uR.Yy=t}},{key:"UT",get:function(){return!0}},{key:"Qy",get:function(){return this.uR.Qy}},{key:"Zy",get:function(){return this.uR.Zy},set:function(t){this.uR.Zy=t}},{key:"FT",get:function(){return this.uR.vI.played}},{key:"VT",get:function(){return this.fI},set:function(t){this.fI=t,this.vE&&(this.vE.VT=t)}},{key:"lc",get:function(){return this.uR.lc}},{key:"HT",get:function(){return this.uR.HT.lf()}},{key:"Jy",get:function(){return this.uR.Jy}},{key:"OI",get:function(){return this.uR.OI}},{key:"fT",get:function(){return this.qA}},{key:"hT",get:function(){return this.uT}},{key:"Ky",get:function(){return this.uR.Ky}},{key:"$y",get:function(){return this.uR.$y}},{key:"tm",get:function(){return this.uR.tm},set:function(t){this.uR.tm=t}}]),n}(Ds);function Kw(t){return!t.type||!(!Zw().canPlayType||!Zw().canPlayType(t.type))}var $w=function(){function t(){this.dg=5}var n=t.prototype;return n.Ec=function(t,n,i,r,e){return new Jw(t,n,i,r,e)},n.xI=function(t,n){return Kw(t)},t}();function ty(t,n){for(var i=0,r=t.Ha;i<r.length;i++){var e=r[i];if(e.ZT===n)return e}}var ny=function(){function t(){this.BI=new $w,this.LI=[]}t.MI=function(){return this.$t};var n=t.prototype;return n.UI=function(t){this.LI.push(t)},n.Ec=function(t,n,i,r,e){for(var u=this.BI.Ec(t,n,i,r,e),s=0,o=this.LI;s<o.length;s++){u=(0,o[s])(u,i,r)}return u},n.xI=function(t,n){return this.BI.xI(t,n)},b(t,[{key:"dg",get:function(){return this.BI.dg}}]),t}();function iy(t){uy.$t.FI(t)}function ry(t,n){return uy.$t.VI(t,n)}function ey(t,n){return Pc(t.dg,n.dg)}ny.$t=new ny;var uy=function(){function t(){this.HI=ny.MI(),this.qI=[]}var n=t.prototype;return n.WI=function(t){this.HI=t},n.XI=function(){return this.HI},n.FI=function(t){this.qI.push(t),this.qI.sort(ey)},n.GI=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.qI;case 1:if(!(r<e.length)){t.next=17;break}if(u=e[r],!q(s=u.xI(n,i))){t.next=10;break}return t.next=7,s;case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=Boolean(s);case 11:if(!t.t0){t.next=14;break}return t.abrupt("return",u);case 14:r++,t.next=1;break;case 17:return t.abrupt("return",void 0);case 18:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.VI=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.length)){t.next=11;break}return e=n[r],t.next=5,this.GI(e,i);case 5:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{zI:e,jI:u});case 8:r++,t.next=1;break;case 11:s=this.HI,o=0;case 13:if(!(o<n.length)){t.next=20;break}if(a=n[o],!s.xI(a,i)){t.next=17;break}return t.abrupt("return",{zI:a,jI:s});case 17:o++,t.next=13;break;case 20:return t.abrupt("return",{zI:n[0],jI:s});case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();uy.$t=new uy;var sy=function(){function t(t){this.YI=Lt&&Lt.document&&Lt.document.createElement("div"),ve(this.YI),t.appendChild(this.YI)}return t.prototype.Va=function(){ae(this.YI)},t}(),oy=function(t){function n(n,i,r){return void 0===r&&(r=""),t.call(this,vf.Uy,i||"","",!1,r,n)||this}return ut(n,t),n.QI=function(t,n){return t+" "+n},n}(Zl);function ay(t){return yv(t)}function cy(t,n){return t.Ok===n.Ok}function hy(t,n,i){for(var r=t[n].u_,e=n;e>=0&&t[e].u_===r;e--)t[e].Ck=i}var fy=function(t){function n(n,i){return t.call(this,n,1/0,i,!1)||this}return ut(n,t),n.prototype.if=function(n){return this===n||Qs(this,n)&&t.prototype.if.call(this,n)&&cy(this,n)},b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=ay(this)),this.Ia}}]),n}(Av),vy=function(t){function n(n){var i;return(i=t.call(this,0,n.Ok)||this).ZI=n,i.Ck=i.ZI.u_,i}return ut(n,t),b(n,[{key:"ic",get:function(){return this.ZI.ic},set:function(t){this.ZI.ic=t}},{key:"Xk",get:function(){return this.ZI.Xk},set:function(t){this.ZI.Xk=t}},{key:"Wk",get:function(){return this.ZI.Wk},set:function(t){this.ZI.Wk=t}}]),n}(fy);function dy(t){return void 0===t.JI&&(t.JI=new vy(t)),t.JI}var ly=function(t){function n(n,i){var r;(r=t.call(this,n.vc,n.uc)||this).ru="id3",r.KI=function(t){r.jb(t.xA)},r.$I=function(t){var n=t.xA;if(void 0!==n.JI){var i=n.JI;n.JI=void 0,r.Mb(i),i.Va()}},r.tN=function(t){var n=dy(t.xA);n.qk||r.nN(n),r.iN(n)},r.rN=function(t){var n=t.xA,i=dy(n);r.eN.Gy<n.u_&&r.nN(i)},r.uN=function(){var t=r.sN,n=r.dc;if(r.sN=n,n===oo.cc)r.Ab.forEach(function(t){return t.qk=!1}),Sn(r.Ab);else if(t===oo.cc)for(var i=r.eN.Gy,e=0,u=r.vb;e<u.length;e++){var s=u[e];i<s.Ck&&r.nN(s)}},r.eN=i,r.oN=n,r.sN=n.dc,n.Iu("cb",r.KI),n.Iu("hb",r.$I),n.Iu("VA",r.tN),n.Iu("HA",r.rN),n.Iu("Ma",r.uN);for(var e=0,u=r.oN._c.Ha;e<u.length;e++){var s=u[e];r.jb(s)}return r}ut(n,t);var i=n.prototype;return i.nN=function(t){var n=al(this.Ab,t);if(!(n>=0)){var i=-(n+1);this.Ab.splice(i,0,t),t.qk=!0,t.Su(new dl(t,this.eN.Gy)),this.Su(new Sl(t)),this.Su(new wl(this))}},i.iN=function(t){var n=al(this.Ab,t);n>=0&&bn(this.Ab,n),t.qk=!1,t.Su(new _l(t,this.eN.Gy)),this.Su(new Il(t)),this.Su(new wl(this))},i.Va=function(){this.oN.Cu("cb",this.KI),this.oN.Cu("hb",this.$I),this.oN.Cu("VA",this.tN),this.oN.Cu("HA",this.rN),this.oN.Cu("Ma",this.uN),t.prototype.Va.call(this)},i.jb=function(t){var n=dy(t);(this.Bb(n),this.dc!==oo.cc)&&(this.eN.Gy<n.Ck&&this.nN(n))},b(n,[{key:"ec",get:function(){return this.oN.ec}},{key:"uc",get:function(){return this.oN.uc},set:function(t){this.oN.uc=t}},{key:"sc",get:function(){return this.oN.sc}},{key:"ic",get:function(){return this.oN.ic}},{key:"rc",get:function(){return this.oN.rc}},{key:"vc",get:function(){return this.oN.vc}},{key:"dc",get:function(){return this.oN.dc},set:function(t){this.oN.dc=t}},{key:"lc",get:function(){return this.oN.lc}},{key:"wc",get:function(){return this.oN.wc}}]),n}(oy),_y=function(t){function n(n){var i;return(i=t.call(this)||this).eN=n,i}ut(n,t);var i=n.prototype;return i.La=function(n){if("id3"===n.ru){var i=n;return i.JI||(i.JI=new ly(i,this.eN)),t.prototype.La.call(this,i.JI)}return t.prototype.La.call(this,n)},i.Ua=function(n){if("id3"===n.ru){var i=n;return!!i.JI&&t.prototype.Ua.call(this,i.JI)}return t.prototype.Ua.call(this,n)},n}(go),gy=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).aN=void 0,u.fI=r_.Vv,u.cN=void 0,u.hN=!0,u.eT=new ao,u.uT=new ao,u.qA=new _y(st(u)),u.fN=n,u.mo=i,u.$T=r,u.vN=e,u.dN=new Pt,u.dN.lN(u.fN),u._N=new sy(u.fN),u.gN=uy.$t.XI(),u.Ev=u.wN(u.gN),u.Ev.VT=u.VT,u.yN(),u}ut(n,t);var i=n.prototype;return i.lT=function(){this.Ev.lT()},i.dT=function(){this.Ev.dT()},i._T=function(){return this.wT({sources:[]})},i.kT=function(){this.dN.mN()},i.AT=function(t){nv(this,t)},i.bT=function(){},i.NT=function(t){return!1},i.wN=function(t){return t.Ec(this.fN,this.dN,this.$T,this.mo,this.vN)},i.yN=function(){this.eT.Qa=this.Ev.cT,this.uT.Qa=this.Ev.hT,this.qA.Qa=this.Ev.fT,this.Ev.Sa(this.Eu)},i.pN=function(){this.Ev.Ra(this.Eu),this.eT.Qa=void 0,this.uT.Qa=void 0,this.qA.Qa=void 0},i.gT=function(){return this.cN},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(i),this.cN=n,n){t.next=4;break}return t.abrupt("return");case 4:if(!kf(r=n.sources.filter(Ef))){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,ry(r,n);case 9:if(e=t.sent,Dn(i),u=e.zI,s=e.jI,o=this.RT(),a=tv(this),this.gN===s&&!this.Vu){t.next=25;break}return this.pN(),t.next=19,this.Ev.Va();case 19:Dn(i),this.gN=s,this.Ev=this.wN(s),wy(this.Ev,a),iv(this,a,this),this.yN();case 25:return this.Ev.VT=this.VT,this.hN?this.Ev.TT():this.Ev.ET(),t.next=29,this.Ev.wT(u,n,i);case 29:Dn(i),this.kN(u),this.RT()!==o&&this.Su(new uv);case 32:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kN=function(t){this.aN!==t&&(this.aN=t,this.Su(new sv(t)))},i.yT=function(){return this.Ev.yT()},i.mT=function(){this.Ev.mT()},i.pT=function(){this.Ev.pT()},i.ST=function(){return this.Ev.ST()},i.RT=function(){return this.Ev.RT()},i.IT=function(){return this.dN.AN.map(function(t){return t.vI})},i.PT=function(){this.Ev.PT()},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.cN=void 0,this.kN(void 0),t.next=4,this.Ev.Fa();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),t.next=3,this.Fa();case 3:return t.next=5,this.Ev.Va();case 5:this.dN.Va(),this._N.Va(),this.eT.Va(),this.uT.Va(),this.qA.Va();case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TT=function(){this.hN=!0,this.Ev.TT()},i.ET=function(){this.hN=!1,this.Ev.ET()},b(n,[{key:"cT",get:function(){return this.eT}},{key:"xT",get:function(){return this.Ev.xT}},{key:"LT",get:function(){return this.fN}},{key:"Vu",get:function(){return this.Ev.Vu}},{key:"jy",get:function(){return this.Ev.jy}},{key:"BT",get:function(){return this.Ev.BT},set:function(t){this.Ev.BT=t}},{key:"OT",get:function(){return this.aN}},{key:"Gy",get:function(){return this.Ev.Gy},set:function(t){this.Ev.Gy=t}},{key:"e_",get:function(){return this.Ev.e_}},{key:"zy",get:function(){return this.Ev.zy}},{key:"MT",get:function(){return this.Ev.MT}},{key:"Cv",get:function(){return this.Ev.Cv}},{key:"Yy",get:function(){return this.Ev.Yy},set:function(t){this.Ev.Yy=t}},{key:"UT",get:function(){return this.Ev.UT}},{key:"Qy",get:function(){return this.Ev.Qy}},{key:"Zy",get:function(){return this.Ev.Zy},set:function(t){this.Ev.Zy=t}},{key:"FT",get:function(){return this.Ev.FT}},{key:"VT",get:function(){return this.fI},set:function(t){this.fI=t,this.Ev&&(this.Ev.VT=this.fI)}},{key:"lc",get:function(){return this.Ev.lc}},{key:"HT",get:function(){return this.Ev.HT}},{key:"Jy",get:function(){return this.Ev.Jy}},{key:"fT",get:function(){return this.qA}},{key:"Ky",get:function(){return this.Ev.Ky}},{key:"hT",get:function(){return this.uT}},{key:"$y",get:function(){return this.Ev.$y}},{key:"tm",get:function(){return this.Ev.tm},set:function(t){this.Ev.tm=t}}]),n}(Cs);function wy(t,n){t.Yy!==n.Yy&&(t.Yy=n.Yy),t.tm!==n.tm&&(t.tm=n.tm),t.Zy!==n.Zy&&(t.Zy=n.Zy)}var yy=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).fN=n,e.bN=i,e.TN=new rc,e.EN=new ec,e.SN=r,e}ut(n,t);var i=n.prototype;return i.NT=function(t){return!0},i.ET=function(){},i.dT=function(){throw this.Su(new df(this.SN)),this.bN},i.lT=function(){},i.gT=function(){},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw Dn(i),this.Su(new df(this.SN)),this.bN;case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.TT=function(){},i._T=function(){return Tt.resolve()},i.ST=function(){},i.RT=function(){},i.IT=function(){return[]},i.kT=function(){},i.AT=function(t){},i.bT=function(){},i.yT=function(){return!1},i.mT=function(){},i.pT=function(){},i.PT=function(){},i.Fa=function(){return Tt.resolve()},i.Va=function(){return this.Du(),this.TN.Va(),this.EN.Va(),Tt.resolve()},b(n,[{key:"cT",get:function(){return this.TN}},{key:"xT",get:function(){return Ca.Qf().lf()}},{key:"BT",get:function(){return new Date(NaN)},set:function(t){}},{key:"OT",get:function(){}},{key:"Gy",get:function(){return 0},set:function(t){}},{key:"e_",get:function(){return 0}},{key:"LT",get:function(){return this.fN}},{key:"zy",get:function(){return!0}},{key:"Vu",get:function(){return this.bN}},{key:"jy",get:function(){return this.SN}},{key:"Cv",get:function(){return{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Yy",get:function(){return!1},set:function(t){}},{key:"UT",get:function(){return!0}},{key:"Qy",get:function(){return!0}},{key:"Zy",get:function(){return 0},set:function(t){}},{key:"FT",get:function(){return Ca.Qf().lf()}},{key:"VT",get:function(){return r_.Vv},set:function(t){}},{key:"lc",get:function(){return Qa.yv}},{key:"HT",get:function(){return Ca.Qf().lf()}},{key:"Jy",get:function(){return!1}},{key:"fT",get:function(){return this.EN}},{key:"Ky",get:function(){return 0}},{key:"hT",get:function(){return this.TN}},{key:"$y",get:function(){return 0}},{key:"tm",get:function(){return 1},set:function(t){}},{key:"MT",get:function(){return!1}}]),n}(Cs);var my=function(){function t(t){this.RN=t}return t.prototype.IN=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";var c=t.length%4;if(c>0)for(;c++<4;)t+=this.RN.charAt(64);for(n=0;n<t.length;n+=4)i=(o=this.RN.indexOf(t.charAt(n))<<18|this.RN.indexOf(t.charAt(n+1))<<12|(u=this.RN.indexOf(t.charAt(n+2)))<<6|(s=this.RN.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},t.prototype.NN=function(t,n){var i,r,e,u,s,o,a,c=[],h="";if((o=t.length%3)>0)for(;o++<3;)h+=this.RN.charAt(64),t+="\0";for(o=0;o<t.length;o+=3)r=(i=t.charCodeAt(o)<<16|t.charCodeAt(o+1)<<8|t.charCodeAt(o+2))>>18&63,e=i>>12&63,u=i>>6&63,s=63&i,c[o/3]=this.RN.charAt(r)+this.RN.charAt(e)+this.RN.charAt(u)+this.RN.charAt(s);return a=(a=c.join("")).slice(0,a.length-h.length),n||(a+=h),a},t.TA=new t(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),t.DN=new t(t.TA.IN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop")),t}();function py(t){return"string"==typeof t}function ky(t){return"number"==typeof t}var Ay={}.toString;var by,Ty=Array.isArray||function(t){return"[object Array]"===Ay.call(t)};function Ey(t,n){return Ty(t)&&t.every(n)}!function(t){t.HTML5="html5",t.ANDROID="android",t.IOS="ios",t.TVOS="tvos",t.ANDROIDTV="androidtv",t.TIZEN="tizen",t.WEBOS="webos",t.CHROMECAST="chromecast",t.ROKU="roku",t.FIRETV="firetv",t.CHROMECASTCAF="chromecastcaf"}(by||(by={}));var Sy,Ry=l.keys(by).map(function(t){return by[t]});function Iy(t){return-1!==Ry.indexOf(t)}function Ny(t){try{var n=my.DN.IN(t),i=JSON.parse(n);if(!function(t){var n=(f=t,"object"==typeof f&&null!==f),i=py(t.key),r=py(t.customer_id),e=ky(t.generation_date),u=ky(t.expiration_date),s=Ey(t.domains_page,py),o=Ey(t.domains_source,py),a=Ey(t.sdks,Iy),c=(h=t.send_impression,"boolean"==typeof h);var h;var f;if(!(n&&i&&r&&e&&u&&s&&o&&a&&c))return!1;return!0}(i))throw new v("The provided license could not be decoded correctly.");return i}catch(t){throw new v("The provided license could not be decoded correctly.")}}function Dy(){return Sy||(Sy={Zl:Mt.href,CN:Lt.parent&&Lt.parent!==e,ON:Py()}),Sy}var Cy,Oy=["http:","https:","ftp:","ws:","wss:"];function Py(){try{return Lt.top.location.href}catch(t){return Lt&&Lt.document&&Lt.document.referrer}}!function(t){t[t.PN=0]="PN",t[t.xN=1]="xN",t[t.BN=2]="BN"}(Cy||(Cy={}));var xy,By=function(t,n,i,r,e,u,s,o){void 0===e&&(e=""),void 0===u&&(u=Date.now()),void 0===s&&(s=[]),void 0===o&&(o=!0),this.LN=t,this.MN=n,this.UN=i,this.FN=r,this.VN=e,this.HN=u,this.qN=s,this.WN=o};!function(t){t.xN="expired",t.XN="invaliddomain",t.GN="invalidsource",t.yd="error"}(xy||(xy={}));var Ly=function(){function t(t,n,i){this.zN=t,this.jN=n,this.YN=i,this.QN=Hy(this.YN)}var i=t.prototype;return i.ZN=function(t,i){var r=this;if(!yf(t)&&0!==i.UN.length&&!Uy(i.MN)){var e=[];if(mf(t.sources)?e=[t.sources]:M(t.sources)&&(e=t.sources),!e.every(function(t){return r.JN(t,i)})){var u=xy.GN,s=qy.KN(u);throw new Vo(function(t){switch(t){case xy.XN:return n.ErrorCode.LICENSE_INVALID_DOMAIN;case xy.GN:return n.ErrorCode.LICENSE_INVALID_SOURCE;case xy.xN:return n.ErrorCode.LICENSE_EXPIRED;case xy.yd:return n.ErrorCode.LICENSE_ERROR}}(u),s)}}},i.$N=function(n){return this.tD(n.qN)?t.nD(n.FN)?this.iD(n)?Cy.PN:Cy.BN:Cy.xN:Cy.BN},i.tD=function(t){var n=this;return 0===t.length||t.some(function(t){return n.rD(t)})},i.rD=function(t){return"ios"===function(t){switch(t){case by.ANDROID:return"android";case by.ANDROIDTV:case by.FIRETV:return"android-tv";case by.IOS:return"ios";case by.TVOS:return"tvos";case by.CHROMECAST:case by.CHROMECASTCAF:return"chromecast";default:return"web"}}(t)},t.nD=function(t){var n=+new Date;return!!t&&n<=t},i.iD=function(t){return!(this.QN&&0!==t.MN.length&&!Uy(t.MN))||!!(this.QN&&this.eD(t.MN)&&this.uD(t.MN))},i.eD=function(t){return Fy(this.YN.Zl,t)},i.uD=function(t){if(!this.YN.CN)return!0;if(this.zN)return!0;var n=this.sD();return!!n&&Fy(n,t)},i.sD=function(){if(this.YN.CN){var t=s.ancestorOrigins;return t&&t.length>0?t[t.length-1]:this.YN.ON?this.YN.ON:void 0}},i.JN=function(n,i){return!!t.oD(n,i.UN)},t.oD=function(t,n){return Fy(this.aD(t),n)},t.aD=function(t){return V(t)?t:Tf(t)&&t.src||""},t}();function My(t,n){if(!t)return!1;if("*"===(n=n.trim()))return!0;if(n===(t=t.replace(/\.+$/,"")))return!0;var i="\\.",r="25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?",e="(\\*|"+r+")",u=new RegExp("ip-range\\("+e+i+e+i+e+i+e+"\\)"),s=n.match(u),o=function(t){return"*"===t?"("+r+")":t};if(null!==s&&5===s.length){var a=new RegExp("^"+s[1]+i+o(s[2])+i+o(s[3])+i+o(s[4])+"$");return null!==t.match(a)}return n="."+n,-1!==t.indexOf(n,t.length-n.length)}function Uy(t){return t.some(function(t){return"*"===t})}function Fy(t,n){var i=r.aa(t);if(!Vy(i))return!0;for(var e=0;e<n.length;e++){var u=n[e];if(My(i.hostname,u))return!0;if(My(Es(t),u))return!0}return!1}function Vy(t){return-1!==Oy.indexOf(t.protocol)}function Hy(t){var n=r.aa(t.Zl);return Vy(n)&&!My(n.hostname,"localhost")&&!function(t){return My(t.hostname,"theoplayer.doubleclick.net")}(n)}var qy=function(){function t(){}return t.KN=function(t){return t===xy.XN?this.cD:t===xy.GN?this.hD:t===xy.xN?this.fD:this.vD},t}();qy.vD="The license for this player is invalid.",qy.fD="The usage license for this video player has expired.",qy.cD="The current domain is incompatible with the license for this player.",qy.hD="The provided video source is incompatible with the license for this player.";for(var Wy=new Array(256),Xy=0;Xy<256;Xy+=1)Wy[Xy]=(Xy<16?"0":"")+Xy.toString(16);function Gy(){var t=rt(),n=(4294967296*_.random()|0)+t&3029421624,i=(4294967296*_.random()|0)+t&3595553209,r=(4294967296*_.random()|0)+t&1130486254,e=(4294967296*_.random()|0)+t&1284287105;return Wy[255&n]+Wy[n>>>8&255]+Wy[n>>>16&255]+Wy[n>>>24&255]+"-"+Wy[255&i]+Wy[i>>>8&255]+"-"+Wy[i>>>16&15|64]+Wy[i>>>24&255]+"-"+Wy[63&r|128]+Wy[r>>>8&255]+"-"+Wy[r>>>16&255]+Wy[r>>>24&255]+Wy[255&e]+Wy[e>>>8&255]+Wy[e>>>16&255]+Wy[e>>>24&255]}var zy=function(){function t(t){this.RN=t}var n=t.prototype;return n.IN=function(t){var n,i,r,e,u,s,o,a=[];if(!t)return"";for(n=0;n<t.length;n+=4)i=(o=this.RN.indexOf(t.charAt(n))<<18|this.RN.indexOf(t.charAt(n+1))<<12|(u=this.RN.indexOf(t.charAt(n+2)))<<6|(s=this.RN.indexOf(t.charAt(n+3))))>>>16&255,r=o>>>8&255,e=255&o,a[n/4]=String.fromCharCode(i,r,e),64===s&&(a[n/4]=String.fromCharCode(i,r)),64===u&&(a[n/4]=String.fromCharCode(i));return a.join("")},n.NN=function(t){var n,i,r,e,u,s,o,a=[],c="";if((s=t.length%3)>0)for(;s++<3;)c+=this.RN.charAt(64),t+="\0";for(s=0;s<t.length;s+=3)i=(n=t.charCodeAt(s)<<16|t.charCodeAt(s+1)<<8|t.charCodeAt(s+2))>>18&63,r=n>>12&63,e=n>>6&63,u=63&n,a[s/3]=this.RN.charAt(i)+this.RN.charAt(r)+this.RN.charAt(e)+this.RN.charAt(u);return(o=a.join("")).slice(0,o.length-c.length)+c},t}();zy.TA=new zy(function(){var t,n,i,r,e=[],u=["object","$","undefined","function","Cannot find module '","MODULE_NOT_FOUND","*","com.widevine.alpha","urn:mpeg:dash:mp4protection:2011","^","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","__proto__","@@iterator","getUTCHours","setUTCFullYear","25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?","SegmentBase","RateChangeEvent","Symbol(","Symbol.",'; codecs="'];for(t=0;t<u.length;t+=1)for(n=u[t],i=0;i<n.length;i+=1)r=n.charAt(i),-1===e.indexOf(r)&&e.push(r);return e.join("")}()),zy.DN=new zy(zy.TA.IN("aDtm.Dd_DE.4DuN$CeaD $t?FUa0ac'NlYsgU]dU*|sMCON9NL.i'YU M:.LiEb5TLaTOu18F|'v*:s7C41nOMop"));var jy,Yy="theoplayer-session-id";function Qy(){if(!jy){var t=xa.ju(Yy);t?jy=t:(jy=Gy(),xa.Kf(Yy,jy))}return jy}function Zy(t){var n=[t.Qp,t.dD,t.lD];switch(t.dD){case 1:n.push(t.wc);break;case 4:n.push(t.Gy),n.push(t.Vu);break;case 5:n.push(t.Vu)}return n}var Jy=/[^\x00-\x7E]/g;function Ky(t){return"\\u"+hn(t.charCodeAt(0).toString(16),4,"0")}var $y=0,tm=1,nm=6e4;function im(t){var n,i,r,e,u,s=(n=function(t){return[t._D,t.js,t.LN,t.Em,t.gD,t.L_,t.mg.map(Zy)]}(t),i=[],r=n,e=function(t,n){if(U(n)){if(-1!==i.indexOf(n))return null;i.push(n)}return n},JSON.stringify(r,e,u).replace(Jy,Ky));return zy.DN.NN(s)}var rm=function(){function t(t,n,i,r,e,u){var s=this;void 0===r&&(r=zy.TA),void 0===e&&(e=$y),void 0===u&&(u=tm),this.AS=t,this.$T=n,this.wD=i,this.yD=r,this.mD=e,this.pD=u,this.kD=[],this.bD=null,this.TD=0,this.ED="unknown",this.SD=0,this.RD=function(){ml()-s.TD>nm&&s.ND()},this.DD=function(){s.ND(!0)},Bt.CD(this.DD),h(this.RD,nm)}var n=t.prototype;return n.OD=function(){return!!this.gD},n.PD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wD.xD();case 2:if(t.sent.WN){t.next=5;break}return t.abrupt("return");case 5:return i={dD:1,lD:rt(),wc:n},t.next=8,this.BD(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.LD=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={dD:4,lD:rt(),Gy:i,Vu:n},t.next=3,this.BD(r);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.MD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={dD:5,lD:rt(),Vu:n},t.next=3,this.BD(i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.BD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wD.xD();case 2:if(i=t.sent,"a:n[_O*[C4C-N$_@_MYY $D]iOp]N$_-_]th_:c|aen?C:pH"!==this.yD.NN(i.LN)){t.next=6;break}if(5===n.dD){t.next=6;break}return t.abrupt("return");case 6:if(1===n.dD?this.UD():this.OD()||this.UD(),n.Qp=this.SD++,this.kD.push(n),1!==(r=n.dD)&&5!==r){t.next=14;break}return t.next=12,this.ND();case 12:t.next=19;break;case 14:if(!(this.kD.length>this.mD)){t.next=19;break}return t.next=17,this.FD();case 17:t.next=19;break;case 19:case"end":return t.stop()}var r},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ND=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);case 1:if(!(this.kD.length>0)){t.next=6;break}return t.next=4,this.FD(n);case 4:t.next=1;break;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.VD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.wD.xD();case 2:return i=t.sent,t.abrupt("return",{_D:rt(),js:Qy(),LN:this.yD.NN(i.LN)||"dev",Em:this.AS,gD:this.bD,L_:this.ED,mg:n});case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.FD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),i=this.kD.splice(0,this.pD),t.next=4,this.VD(i);case 4:r=t.sent,n?this.HD(r):this.qD(r),this.TD=ml();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.qD=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=im(n),r=new Xh({Zl:"https://license.theoplayer.com",jg:i,tw:!1,Zg:Ch.Hg,Yg:{"Content-Type":gg.NS},Jg:4e3,Qg:"POST"}),t.prev=2,t.next=5,this.$T.SA(r);case 5:return e=t.sent,t.next=8,e.RS();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),(new Image).src="https://licensing.theoplayer.com/t?"+i;case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(n){return t.apply(this,arguments)}}(),n.HD=function(t){var n=im(t);this.$T.HD({Zl:"https://license.theoplayer.com",jg:n,K_:gg.NS})},n.UD=function(){this.OD()&&this.ND(),this.bD=Gy(),this.SD=0},n.Va=function(){Bt.WD(this.DD),this.ND()},b(t,[{key:"mg",get:function(){return this.kD}},{key:"gD",get:function(){return this.bD}}]),t}();var em=function(){var n,i=t.Blob;if(i)try{return new i,n=i,function(t,i){return new n(t,i)}}catch(t){}var r,e=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return e?(r=e,function(t,n){var i=new r;if(t)for(var e=0;e<t.length;e++){var u=t[e];i.append(u)}return i.getBlob(n&&n.type||"")}):null}(),um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function sm(){}var om=Number.isNaN||function(t){return t!=t},am=sm;function cm(t){return"object"==typeof t&&null!==t||"function"==typeof t}function hm(t){return t.slice()}function fm(t){return!1!==function(t){if("number"!=typeof t)return!1;if(om(t))return!1;if(t<0)return!1;return!0}(t)&&t!==1/0}function vm(t,n,i){if("function"!=typeof t)throw new d("Argument is not a function");return Function.prototype.apply.call(t,n,i)}function dm(t,n,i,r){var e=t[n];if(void 0!==e){if("function"!=typeof e)throw new d(e+" is not a method");switch(i){case 0:return function(){return _m(e,t,r)};case 1:return function(n){var i=[n].concat(r);return _m(e,t,i)}}}return function(){return Tm(void 0)}}function lm(t,n,i){var r=t[n];if(void 0!==r)return vm(r,t,i)}function _m(t,n,i){try{return Tm(vm(t,n,i))}catch(t){return Em(t)}}function gm(t){return t}function wm(t){if(t=Number(t),om(t)||t<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return t}function ym(t){if(void 0===t)return function(){return 1};if("function"!=typeof t)throw new d("size property of a queuing strategy must be a function");return function(n){return t(n)}}var mm=Tt,pm=Tt.prototype.then,km=Tt.resolve.bind(mm),Am=Tt.reject.bind(mm);function bm(t){return new mm(t)}function Tm(t){return km(t)}function Em(t){return Am(t)}function Sm(t,n,i){return pm.call(t,n,i)}function Rm(t,n,i){Sm(Sm(t,n,i),void 0,am)}function Im(t,n){Rm(t,n)}function Nm(t,n){Rm(t,void 0,n)}function Dm(t,n,i){return Sm(t,n,i)}function Cm(t){Sm(t,void 0,am)}var Om=function(){function t(){this.XD=0,this.GD=0,this.ye={zD:[],jD:void 0},this.YD=this.ye,this.XD=0,this.GD=0}return l.defineProperty(t.prototype,"length",{get:function(){return this.GD},enumerable:!0,configurable:!0}),t.prototype.push=function(t){var n=this.YD,i=n;16383===n.zD.length&&(i={zD:[],jD:void 0}),n.zD.push(t),i!==n&&(this.YD=i,n.jD=i),++this.GD},t.prototype.shift=function(){var t=this.ye,n=t,i=this.XD,r=i+1,e=t.zD,u=e[i];return 16384===r&&(n=t.jD,r=0),--this.GD,this.XD=r,t!==n&&(this.ye=n),e[i]=void 0,u},t.prototype.forEach=function(t){for(var n=this.XD,i=this.ye,r=i.zD;!(n===r.length&&void 0===i.jD||n===r.length&&(n=0,0===(r=(i=i.jD).zD).length));)t(r[n]),++n},t.prototype.peek=function(){var t=this.ye,n=this.XD;return t.zD[n]},t}();function Pm(t,n,i){var r=null;!0===i&&(r=l.prototype);var e=l.create(r);return e.value=t,e.done=n,e}function xm(t,n){t.QD=!0,t.ZD=n,n.JD=t,"readable"===n.KD?Um(t):"closed"===n.KD?function(t){Um(t),Hm(t)}(t):Fm(t,n.$D)}function Bm(t,n){return Gk(t.ZD,n)}function Lm(t){"readable"===t.ZD.KD?Vm(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,n){Fm(t,n)}(t,new d("Reader was released and can no longer be used to monitor the stream's closedness")),t.ZD.JD=void 0,t.ZD=void 0}function Mm(t){return new d("Cannot "+t+" a stream using a released reader")}function Um(t){t.Ms=bm(function(n,i){t.tC=n,t.nC=i})}function Fm(t,n){Um(t),Vm(t,n)}function Vm(t,n){Cm(t.Ms),t.nC(n),t.tC=void 0,t.nC=void 0}function Hm(t){t.tC(void 0),t.tC=void 0,t.nC=void 0}var qm=um("[[CancelSteps]]"),Wm=um("[[PullSteps]]");function Xm(t,n){void 0===n&&(n=!1);var i=new Jm(t);return i.QD=n,i}function Gm(t){return bm(function(n,i){var r={Cr:n,Fn:i};t.JD.iC.push(r)})}function zm(t,n,i){var r=t.JD;r.iC.shift().Cr(Pm(n,i,r.QD))}function jm(t){return t.JD.iC.length}function Ym(t){var n=t.JD;return void 0!==n&&!!Km(n)}var Qm,Zm,Jm=function(){function t(t){if(!1===Wk(t))throw new d("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===Xk(t))throw new d("This stream has already been locked for exclusive reading by another reader");xm(this,t),this.iC=new Om}return l.defineProperty(t.prototype,"closed",{get:function(){return Km(this)?this.Ms:Em(tp("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Km(this)?void 0===this.ZD?Em(Mm("cancel")):Bm(this,t):Em(tp("cancel"))},t.prototype.read=function(){return Km(this)?void 0===this.ZD?Em(Mm("read from")):$m(this):Em(tp("read"))},t.prototype.releaseLock=function(){if(!Km(this))throw tp("releaseLock");if(void 0!==this.ZD){if(this.iC.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Lm(this)}},t}();function Km(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"iC")}function $m(t){var n=t.ZD;return n.rC=!0,"closed"===n.KD?Tm(Pm(void 0,!0,t.QD)):"errored"===n.KD?Em(n.$D):n.eC[Wm]()}function tp(t){return new d("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}"symbol"==typeof um.asyncIterator&&((Qm={})[um.asyncIterator]=function(){return this},Zm=Qm,l.defineProperty(Zm,um.asyncIterator,{enumerable:!1}));var np={next:function(){if(!1===ip(this))return Em(rp("next"));var t=this.uC;return void 0===t.ZD?Em(Mm("iterate")):Dm($m(t),function(n){var i=n.done;return i&&Lm(t),Pm(n.value,i,!0)})},return:function(t){if(!1===ip(this))return Em(rp("next"));var n=this.uC;if(void 0===n.ZD)return Em(Mm("finish iterating"));if(n.iC.length>0)return Em(new d("Tried to release a reader lock when that reader has pending read() calls un-settled"));if(!1===this.sC){var i=Bm(n,t);return Lm(n),Dm(i,function(){return Pm(t,!0,!0)})}return Lm(n),Tm(Pm(t,!0,!0))}};function ip(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"uC")}function rp(t){return new d("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}function ep(t){var n=t.Er.shift();return t.oC-=n.size,t.oC<0&&(t.oC=0),n.value}function up(t,n,i){if(!fm(i=Number(i)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");t.Er.push({value:n,size:i}),t.oC+=i}function sp(t){t.Er=new Om,t.oC=0}void 0!==Zm&&l.setPrototypeOf(np,Zm),l.defineProperty(np,"next",{enumerable:!1}),l.defineProperty(np,"return",{enumerable:!1});var op=um("[[AbortSteps]]"),ap=um("[[ErrorSteps]]"),cp=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),fp(this);var i=n.size,r=n.highWaterMark;if(void 0!==t.type)throw new RangeError("Invalid type is specified");var e=ym(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(Np.prototype);var u=dm(n,"write",1,[e]),s=dm(n,"close",0,[]),o=dm(n,"abort",1,[]);Dp(t,e,function(){return lm(n,"start",[e])},u,s,o,i,r)}(this,t,r=wm(r),e)}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===vp(this))throw Mp("locked");return dp(this)},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===vp(this)?Em(Mp("abort")):!0===dp(this)?Em(new d("Cannot abort a stream that already has a writer")):lp(this,t)},t.prototype.close=function(){return!1===vp(this)?Em(Mp("close")):!0===dp(this)?Em(new d("Cannot close a stream that already has a writer")):!0===mp(this)?Em(new d("Cannot close an already-closing stream")):_p(this)},t.prototype.getWriter=function(){if(!1===vp(this))throw Mp("getWriter");return hp(this)},t}();function hp(t){return new Ap(t)}function fp(t){t.KD="writable",t.$D=void 0,t.aC=void 0,t.cC=void 0,t.hC=new Om,t.fC=void 0,t.vC=void 0,t.dC=void 0,t.lC=void 0,t._C=!1}function vp(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"cC")}function dp(t){return void 0!==t.aC}function lp(t,n){var i=t.KD;if("closed"===i||"errored"===i)return Tm(void 0);if(void 0!==t.lC)return t.lC.Zi;var r=!1;"erroring"===i&&(r=!0,n=void 0);var e=bm(function(i,e){t.lC={Zi:void 0,Cr:i,Fn:e,mr:n,gC:r}});return t.lC.Zi=e,!1===r&&wp(t,n),e}function _p(t){var n=t.KD;if("closed"===n||"errored"===n)return Em(new d("The stream (in "+n+" state) is not in the writable state and cannot be closed"));var i,r=bm(function(n,i){var r={Cr:n,Fn:i};t.vC=r}),e=t.aC;return void 0!==e&&!0===t._C&&"writable"===n&&Yp(e),up(i=t.cC,"close",0),Pp(i),r}function gp(t,n){"writable"!==t.KD?yp(t):wp(t,n)}function wp(t,n){var i=t.cC;t.KD="erroring",t.$D=n;var r=t.aC;void 0!==r&&Sp(r,n),!1===function(t){if(void 0===t.fC&&void 0===t.dC)return!1;return!0}(t)&&!0===i.wC&&yp(t)}function yp(t){t.KD="errored",t.cC[ap]();var n=t.$D;if(t.hC.forEach(function(t){t.Fn(n)}),t.hC=new Om,void 0!==t.lC){var i=t.lC;if(t.lC=void 0,!0===i.gC)return i.Fn(n),void pp(t);Rm(t.cC[op](i.mr),function(){i.Cr(),pp(t)},function(n){i.Fn(n),pp(t)})}else pp(t)}function mp(t){return void 0!==t.vC||void 0!==t.dC}function pp(t){void 0!==t.vC&&(t.vC.Fn(t.$D),t.vC=void 0);var n=t.aC;void 0!==n&&qp(n,t.$D)}function kp(t,n){var i=t.aC;void 0!==i&&n!==t._C&&(!0===n?function(t){Xp(t)}(i):Yp(i)),t._C=n}var Ap=function(){function t(t){if(!1===vp(t))throw new d("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===dp(t))throw new d("This stream has already been locked for exclusive writing by another writer");this.yC=t,t.aC=this;var n,i=t.KD;if("writable"===i)!1===mp(t)&&!0===t._C?Xp(this):zp(this),Vp(this);else if("erroring"===i)Gp(this,t.$D),Vp(this);else if("closed"===i)zp(this),Vp(n=this),Wp(n);else{var r=t.$D;Gp(this,r),Hp(this,r)}}return l.defineProperty(t.prototype,"closed",{get:function(){return!1===bp(this)?Em(Up("closed")):this.Ms},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===bp(this))throw Up("desiredSize");if(void 0===this.yC)throw Fp("desiredSize");return function(t){var n=t.yC,i=n.KD;if("errored"===i||"erroring"===i)return null;if("closed"===i)return 0;return Op(n.cC)}(this)},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"ready",{get:function(){return!1===bp(this)?Em(Up("ready")):this.mC},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){return!1===bp(this)?Em(Up("abort")):void 0===this.yC?Em(Fp("abort")):function(t,n){return lp(t.yC,n)}(this,t)},t.prototype.close=function(){if(!1===bp(this))return Em(Up("close"));var t=this.yC;return void 0===t?Em(Fp("close")):!0===mp(t)?Em(new d("Cannot close an already-closing stream")):Tp(this)},t.prototype.releaseLock=function(){if(!1===bp(this))throw Up("releaseLock");void 0!==this.yC&&Rp(this)},t.prototype.write=function(t){return!1===bp(this)?Em(Up("write")):void 0===this.yC?Em(Fp("write to")):Ip(this,t)},t}();function bp(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"yC")}function Tp(t){return _p(t.yC)}function Ep(t,n){"pending"===t.pC?qp(t,n):function(t,n){Hp(t,n)}(t,n)}function Sp(t,n){"pending"===t.kC?jp(t,n):function(t,n){Gp(t,n)}(t,n)}function Rp(t){var n=t.yC,i=new d("Writer was released and can no longer be used to monitor the stream's closedness");Sp(t,i),Ep(t,i),n.aC=void 0,t.yC=void 0}function Ip(t,n){var i=t.yC,r=i.cC,e=function(t,n){try{return t.AC(n)}catch(n){return xp(t,n),1}}(r,n);if(i!==t.yC)return Em(Fp("write to"));var u=i.KD;if("errored"===u)return Em(i.$D);if(!0===mp(i)||"closed"===u)return Em(new d("The stream is closing or closed and cannot be written to"));if("erroring"===u)return Em(i.$D);var s=function(t){return bm(function(n,i){var r={Cr:n,Fn:i};t.hC.push(r)})}(i);return function(t,n,i){var r={chunk:n};try{up(t,r,i)}catch(n){return void xp(t,n)}var e=t.bC;if(!1===mp(e)&&"writable"===e.KD){var u=Bp(t);kp(e,u)}Pp(t)}(r,n,e),s}var Np=function(){function t(){throw new d("WritableStreamDefaultController cannot be constructed explicitly")}return t.prototype.error=function(t){if(!1===function(t){if(!cm(t))return!1;if(!l.prototype.hasOwnProperty.call(t,"bC"))return!1;return!0}(this))throw new d("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this.bC.KD&&Lp(this,t)},t.prototype[op]=function(t){var n=this.TC(t);return Cp(this),n},t.prototype[ap]=function(){sp(this)},t}();function Dp(t,n,i,r,e,u,s,o){n.bC=t,t.cC=n,n.Er=void 0,n.oC=void 0,sp(n),n.wC=!1,n.AC=o,n.EC=s,n.SC=r,n.RC=e,n.TC=u;var a=Bp(n);kp(t,a),Rm(Tm(i()),function(){n.wC=!0,Pp(n)},function(i){n.wC=!0,gp(t,i)})}function Cp(t){t.SC=void 0,t.RC=void 0,t.TC=void 0,t.AC=void 0}function Op(t){return t.EC-t.oC}function Pp(t){var n=t.bC;if(!1!==t.wC&&void 0===n.fC)if("erroring"!==n.KD){if(0!==t.Er.length){var i=t.Er.peek().value;"close"===i?function(t){var n=t.bC;(function(t){t.dC=t.vC,t.vC=void 0})(n),ep(t);var i=t.RC();Cp(t),Rm(i,function(){!function(t){t.dC.Cr(void 0),t.dC=void 0,"erroring"===t.KD&&(t.$D=void 0,void 0!==t.lC&&(t.lC.Cr(),t.lC=void 0)),t.KD="closed";var n=t.aC;void 0!==n&&Wp(n)}(n)},function(t){!function(t,n){t.dC.Fn(n),t.dC=void 0,void 0!==t.lC&&(t.lC.Fn(n),t.lC=void 0),gp(t,n)}(n,t)})}(t):function(t,n){var i=t.bC;(function(t){t.fC=t.hC.shift()})(i),Rm(t.SC(n),function(){!function(t){t.fC.Cr(void 0),t.fC=void 0}(i);var n=i.KD;if(ep(t),!1===mp(i)&&"writable"===n){var r=Bp(t);kp(i,r)}Pp(t)},function(n){"writable"===i.KD&&Cp(t),function(t,n){t.fC.Fn(n),t.fC=void 0,gp(t,n)}(i,n)})}(t,i.chunk)}}else yp(n)}function xp(t,n){"writable"===t.bC.KD&&Lp(t,n)}function Bp(t){return Op(t)<=0}function Lp(t,n){var i=t.bC;Cp(t),wp(i,n)}function Mp(t){return new d("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Up(t){return new d("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function Fp(t){return new d("Cannot "+t+" a stream using a released writer")}function Vp(t){t.Ms=bm(function(n,i){t.tC=n,t.nC=i,t.pC="pending"})}function Hp(t,n){Vp(t),qp(t,n)}function qp(t,n){Cm(t.Ms),t.nC(n),t.tC=void 0,t.nC=void 0,t.pC="rejected"}function Wp(t){t.tC(void 0),t.tC=void 0,t.nC=void 0,t.pC="resolved"}function Xp(t){t.mC=bm(function(n,i){t.IC=n,t.NC=i}),t.kC="pending"}function Gp(t,n){Xp(t),jp(t,n)}function zp(t){Xp(t),Yp(t)}function jp(t,n){Cm(t.mC),t.NC(n),t.IC=void 0,t.NC=void 0,t.kC="rejected"}function Yp(t){t.IC(void 0),t.IC=void 0,t.NC=void 0,t.kC="fulfilled"}function Qp(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(t){return!1}}var Zp="undefined"!=typeof DOMException?DOMException:void 0;var Jp,Kp=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(t){return!1}}(Zp)?Zp:((Jp=function(t,n){this.message=t||"",this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),l.defineProperty(Jp.prototype,"constructor",{value:Jp,writable:!0,configurable:!0}),Jp);function $p(t,n,i,r,e,u){var s=Xm(t),o=hp(n);t.rC=!0;var a=!1,c=Tm(void 0);return bm(function(h,f){var v,l,_,g;if(void 0!==u){if(v=function(){var i=new Kp("Aborted","AbortError"),u=[];!1===r&&u.push(function(){return"writable"===n.KD?lp(n,i):Tm(void 0)}),!1===e&&u.push(function(){return"readable"===t.KD?Gk(t,i):Tm(void 0)}),p(function(){return Tt.all(u.map(function(t){return t()}))},!0,i)},!0===u.aborted)return void v();u.addEventListener("abort",v)}if(m(t,s.Ms,function(t){!1===r?p(function(){return lp(n,t)},!0,t):k(!0,t)}),m(n,o.Ms,function(n){!1===e?p(function(){return Gk(t,n)},!0,n):k(!0,n)}),l=t,_=s.Ms,g=function(){!1===i?p(function(){return function(t){var n=t.yC,i=n.KD;return!0===mp(n)||"closed"===i?Tm(void 0):"errored"===i?Em(n.$D):Tp(t)}(o)}):k()},"closed"===l.KD?g():Im(_,g),!0===mp(n)||"closed"===n.KD){var w=new d("the destination writable stream closed before all data could be piped to it");!1===e?p(function(){return Gk(t,w)},!0,w):k(!0,w)}function y(){var t=c;return Sm(c,function(){return t!==c?y():void 0})}function m(t,n,i){"errored"===t.KD?i(t.$D):Nm(n,i)}function p(t,i,r){function e(){Rm(t(),function(){return A(i,r)},function(t){return A(!0,t)})}!0!==a&&(a=!0,"writable"===n.KD&&!1===mp(n)?Im(y(),e):e())}function k(t,i){!0!==a&&(a=!0,"writable"===n.KD&&!1===mp(n)?Im(y(),function(){return A(t,i)}):A(t,i))}function A(t,n){Rp(o),Lm(s),void 0!==u&&u.removeEventListener("abort",v),t?f(n):h(void 0)}Cm(bm(function(t,n){!function i(r){r?t():Sm(!0===a?Tm(!0):Sm(o.mC,function(){return Sm($m(s),function(t){return!0===t.done||(c=Sm(Ip(o,t.value),void 0,sm),!1)})}),i,n)}(!1)}))})}var tk=function(){function t(){throw new d}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===nk(this))throw fk("desiredSize");return ak(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===nk(this))throw fk("close");if(!1===ck(this))throw new d("The stream is not in a state that permits close");uk(this)},t.prototype.enqueue=function(t){if(!1===nk(this))throw fk("enqueue");if(!1===ck(this))throw new d("The stream is not in a state that permits enqueue");return sk(this,t)},t.prototype.error=function(t){if(!1===nk(this))throw fk("error");ok(this,t)},t.prototype[qm]=function(t){sp(this);var n=this.DC(t);return ek(this),n},t.prototype[Wm]=function(){var t=this.OC;if(this.Er.length>0){var n=ep(this);return!0===this.xC&&0===this.Er.length?(ek(this),zk(t)):ik(this),Tm(Pm(n,!1,t.JD.QD))}var i=Gm(t);return ik(this),i},t}();function nk(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"OC")}function ik(t){!1!==rk(t)&&(!0!==t.BC?(t.BC=!0,Rm(t.LC(),function(){t.BC=!1,!0===t.MC&&(t.MC=!1,ik(t))},function(n){ok(t,n)})):t.MC=!0)}function rk(t){var n=t.OC;return!1!==ck(t)&&(!1!==t.wC&&(!0===Xk(n)&&jm(n)>0||ak(t)>0))}function ek(t){t.LC=void 0,t.DC=void 0,t.AC=void 0}function uk(t){var n=t.OC;t.xC=!0,0===t.Er.length&&(ek(t),zk(n))}function sk(t,n){var i=t.OC;if(!0===Xk(i)&&jm(i)>0)zm(i,n,!1);else{var r=void 0;try{r=t.AC(n)}catch(n){throw ok(t,n),n}try{up(t,n,r)}catch(n){throw ok(t,n),n}}ik(t)}function ok(t,n){var i=t.OC;"readable"===i.KD&&(sp(t),ek(t),jk(i,n))}function ak(t){var n=t.OC.KD;return"errored"===n?null:"closed"===n?0:t.EC-t.oC}function ck(t){var n=t.OC.KD;return!1===t.xC&&"readable"===n}function hk(t,n,i,r,e,u,s){n.OC=t,n.Er=void 0,n.oC=void 0,sp(n),n.wC=!1,n.xC=!1,n.MC=!1,n.BC=!1,n.AC=s,n.EC=u,n.LC=r,n.DC=e,t.eC=n,Rm(Tm(i()),function(){n.wC=!0,ik(n)},function(t){ok(n,t)})}function fk(t){return new d("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}var vk=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&_.floor(t)===t},dk=function(){function t(){throw new d("ReadableStreamBYOBRequest cannot be used directly")}return l.defineProperty(t.prototype,"view",{get:function(){if(!1===gk(this))throw Ok("view");return this.$k},enumerable:!0,configurable:!0}),t.prototype.respond=function(t){if(!1===gk(this))throw Ok("respond");if(void 0===this.UC)throw new d("This BYOB request has been invalidated");this.$k.buffer,function(t,n){if(!1===fm(n=Number(n)))throw new RangeError("bytesWritten must be a finite");Sk(t,n)}(this.UC,t)},t.prototype.respondWithNewView=function(t){if(!1===gk(this))throw Ok("respond");if(void 0===this.UC)throw new d("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new d("You can only respond with array buffer views");t.buffer,function(t,n){var i=t.FC.peek();if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.byteLength!==n.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");i.buffer=n.buffer,Sk(t,n.byteLength)}(this.UC,t)},t}(),lk=function(){function t(){throw new d("ReadableByteStreamController constructor cannot be used directly")}return l.defineProperty(t.prototype,"byobRequest",{get:function(){if(!1===_k(this))throw Pk("byobRequest");if(void 0===this.VC&&this.FC.length>0){var t=this.FC.peek(),n=new m(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),i=l.create(dk.prototype);!function(t,n,i){t.UC=n,t.$k=i}(i,this,n),this.VC=i}return this.VC},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===_k(this))throw Pk("desiredSize");return Dk(this)},enumerable:!0,configurable:!0}),t.prototype.close=function(){if(!1===_k(this))throw Pk("close");if(!0===this.xC)throw new d("The stream has already been closed; do not close it again!");var t=this.HC.KD;if("readable"!==t)throw new d("The stream (in "+t+" state) is not in the readable state and cannot be closed");!function(t){var n=t.HC;if(t.oC>0)return void(t.xC=!0);if(t.FC.length>0){var i=t.FC.peek();if(i.bytesFilled>0){var r=new d("Insufficient bytes to fill elements in the given buffer");throw Nk(t,r),r}}Ik(t),zk(n)}(this)},t.prototype.enqueue=function(t){if(!1===_k(this))throw Pk("enqueue");if(!0===this.xC)throw new d("stream is closed or draining");var n=this.HC.KD;if("readable"!==n)throw new d("The stream (in "+n+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new d("You can only enqueue array buffer views when using a ReadableByteStreamController");t.buffer,function(t,n){var i=t.HC,r=n.buffer,e=n.byteOffset,u=n.byteLength,s=gm(r);if(!0===Ym(i))if(0===jm(i))pk(t,s,e,u);else{var o=new m(s,e,u);zm(i,o,!1)}else!0===Lk(i)?(pk(t,s,e,u),Ek(t)):pk(t,s,e,u);wk(t)}(this,t)},t.prototype.error=function(t){if(!1===_k(this))throw Pk("error");Nk(this,t)},t.prototype[qm]=function(t){this.FC.length>0&&(this.FC.peek().bytesFilled=0);sp(this);var n=this.DC(t);return Ik(this),n},t.prototype[Wm]=function(){var t=this.HC;if(this.oC>0){var n=this.Er.shift();this.oC-=n.byteLength,bk(this);var i=void 0;try{i=new m(n.buffer,n.byteOffset,n.byteLength)}catch(t){return Em(t)}return Tm(Pm(i,!1,t.JD.QD))}var r=this.qC;if(void 0!==r){var e=void 0;try{e=new ArrayBuffer(r)}catch(t){return Em(t)}var u={buffer:e,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,ctor:m,readerType:"default"};this.FC.push(u)}var s=Gm(t);return wk(this),s},t}();function _k(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"HC")}function gk(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"UC")}function wk(t){!1!==function(t){var n=t.HC;if("readable"!==n.KD)return!1;if(!0===t.xC)return!1;if(!1===t.wC)return!1;if(!0===Ym(n)&&jm(n)>0)return!0;if(!0===Lk(n)&&Bk(n)>0)return!0;if(Dk(t)>0)return!0;return!1}(t)&&(!0!==t.BC?(t.BC=!0,Rm(t.LC(),function(){t.BC=!1,!0===t.MC&&(t.MC=!1,wk(t))},function(n){Nk(t,n)})):t.MC=!0)}function yk(t,n){var i=!1;"closed"===t.KD&&(i=!0);var r=mk(n);"default"===n.readerType?zm(t,r,i):function(t,n,i){var r=t.JD;r.WC.shift().Cr(Pm(n,i,r.QD))}(t,r,i)}function mk(t){var n=t.bytesFilled,i=t.elementSize;return new t.ctor(t.buffer,t.byteOffset,n/i)}function pk(t,n,i,r){t.Er.push({buffer:n,byteOffset:i,byteLength:r}),t.oC+=r}function kk(t,n){var i=n.elementSize,r=n.bytesFilled-n.bytesFilled%i,e=_.min(t.oC,n.byteLength-n.bytesFilled),u=n.bytesFilled+e,s=u-u%i,o=e,a=!1;s>r&&(o=s-n.bytesFilled,a=!0);for(var c,h,f,v,d,l=t.Er;o>0;){var g=l.peek(),w=_.min(o,g.byteLength),y=n.byteOffset+n.bytesFilled;c=n.buffer,h=y,f=g.buffer,v=g.byteOffset,d=w,new m(c).set(new m(f,v,d),h),g.byteLength===w?l.shift():(g.byteOffset+=w,g.byteLength-=w),t.oC-=w,Ak(t,w,n),o-=w}return a}function Ak(t,n,i){Tk(t),i.bytesFilled+=n}function bk(t){0===t.oC&&!0===t.xC?(Ik(t),zk(t.HC)):wk(t)}function Tk(t){void 0!==t.VC&&(t.VC.UC=void 0,t.VC.$k=void 0,t.VC=void 0)}function Ek(t){for(;t.FC.length>0;){if(0===t.oC)return;var n=t.FC.peek();!0===kk(t,n)&&(Rk(t),yk(t.HC,n))}}function Sk(t,n){var i=t.FC.peek();if("closed"===t.HC.KD){if(0!==n)throw new d("bytesWritten must be 0 when calling respond() on a closed stream");!function(t,n){n.buffer=gm(n.buffer);var i=t.HC;if(!0===Lk(i))for(;Bk(i)>0;)yk(i,Rk(t))}(t,i)}else!function(t,n,i){if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range");if(Ak(t,n,i),!(i.bytesFilled<i.elementSize)){Rk(t);var r=i.bytesFilled%i.elementSize;if(r>0){var e=i.byteOffset+i.bytesFilled,u=i.buffer.slice(e-r,e);pk(t,u,0,u.byteLength)}i.buffer=gm(i.buffer),i.bytesFilled-=r,yk(t.HC,i),Ek(t)}}(t,n,i);wk(t)}function Rk(t){var n=t.FC.shift();return Tk(t),n}function Ik(t){t.LC=void 0,t.DC=void 0}function Nk(t,n){var i=t.HC;"readable"===i.KD&&(!function(t){Tk(t),t.FC=new Om}(t),sp(t),Ik(t),jk(i,n))}function Dk(t){var n=t.HC.KD;return"errored"===n?null:"closed"===n?0:t.EC-t.oC}function Ck(t,n,i){var r=l.create(lk.prototype);var e=dm(n,"pull",0,[r]),u=dm(n,"cancel",1,[]),s=n.autoAllocateChunkSize;if(void 0!==s&&(s=Number(s),!1===vk(s)||s<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");!function(t,n,i,r,e,u,s){n.HC=t,n.MC=!1,n.BC=!1,n.VC=void 0,n.Er=n.oC=void 0,sp(n),n.xC=!1,n.wC=!1,n.EC=wm(u),n.LC=r,n.DC=e,n.qC=s,n.FC=new Om,t.eC=n,Rm(Tm(i()),function(){n.wC=!0,wk(n)},function(t){Nk(n,t)})}(t,r,function(){return lm(n,"start",[r])},e,u,i,s)}function Ok(t){return new d("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Pk(t){return new d("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function xk(t){return bm(function(n,i){var r={Cr:n,Fn:i};t.JD.WC.push(r)})}function Bk(t){return t.JD.WC.length}function Lk(t){var n=t.JD;return void 0!==n&&!!Uk(n)}var Mk=function(){function t(t){if(!Wk(t))throw new d("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===_k(t.eC))throw new d("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(Xk(t))throw new d("This stream has already been locked for exclusive reading by another reader");xm(this,t),this.WC=new Om}return l.defineProperty(t.prototype,"closed",{get:function(){return Uk(this)?this.Ms:Em(Fk("closed"))},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return Uk(this)?void 0===this.ZD?Em(Mm("cancel")):Bm(this,t):Em(Fk("cancel"))},t.prototype.read=function(t){return Uk(this)?void 0===this.ZD?Em(Mm("read from")):ArrayBuffer.isView(t)?(t.buffer,0===t.byteLength?Em(new d("view must have non-zero byteLength")):function(t,n){var i=t.ZD;if(i.rC=!0,"errored"===i.KD)return Em(i.$D);return function(t,n){var i=t.HC,r=1;n.constructor!==DataView&&(r=n.constructor.BYTES_PER_ELEMENT);var e=n.constructor,u={buffer:gm(n.buffer),byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:r,ctor:e,readerType:"byob"};if(t.FC.length>0)return t.FC.push(u),xk(i);if("closed"===i.KD)return Tm(Pm(new e(u.buffer,u.byteOffset,0),!0,i.JD.QD));if(t.oC>0){if(!0===kk(t,u)){var s=mk(u);return bk(t),Tm(Pm(s,!1,i.JD.QD))}if(!0===t.xC){var o=new d("Insufficient bytes to fill elements in the given buffer");return Nk(t,o),Em(o)}}t.FC.push(u);var a=xk(i);return wk(t),a}(i.eC,n)}(this,t)):Em(new d("view must be an array buffer view")):Em(Fk("read"))},t.prototype.releaseLock=function(){if(!Uk(this))throw Fk("releaseLock");if(void 0!==this.ZD){if(this.WC.length>0)throw new d("Tried to release a reader lock when that reader has pending read() calls un-settled");Lm(this)}},t}();function Uk(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"WC")}function Fk(t){return new d("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}var Vk=function(){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={}),qk(this);var i=n.size,r=n.highWaterMark,e=t.type;if("bytes"===String(e)){if(void 0!==i)throw new RangeError("The strategy for a byte stream cannot have a size function");void 0===r&&(r=0),Ck(this,t,r=wm(r))}else{if(void 0!==e)throw new RangeError("Invalid type is specified");var u=ym(i);void 0===r&&(r=1),function(t,n,i,r){var e=l.create(tk.prototype),u=dm(n,"pull",0,[e]),s=dm(n,"cancel",1,[]);hk(t,e,function(){return lm(n,"start",[e])},u,s,i,r)}(this,t,r=wm(r),u)}}return l.defineProperty(t.prototype,"locked",{get:function(){if(!1===Wk(this))throw Yk("locked");return Xk(this)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(t){return!1===Wk(this)?Em(Yk("cancel")):!0===Xk(this)?Em(new d("Cannot cancel a stream that already has a reader")):Gk(this,t)},t.prototype.getReader=function(t){var n=(void 0===t?{}:t).mode;if(!1===Wk(this))throw Yk("getReader");if(void 0===n)return Xm(this,!0);if("byob"===(n=String(n)))return function(t,n){void 0===n&&(n=!1);var i=new Mk(t);return i.QD=n,i}(this,!0);throw new RangeError("Invalid mode is specified")},t.prototype.pipeThrough=function(t,n){var i=t.writable,r=t.readable,e=void 0===n?{}:n,u=e.preventClose,s=e.preventAbort,o=e.preventCancel,a=e.signal;if(!1===Wk(this))throw Yk("pipeThrough");if(!1===vp(i))throw new d("writable argument to pipeThrough must be a WritableStream");if(!1===Wk(r))throw new d("readable argument to pipeThrough must be a ReadableStream");if(u=Boolean(u),s=Boolean(s),o=Boolean(o),void 0!==a&&!Qp(a))throw new d("ReadableStream.prototype.pipeThrough's signal option must be an AbortSignal");if(!0===Xk(this))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(!0===dp(i))throw new d("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Cm($p(this,i,u,s,o,a)),r},t.prototype.pipeTo=function(t,n){var i=void 0===n?{}:n,r=i.preventClose,e=i.preventAbort,u=i.preventCancel,s=i.signal;return!1===Wk(this)?Em(Yk("pipeTo")):!1===vp(t)?Em(new d("ReadableStream.prototype.pipeTo's first argument must be a WritableStream")):(r=Boolean(r),e=Boolean(e),u=Boolean(u),void 0===s||Qp(s)?!0===Xk(this)?Em(new d("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):!0===dp(t)?Em(new d("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):$p(this,t,r,e,u,s):Em(new d("ReadableStream.prototype.pipeTo's signal option must be an AbortSignal")))},t.prototype.tee=function(){if(!1===Wk(this))throw Yk("tee");var t=function(t,n){var i,r,e,u,s,o=Xm(t),a=!1,c=!1,h=!1,f=bm(function(t){s=t});function v(){return!0===a?Tm(void 0):(a=!0,Cm(Dm($m(o),function(t){if(a=!1,!0===t.done)return!1===c&&uk(e.eC),void(!1===h&&uk(u.eC));var n=t.value,i=n,r=n;!1===c&&sk(e.eC,i),!1===h&&sk(u.eC,r)})),Tm(void 0))}function d(){}return e=Hk(d,v,function(n){if(c=!0,i=n,!0===h){var e=hm([i,r]),u=Gk(t,e);s(u)}return f}),u=Hk(d,v,function(n){if(h=!0,r=n,!0===c){var e=hm([i,r]),u=Gk(t,e);s(u)}return f}),Nm(o.Ms,function(t){ok(e.eC,t),ok(u.eC,t)}),[e,u]}(this);return hm(t)},t.prototype.getIterator=function(t){var n=(void 0===t?{}:t).preventCancel,i=void 0!==n&&n;if(!1===Wk(this))throw Yk("getIterator");return function(t,n){void 0===n&&(n=!1);var i=Xm(t),r=l.create(np);return r.uC=i,r.sC=Boolean(n),r}(this,i)},t}();function Hk(t,n,i,r,e){void 0===r&&(r=1),void 0===e&&(e=function(){return 1});var u=l.create(Vk.prototype);return qk(u),hk(u,l.create(tk.prototype),t,n,i,r,e),u}function qk(t){t.KD="readable",t.JD=void 0,t.$D=void 0,t.rC=!1}function Wk(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"eC")}function Xk(t){return void 0!==t.JD}function Gk(t,n){return t.rC=!0,"closed"===t.KD?Tm(void 0):"errored"===t.KD?Em(t.$D):(zk(t),Dm(t.eC[qm](n),sm))}function zk(t){t.KD="closed";var n=t.JD;void 0!==n&&(Km(n)&&(n.iC.forEach(function(t){t.Cr(Pm(void 0,!0,n.QD))}),n.iC=new Om),Hm(n))}function jk(t,n){t.KD="errored",t.$D=n;var i=t.JD;void 0!==i&&(Km(i)?(i.iC.forEach(function(t){t.Fn(n)}),i.iC=new Om):(i.WC.forEach(function(t){t.Fn(n)}),i.WC=new Om),Vm(i,n))}function Yk(t){return new d("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}"symbol"==typeof um.asyncIterator&&l.defineProperty(Vk.prototype,um.asyncIterator,{value:Vk.prototype.getIterator,enumerable:!1,writable:!0,configurable:!0});var Qk=function(){function t(t){var n=t.highWaterMark;this.highWaterMark=n}return t.prototype.size=function(){return 1},t}(),Zk=function(){function t(t,n,i){void 0===t&&(t={}),void 0===n&&(n={}),void 0===i&&(i={});var r=n.size,e=n.highWaterMark,u=i.size,s=i.highWaterMark;if(void 0!==t.writableType)throw new RangeError("Invalid writable type specified");var o=ym(r);if(void 0===e&&(e=1),e=wm(e),void 0!==t.readableType)throw new RangeError("Invalid readable type specified");var a,c=ym(u);void 0===s&&(s=0),s=wm(s),function(t,n,i,r,e,u){function s(){return n}t.XC=function(t,n,i,r,e,u){void 0===e&&(e=1),void 0===u&&(u=function(){return 1});var s=l.create(cp.prototype);return fp(s),Dp(s,l.create(Np.prototype),t,n,i,r,e,u),s}(s,function(n){return function(t,n){var i=t.GC;if(!0===t._C){var r=t.zC;return Dm(r,function(){var r=t.XC,e=r.KD;if("erroring"===e)throw r.$D;return uA(i,n)})}return uA(i,n)}(t,n)},function(){return function(t){var n=t.jC,i=t.GC,r=i.YC();return rA(i),Dm(r,function(){if("errored"===n.KD)throw n.$D;var t=n.eC;!0===ck(t)&&uk(t)},function(i){throw Kk(t,i),n.$D})}(t)},function(n){return function(t,n){return Kk(t,n),Tm(void 0)}(t,n)},i,r),t.jC=Hk(s,function(){return function(t){return tA(t,!1),t.zC}(t)},function(n){return $k(t,n),Tm(void 0)},e,u),t._C=void 0,t.zC=void 0,t.QC=void 0,tA(t,!0),t.GC=void 0}(this,bm(function(t){a=t}),e,o,s,c),function(t,n){var i=l.create(nA.prototype),r=function(t){try{return eA(i,t),Tm(void 0)}catch(t){return Em(t)}},e=n.transform;if(void 0!==e){if("function"!=typeof e)throw new d("transform is not a method");r=function(t){return _m(e,n,[t,i])}}var u=dm(n,"flush",0,[i]);!function(t,n,i,r){n.ZC=t,t.GC=n,n.JC=i,n.YC=r}(t,i,r,u)}(this,t);var h=lm(t,"start",[this.GC]);a(h)}return l.defineProperty(t.prototype,"readable",{get:function(){if(!1===Jk(this))throw oA("readable");return this.jC},enumerable:!0,configurable:!0}),l.defineProperty(t.prototype,"writable",{get:function(){if(!1===Jk(this))throw oA("writable");return this.XC},enumerable:!0,configurable:!0}),t}();function Jk(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"GC")}function Kk(t,n){ok(t.jC.eC,n),$k(t,n)}function $k(t,n){rA(t.GC),xp(t.XC.cC,n),!0===t._C&&tA(t,!1)}function tA(t,n){void 0!==t.zC&&t.QC(),t.zC=bm(function(n){t.QC=n}),t._C=n}var nA=function(){function t(){throw new d("TransformStreamDefaultController instances cannot be created directly")}return l.defineProperty(t.prototype,"desiredSize",{get:function(){if(!1===iA(this))throw sA("desiredSize");return ak(this.ZC.jC.eC)},enumerable:!0,configurable:!0}),t.prototype.enqueue=function(t){if(!1===iA(this))throw sA("enqueue");eA(this,t)},t.prototype.error=function(t){if(!1===iA(this))throw sA("error");var n;n=t,Kk(this.ZC,n)},t.prototype.terminate=function(){if(!1===iA(this))throw sA("terminate");!function(t){var n=t.ZC,i=n.jC.eC;!0===ck(i)&&uk(i);var r=new d("TransformStream terminated");$k(n,r)}(this)},t}();function iA(t){return!!cm(t)&&!!l.prototype.hasOwnProperty.call(t,"ZC")}function rA(t){t.JC=void 0,t.YC=void 0}function eA(t,n){var i=t.ZC,r=i.jC.eC;if(!1===ck(r))throw new d("Readable side is not in a state that permits enqueue");try{sk(r,n)}catch(t){throw $k(i,t),i.jC.$D}(function(t){return!0!==rk(t)})(r)!==i._C&&tA(i,!0)}function uA(t,n){return Dm(t.JC(n),void 0,function(n){throw Kk(t.ZC,n),n})}function sA(t){return new d("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function oA(t){return new d("TransformStream.prototype."+t+" can only be used on a TransformStream")}var aA=function(t){function n(n){var i;return(i=t.call(this,""+n.join("\n"),n[0])||this).causes=n,i}return ut(n,t),b(n,[{key:"name",get:function(){return"AggregateError"}}]),n}(at);function cA(t){return n=[t],new Vk({start:function(t){for(var i=0;i<n.length;i++){var r=n[i];t.enqueue(r)}t.close()}});var n}function hA(t){return cA(new m(t))}function fA(t,n){var i=n,r=t.getReader(),e=new kr,u=function(){s();var t=new In;r.cancel(t).catch(G),e.hs(t)},s=function(){i&&(i.ku(u),i=void 0)};i&&(i.pu?u():i.Au(u));var o=[];return Tt.resolve(r.read()).then(function t(n){return n.done?(s(),Tt.resolve(o)):(o.push(n.value),Tt.resolve(r.read()).then(t))}).then(function(t){s(),e.cs(t)},function(t){s(),e.hs(t)}),e.as}function vA(t,n){var i=n,r=new Zk,e=r.readable,u=r.writable,s=u.getWriter(),o=function(){i&&i.fs()};return s.closed.then(o,o),t.then(function(t){return i=void 0,s.releaseLock(),t.pipeTo(u).catch(G)},function(t){return i=void 0,s.releaseLock(),u.abort(t).catch(G)}),e}function dA(t){var n=new Zk,i=n.readable,r=n.writable;return t.pipeTo(r,{preventCancel:!0}).catch(function(t){var n;n=L(t)?t[0]===t[1]||Nn(t[0])&&Nn(t[1])?t[0]:new aA(t):t,r.abort(n).catch(G)}),i.tee()}function lA(t){return new Tt(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function _A(t){var n=new FileReader,i=lA(n);return n.readAsArrayBuffer(t),i}function gA(t){var n=new FileReader,i=lA(n);return n.readAsText(t),i}function wA(t){return n=t,(new XMLSerializer).serializeToString(n);var n}function yA(t){return Ec(t,"text/xml")}function mA(t,n,i){return fA(t,i).then(function(t){return em(t,{type:n})})}var pA="content-type",kA="text/plain;charset=UTF-8",AA="application/xml;charset=UTF-8",bA=function(){function t(){}var n=t.prototype;return n.vS=function(t){return this.KC(t).then(JSON.parse)},n.$C=function(t){return this.KC(t).then(yA)},n.nS=function(t,n){switch(t){case Ch.Ug:return this.RS(n);case Ch.qg:return this.tO(n);case Ch.Wg:return this.$C(n);case Ch.Fg:return this.vS(n);case Ch.Vg:return this.nO();case Ch.Hg:return this.KC(n);default:throw new d}},t}();function TA(t,n,i){if(t instanceof bA)return t;var r,e=(i.get(pA)||"").toLowerCase();t instanceof Vk?r={ru:0,nO:t,K_:e}:r={ru:1,as:Tt.resolve(t).then(function(t){return function(t,n){if(t){if("string"==typeof t)return{ru:Ch.Hg,jg:t,K_:n||kA};if(t instanceof ArrayBuffer||ni(t))return{ru:Ch.Ug,jg:LA(t),K_:n};if(t instanceof Blob)return{ru:Ch.qg,jg:t,K_:t.type||n};if(t instanceof Document)return{ru:Ch.Wg,jg:t,K_:n||AA};if(F(t)||L(t))return{ru:Ch.Fg,jg:t,K_:n};throw new d("Unsupported BodyInit type")}return{ru:Ch.Hg,jg:null,K_:n}}(t,e)}),iO:n};return new EA(r)}var EA=function(t){function n(n){var i;return(i=t.call(this)||this).rO=!1,i.eO=new kr,i.eO.as.catch(G),i.uO(n),i}ut(n,t);var i=n.prototype;return i.sO=function(){return this.eO.as},i.KC=function(t){return this.oO(SA,t)},i.vS=function(t){return this.oO(IA,t)},i.tO=function(t){return this.oO(DA,t)},i.RS=function(t){return this.oO(OA,t)},i.nO=function(){return this.aO(0===(t=this.cO).ru?t.nO:vA(t.as.then(PA).then(hA),t.iO));var t},i.$C=function(t){return this.oO(xA,t)},i.oO=function(t,n){if(this.rO)return Tt.reject(new d("Already used"));this.rO=!0;var i=t(this.cO,n);return this.eO.cs(i.then(G)),i},i.aO=function(t){if(this.rO)throw new d("Already used");if(t.locked)throw new d("Body stream is locked");this.rO=!0;var n=new Zk,i=Tt.resolve(t.pipeTo(n.writable));return this.eO.cs(i),n.readable},i.uO=function(t){this.cO=t,1===t.ru&&t.as.catch(G)},i.hO=function(){if(this.rO)throw new d("Already used");var t=function(t){if(0===t.ru){var n=t.nO.tee(),i=n[0],r=n[1];return[{ru:t.ru,nO:i,K_:t.K_},{ru:t.ru,nO:r,K_:t.K_}]}var e=t.iO.As(),u=e[0],s=e[1];return[{ru:t.ru,as:t.as,iO:u},{ru:t.ru,as:t.as,iO:s}]}(this.cO),i=t[0],r=t[1];return this.uO(i),new n(r)},b(n,[{key:"fO",get:function(){return this.rO}}]),n}(bA);function SA(t,n){return 0===t.ru?mA(t.nO,t.K_,n).then(gA):(n&&t.iO.ks(n),xn(t.as.then(RA),t.iO))}function RA(t){switch(t.ru){case Ch.Hg:return Tt.resolve(t.jg||"");case Ch.Ug:return n=t.jg,gA(em([n]));case Ch.qg:return gA(t.jg);case Ch.Wg:return Tt.resolve(t.jg).then(wA);case Ch.Fg:return Tt.resolve(t.jg).then(JSON.stringify)}var n}function IA(t,n){return 0===t.ru?SA(t,n).then(JSON.parse):(n&&t.iO.ks(n),xn(t.as.then(NA),t.iO))}function NA(t){return t.ru===Ch.Fg?Tt.resolve(t.jg):RA(t).then(JSON.parse)}function DA(t,n){return 0===t.ru?mA(t.nO,t.K_,n):(n&&t.iO.ks(n),xn(t.as.then(CA),t.iO))}function CA(t){return t.ru===Ch.qg?Tt.resolve(t.jg):t.ru===Ch.Ug?Tt.resolve(em([t.jg],{type:t.K_})):RA(t).then(function(n){return em([n],{type:t.K_})})}function OA(t,n){return 0===t.ru?function(t,n){return fA(t,n).then(function(t){return ri(t).buffer})}(t.nO,n):(n&&t.iO.ks(n),xn(t.as.then(PA),t.iO))}function PA(t){return t.ru===Ch.Ug?Tt.resolve(t.jg):CA(t).then(_A)}function xA(t,n){return 0===t.ru?SA(t,n).then(yA):(n&&t.iO.ks(n),xn(t.as.then(BA),t.iO))}function BA(t){return t.ru===Ch.Wg?Tt.resolve(t.jg):RA(t).then(yA)}function LA(t){return t instanceof ArrayBuffer?t:yr(lr(t)).buffer}function MA(t){return t.IA>=200&&t.IA<=299||304===t.IA}var UA=function(t){function n(n,i){var r,e,u,s,o,a;i?(e=i.Yg,u=i.Zg,s=i.IA,o=i.dS,a=i.vO):(e=[],u=Ch.Hg,s=200,o="OK",a=!1);var c=n.SA,h=new xh(n.Yg||e),f=n.Zg||u,v=n.DA||(i&&i.SA===c?i.DA:c.Zl),d=TA(void 0!==n.kn?n.kn:i?i.dO:null,n.iO||new Rr,h);return(r=t.call(this,d)||this).Yg=h,r.SA=c,r.DA=v,r.Zg=f,r.IA=void 0!==n.IA?n.IA:s,r.dS=void 0!==n.dS?String(n.dS):o,r.vO=n.vO||a,r}ut(n,t);var i=n.prototype;return i.kn=function(t){return this.nS(this.Zg,t)},i.ns=function(){return new n({kn:this.hO(),SA:this.SA},this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).dO=n,i}ut(n,t);var i=n.prototype;return i.sO=function(){return this.dO.sO()},i.KC=function(t){return this.dO.KC(t)},i.vS=function(t){return this.dO.vS(t)},i.tO=function(t){return this.dO.tO(t)},i.RS=function(t){return this.dO.RS(t)},i.$C=function(t){return this.dO.$C(t)},i.nO=function(){return this.dO.nO()},i.hO=function(){return this.dO.hO()},b(n,[{key:"fO",get:function(){return this.dO.fO}}]),n}(bA));var FA=function(t){function n(n,i){return t.call(this,n,function(t){return"Request for "+t.Zl+" timed out after "+t.Jg+" seconds."}(n),i)||this}return ut(n,t),b(n,[{key:"name",get:function(){return"HttpTimeoutError"}}]),n}(Jd),VA=function(t,n){return(VA=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])})(t,n)};function HA(t,n){function i(){this.constructor=t}VA(t,n),t.prototype=null===n?l.create(n):(i.prototype=n.prototype,new i)}var qA="object"==typeof e?e:"object"==typeof t?t:"object"==typeof global?global:null;var WA=function(){var t=qA.Blob;if(t)try{return new t,function(t,n){return new qA.Blob(t,n)}}catch(t){}var n,i=qA.BlobBuilder||qA.WebKitBlobBuilder||qA.MozBlobBuilder||qA.MSBlobBuilder;return i?(n=i,function(t,i){var r=new n;if(t)for(var e=0,u=t;e<u.length;e++){var s=u[e];r.append(s)}return r.getBlob(i&&i.type||"")}):null}(),XA="function"==typeof Vk?Vk:void 0;function GA(t){return t&&"function"==typeof t.getReader}function zA(t){if("function"!=typeof t)return!1;try{var n=!1,i=new t({start:function(){n=!0}});return!!n&&GA(i)}catch(t){return!1}}var jA=function(){function t(t,n){this.JD=t,this.lO=n}return t.prototype.pull=function(t){var n=this;return this.JD.read().then(function(i){n.lO&&n.lO(i),i.done?t.close():t.enqueue(i.value)})},t.prototype.cancel=function(t){return this.JD.cancel(t)},t}();function YA(t,n){return n.constructor===t?n:new t(new jA(n.getReader()),{highWaterMark:0})}var QA=function(){function t(t,n){this._O=t,this.ci=n}return t.prototype.pull=function(t){return this._O().then(function(n){t.enqueue(new m(n)),t.close()})},t.prototype.cancel=function(t){this.ci&&this.ci(t)},t}();function ZA(t,n,i){return new t(new QA(n,i),{highWaterMark:0})}var JA={searchParams:"URLSearchParams"in qA,iterable:"Symbol"in qA&&"iterator"in Symbol,blob:"FileReader"in qA&&!!WA,formData:"FormData"in qA,arrayBuffer:"ArrayBuffer"in qA,stream:zA(XA),streamRequest:"Request"in qA&&"body"in qA.Request.prototype,streamResponse:"Response"in qA&&"body"in qA.Response.prototype,abort:"AbortController"in qA&&"Request"in qA&&"signal"in qA.Request.prototype,encoding:"TextEncoder"in qA&&"TextDecoder"in qA,url:"URL"in qA&&function(t){try{return new qA.URL(t).toString()===t}catch(t){return!1}}("http://example.com/"),firefox:"navigator"in qA&&/Firefox\//.test(qA.navigator.userAgent)};function KA(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new d("Invalid character in header field name");return t}function $A(t){return"string"!=typeof t&&(t=String(t)),t}function tb(t){var n={next:function(){var n=t.shift();return{done:void 0===n,value:n}}};return JA.iterable&&(n[Symbol.iterator]=function(){return n}),n}var nb=function(){function t(n){var i,r=this;this.Je={},n instanceof t?n.asList().forEach(function(t){var n=t[0],i=t[1];r.append(n,i)}):Array.isArray(n)?n.forEach(function(t){r.append(t[0],t[1])}):(i=n,JA.iterable&&i&&i[Symbol.iterator]?Array.from(n).forEach(function(t){r.append(t[0],t[1])}):n&&l.getOwnPropertyNames(n).forEach(function(t){r.append(t,n[t])}))}return t.prototype.append=function(t,n){t=KA(t),n=$A(n);var i=t.toLowerCase();if(this.Je.hasOwnProperty(i)){var r=this.Je[i],e=r[1];r[1]=e?e+", "+n:n}else this.Je[i]=[t,n]},t.prototype.delete=function(t){var n=KA(t).toLowerCase();delete this.Je[n]},t.prototype.get=function(t){var n=KA(t).toLowerCase();return this.Je.hasOwnProperty(n)?this.Je[n][1]:null},t.prototype.has=function(t){var n=KA(t).toLowerCase();return this.Je.hasOwnProperty(n)},t.prototype.set=function(t,n){var i=(t=KA(t)).toLowerCase();this.Je[i]=[t,$A(n)]},t.prototype.forEach=function(t,n){for(var i in this.Je)this.Je.hasOwnProperty(i)&&t.call(n,this.Je[i][1],i,this)},t.prototype.keys=function(){var t=[];return this.forEach(function(n,i){t.push(i)}),tb(t)},t.prototype.values=function(){var t=[];return this.forEach(function(n){t.push(n)}),tb(t)},t.prototype.entries=function(){var t=[];return this.forEach(function(n,i){t.push([i,n])}),tb(t)},t.prototype.asList=function(){var t=[];for(var n in this.Je)if(this.Je.hasOwnProperty(n)){var i=this.Je[n],r=i[0],e=i[1];t.push([r,e])}return t},t}();function ib(){}JA.iterable&&(nb.prototype[Symbol.iterator]=nb.prototype.entries);var rb,eb,ub,sb=_.min,ob=String.fromCharCode,ab=16384;function cb(t){for(var n=[],i=0,r=t;i<r.length;i++){var e=r[i];e>65535&&(e-=65536,n.push(e>>>10&1023|55296),e=56320|1023&e),n.push(e)}return function(t){for(var n=t.length,i=[],r=0;r<n;r+=ab){var e=sb(r+ab,n);i.push(ob.apply(null,t.slice(r,e)))}return i.join("")}(n)}function hb(t){if(t>=55296&&t<=57343)throw new v("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value")}function fb(t,n){return t>>n&63|128}function vb(t,n){0!=(4294967168&t)?(0==(4294965248&t)?n.push(t>>6&31|192):0==(4294901760&t)?(hb(t),n.push(t>>12&15|224),n.push(fb(t,6))):0==(4292870144&t)&&(n.push(t>>18&7|240),n.push(fb(t,12)),n.push(fb(t,6))),n.push(63&t|128)):n.push(t)}function db(){if(ub>=eb)throw new v("Invalid byte index");var t=255&rb[ub];if(ub++,128==(192&t))return 63&t;throw new v("Invalid continuation byte")}function lb(){var t,n;if(ub>eb)throw new v("Invalid byte index");if(ub===eb)return!1;if(t=255&rb[ub],ub++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|db())>=128)return n;throw new v("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|db()<<6|db())>=2048)return hb(n),n;throw new v("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|db()<<12|db()<<6|db())>=65536&&n<=1114111)return n;throw new v("Invalid UTF-8 detected")}var _b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];function gb(t){return t&&URLSearchParams.prototype.isPrototypeOf(t)}function wb(t){return t&&ArrayBuffer.prototype.isPrototypeOf(t)}function yb(t){return t&&DataView.prototype.isPrototypeOf(t)}var mb,pb=ArrayBuffer.isView||function(t){return t&&(_b.indexOf(l.prototype.toString.call(t))>-1||yb(t))};function kb(t){if(t.bodyUsed)return Tt.reject(new d("Already used"));t.bodyUsed=!0}function Ab(t){return new Tt(function(n,i){t.onload=function(){n(t.result)},t.onerror=function(){i(t.error)}})}function bb(t){return JA.encoding?new qA.TextDecoder("utf-8").decode(new m(t)):cb(function(t){eb=(rb=t).length,ub=0;for(var n,i=[];!1!==(n=lb());)i.push(n);return i}(new m(t)))}function Tb(t){return JA.encoding?(new qA.TextEncoder).encode(t).buffer:new m(function(t){for(var n=[],i=0,r=t;i<r.length;i++)vb(r[i],n);return n}(function(t){for(var n=[],i=0,r=t.length;i<r;){var e=t.charCodeAt(i++);if(e>=55296&&e<=56319&&i<r){var u=t.charCodeAt(i++);56320==(64512&u)?n.push(((1023&e)<<10)+(1023&u)+65536):(n.push(e),i--)}else n.push(e)}return n}(t))).buffer}function Eb(t){var n=t.getReader(),i=[],r=function(t){var e=t.done,u=t.value;return e?Tt.resolve(i):(i.push(u),n.read().then(r))};return n.read().then(r)}function Sb(t){return Eb(t).then(function(t){return function(t){for(var n=0,i=0,r=t;i<r.length;i++)n+=(a=r[i]).byteLength;for(var e=new m(n),u=0,s=0,o=t;s<o.length;s++){var a=o[s];e.set(a,u),u+=a.byteLength}return e}(t).buffer})}function Rb(t){return t.slice?t.slice(0):Ib(new m(t))}function Ib(t){if(t.slice)return t.slice(0).buffer;var n=new m(t.byteLength);return n.set(new m(t.buffer,t.byteOffset,t.byteLength)),n.buffer}function Nb(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),e=i.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(e))}}),n}function Db(t){var n=t;if(n.bodyUsed)throw new d("Already used");if(n.gO===mb.wO){if(!n.yO.tee)throw new v("could not clone ReadableStream body");var i=n.yO.tee(),r=i[0],e=i[1];return n.body=r,n.yO=r,n.mO=r,e}return n.gO===mb.Ug?Rb(n.yO):n.gO===mb.pO?n.yO.then(Db):n.mO}!function(t){t[t.Hg=0]="Hg",t[t.qg=1]="qg",t[t.kO=2]="kO",t[t.Ug=3]="Ug",t[t.wO=4]="wO",t[t.pO=5]="pO"}(mb||(mb={}));var Cb=function(){function t(n,i){this.bodyUsed=!1;var r,e,u,s=this;if(this.mO=n||null,n)if("string"==typeof n)this.gO=mb.Hg,this.yO=n;else if((u=n)&&"function"==typeof u.then)this.gO=mb.pO,this.yO=Tt.resolve(n).then(function(n){return new t(n,i)}),this.yO.catch(ib);else if(JA.blob&&function(t){return t&&Blob.prototype.isPrototypeOf(t)}(n))this.gO=mb.qg,this.yO=n;else if(JA.formData&&function(t){return t&&FormData.prototype.isPrototypeOf(t)}(n))this.gO=mb.kO,this.yO=n;else if(JA.searchParams&&gb(n))this.gO=mb.Hg,this.yO=n.toString();else if(JA.arrayBuffer&&(wb(n)||pb(n)))yb(n)&&(this.mO=new m((e=n).buffer,e.byteOffset,e.byteLength)),this.gO=mb.Ug,this.yO=wb(r=n)?Rb(r):Ib(r);else{if(!JA.stream||!GA(n))throw new v("unsupported BodyInit type");n=YA(XA,n),this.gO=mb.wO,this.yO=n,this.mO=n}else this.gO=mb.Hg,this.yO="";this.AO="",i.has("content-type")?this.AO=(i.get("content-type")||"").toLowerCase():("string"==typeof n?this.AO="text/plain;charset=UTF-8":s.gO===mb.qg&&s.yO.type?this.AO=s.yO.type:JA.searchParams&&gb(n)&&(this.AO="application/x-www-form-urlencoded;charset=UTF-8"),this.AO&&i.set("content-type",this.AO)),JA.stream&&(null==n?this.body=null:s.gO===mb.wO?this.body=s.yO:this.body=ZA(XA,function(){return s.arrayBuffer()},function(){s.bodyUsed=!0}))}return t.prototype.text=function(){var t,n,i,r=kb(this);return r||(this.gO===mb.qg?(t=this.yO,n=new FileReader,i=Ab(n),n.readAsText(t),i):this.gO===mb.Ug?Tt.resolve(this.yO).then(bb):this.gO===mb.wO?Sb(this.yO).then(bb):this.gO===mb.pO?this.yO.then(function(t){return t.text()}):this.gO===mb.kO?Tt.reject(new v("could not read FormData body as text")):Tt.resolve(this.yO))},t.prototype.json=function(){return this.text().then(JSON.parse)},t}();JA.blob&&(Cb.prototype.blob=function(){var t,n,i=kb(this);return i||(this.gO===mb.qg?Tt.resolve(this.yO):this.gO===mb.Ug?Tt.resolve(WA([this.yO],{type:this.AO})):this.gO===mb.wO?(t=this.yO,n=this.AO,Eb(t).then(function(t){return WA(t,{type:n||""})})):this.gO===mb.pO?this.yO.then(function(t){return t.blob()}):this.gO===mb.kO?Tt.reject(new v("could not read FormData body as Blob")):Tt.resolve(WA([this.yO],{type:this.AO})))}),JA.arrayBuffer&&(Cb.prototype.arrayBuffer=function(){var t,n,i;return this.gO===mb.Ug?kb(this)||Tt.resolve(this.yO):this.gO===mb.qg?kb(this)||(t=this.yO,n=new FileReader,i=Ab(n),n.readAsArrayBuffer(t),i):this.gO===mb.wO?Sb(this.yO):this.gO===mb.pO?kb(this)||this.yO.then(function(t){return t.arrayBuffer()}):this.gO===mb.kO?Tt.reject(new v("could not read FormData body as ArrayBuffer")):Tt.resolve(this.yO).then(Tb)}),JA.formData&&(Cb.prototype.formData=function(){return this.gO===mb.kO?kb(this)||Tt.resolve(this.yO):this.text().then(Nb)});var Ob=[301,302,303,307,308],Pb=function(t){function n(n,i){var r=this,e=new nb((i=i||{}).headers);return(r=t.call(this,n||null,e)||this).type="default",r.status=void 0===i.status?200:i.status,r.ok=r.status>=200&&r.status<300,r.statusText=void 0!==i.statusText?String(i.statusText):"",r.headers=e,r.url=i.url||"",r}return HA(n,t),n.prototype.clone=function(){return new n(Db(this),{status:this.status,statusText:this.statusText,headers:new nb(this.headers),url:this.url})},n.error=function(){var t=new n(null,{status:0,statusText:""});return t.type="error",t},n.redirect=function(t,i){if(-1===Ob.indexOf(i))throw new RangeError("Invalid status code");return new n(null,{status:i,headers:{location:t}})},n}(Cb);var xb,Bb=function(t,n){return t(n={exports:{}},n.exports),n.exports}(function(t,n){function i(t,n){if(!(t instanceof n))throw new d("Cannot call a class as a function")}function r(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l.defineProperty(t,r.key,r)}}function e(t,n,i){return n&&r(t.prototype,n),i&&r(t,i),t}function s(t){return(s=l.setPrototypeOf?l.getPrototypeOf:function(t){return t.__proto__||l.getPrototypeOf(t)})(t)}function o(t,n){return(o=l.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,n,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,i){var r=function(t,n){for(;!l.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var e=l.getOwnPropertyDescriptor(r,n);return e.get?e.get.call(i):e.value}})(t,n,i||t)}l.defineProperty(n,"__esModule",{value:!0});var f=function(){function t(){i(this,t),l.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return e(t,[{key:"addEventListener",value:function(t,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(n)}},{key:"removeEventListener",value:function(t,n){if(t in this.listeners)for(var i=this.listeners[t],r=0,e=i.length;r<e;r++)if(i[r]===n)return void i.splice(r,1)}},{key:"dispatchEvent",value:function(t){var n=this;if(t.type in this.listeners){for(var i=function(i){a(function(){return i.call(n,t)})},r=this.listeners[t.type],e=0,u=r.length;e<u;e++)i(r[e]);return!t.defaultPrevented}}}]),t}(),v=function(t){function n(){var t,r,e;return i(this,n),r=this,(t=!(e=s(n).call(this))||"object"!=typeof e&&"function"!=typeof e?c(r):e).listeners||f.call(c(t)),l.defineProperty(c(t),"aborted",{value:!1,writable:!0,configurable:!0}),l.defineProperty(c(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(t,n){if("function"!=typeof n&&null!==n)throw new d("Super expression must either be null or a function");t.prototype=l.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&o(t,n)}(n,f),e(n,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(s(n.prototype),"dispatchEvent",this).call(this,t)}}]),n}(),_=function(){function t(){i(this,t),l.defineProperty(this,"signal",{value:new v,writable:!0,configurable:!0})}return e(t,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(n){void 0!==u?u.createEvent?(t=u.createEvent("Event")).initEvent("abort",!1,!1):(t=u.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(_.prototype[Symbol.toStringTag]="AbortController",v.prototype[Symbol.toStringTag]="AbortSignal"),n.AbortSignal=v,n.AbortController=_,n.default=_});(xb=Bb)&&xb.__esModule&&l.prototype.hasOwnProperty.call(xb,"default")&&xb.default;Bb.AbortSignal;var Lb=Bb.AbortController,Mb=qA.DOMException;try{new Mb}catch(t){(Mb=function(t,n){v.call(this,t),this.name=n||"Error",v.captureStackTrace&&v.captureStackTrace(this,this.constructor)}).prototype=l.create(v.prototype),Mb.prototype.constructor=Mb}var Ub=Lb;var Fb,Vb="moz-chunked-arraybuffer";function Hb(t){try{var n=new k;return n.open("GET","https://test"),n.responseType=t,n.responseType===t}catch(t){}return!1}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Fb||(Fb={}));var qb=function(){function t(t,n){var i=this;this.bO=!1,this.EA=t,this.TO=n,this.EO=new k,this.SO=new Tt(function(t,n){i.RO=t,i.IO=n})}return t.prototype.send=function(){var t=this;return this.NO().then(function(n){return t.DO(n,t.TO),t.SO})},t.prototype.NO=function(){var t=this.EA;return t.gO===mb.wO?t.arrayBuffer():Tt.resolve(t.mO)},t.prototype.CO=function(t){this.EA.onprogress&&this.EA.onprogress(t.loaded,t.lengthComputable?t.total:void 0)},t.prototype.OO=function(t){this.IO(t)},t.prototype.PO=function(){this.OO(new d("Network request failed"))},t.prototype.xO=function(){this.OO(new d("Network request failed"))},t.prototype.BO=function(){this.OO(new Mb("Aborted","AbortError"))},t.prototype.DO=function(t,n){var i=this,r=this.EA,e=this.EO,u=function(){return i.LO()};if(r.signal.aborted)return this.BO();e.onreadystatechange=function(){if(e.readyState>=Fb.HEADERS_RECEIVED&&!i.bO){var t=function(t){var n=new nb;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var e=i.join(":").trim();n.append(r,e)}}),n}(e.getAllResponseHeaders()||""),n={status:e.status,statusText:e.statusText,headers:t,url:e.responseURL||t.get("X-Request-URL")};i.bO=!0,i.MO(n)}},e.onprogress=function(t){return i.CO(t)},e.onload=function(){return i.UO()},e.onerror=function(){return i.PO()},e.ontimeout=function(){return i.xO()},e.onabort=function(){return i.BO()},e.open(r.method,r.url,!0),e.withCredentials="include"===r.credentials,"responseType"in e&&n&&(e.responseType=n),r.headers.asList().forEach(function(t){var n=t[0],i=t[1];e.setRequestHeader(n,i)}),r.signal.addEventListener("abort",u),e.onloadend=function(){r.signal.removeEventListener("abort",u)},t?e.send(t):e.send()},t.prototype.LO=function(){this.EO.abort()},t}(),Wb=function(t){function n(n,i){var r=t.call(this,n,i)||this;return r.FO=void 0,r.VO=void 0,r}return HA(n,t),n.prototype.MO=function(t){var n=this;this.FO=new Tt(function(t,i){n.VO=t,n.HO=i}),this.RO(new Pb(this.FO,t))},n.prototype.UO=function(){var t=this.EO.response||this.EO.responseText;this.VO(t)},n.prototype.OO=function(n){t.prototype.OO.call(this,n),this.HO&&this.HO(n)},n}(qb),Xb=function(t){function n(n){var i=t.call(this,n,Vb)||this;return i.qO=void 0,i.WO=void 0,i.XO=!1,i}return HA(n,t),n.prototype.MO=function(t){var n=this;this.qO=new XA({start:function(t){n.WO=t},cancel:function(){n.XO=!0,n.LO()}}),this.RO(new Pb(this.qO,t))},n.prototype.CO=function(n){this.XO||this.WO.enqueue(new m(this.EO.response)),t.prototype.CO.call(this,n)},n.prototype.UO=function(){this.WO.close()},n.prototype.OO=function(n){t.prototype.OO.call(this,n),this.WO&&!this.XO&&(this.XO=!0,this.WO.error(n))},n}(qb),Gb=function(){var t=JA.firefox&&Hb(Vb);return Gb=function(){return t},t},zb=function(){var t;return t=JA.arrayBuffer&&Hb("arraybuffer")?"arraybuffer":JA.blob&&Hb("blob")?"blob":"",zb=function(){return t},t};function jb(t){return(JA.stream&&Gb()?new Xb(t):new Wb(t,zb())).send()}var Yb=qA.fetch,Qb=qA.Request,Zb=(qA.Response,qA.AbortController);var Jb=["http:","https:"];var Kb=function(){try{if(JA.streamRequest){var t=new Qb("about:blank",{body:"",method:"POST"}).body;if(t&&zA(t.constructor))return t.constructor}}catch(t){}}();function $b(t,n,i){var r;if(JA.stream){var e=void 0;if(JA.streamResponse){var u=t.body;e=u&&YA(XA,u)}else e=ZA(XA,function(){return t.arrayBuffer()},function(){n.abort()});e&&i&&(e=function(t,n,i){var r=0;return function(t,n,i){return new t(new jA(n.getReader(),i),{highWaterMark:0})}(XA,t,function(t){var e=t.done,u=t.value;e?i=void 0===i?r:i:r+=u.byteLength,n(r,i)})}(e,i,tT(t.headers))),r=e}else{var s=t.arrayBuffer();i&&(s=function(t,n,i){return Tt.resolve().then(function(){return n(0,i),t}).then(function(t){var r=t.byteLength;return n(r,i=void 0===i?r:i),t})}(s,i,tT(t.headers))),r=s}return new Pb(r,t)}function tT(t){return t.has("content-length")?Number(t.get("content-length")):void 0}function nT(t){var n=new Zb;return function(t,n){var i,r=t;return i=r.gO===mb.wO?JA.streamRequest&&Kb?Tt.resolve(YA(Kb,r.yO)):t.arrayBuffer():Tt.resolve(t.mO),t.signal&&function(t,n){if(!t.signal.aborted)if(n.aborted)t.abort();else{var i=function(){n.removeEventListener("abort",i),t.signal.removeEventListener("abort",i),t.abort()};n.addEventListener("abort",i),t.signal.addEventListener("abort",i)}}(n,t.signal),i.then(function(i){return new Qb(t.url,{body:i||void 0,credentials:t.credentials,headers:(r=t.headers,(r instanceof nb?r:new nb(r)).asList()),method:t.method,mode:t.mode,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:n.signal});var r})}(t,n).then(Yb).then(function(i){return $b(i,n,t.onprogress)})}var iT=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];var rT=function(t){function n(i,r){var e,u,s,o,a,c,h,f,v,l=this,_=(r=r||{}).body||null;if(i instanceof n){if(i.bodyUsed)throw new d("Already used");e=i.url,u=i.credentials,r.headers||(s=new nb(i.headers)),o=i.method,a=i.mode,c=i.referrer,h=i.referrerPolicy,f=i.signal,v=i.onprogress,_||null==i.mO||(_=i.mO,i.bodyUsed=!0)}else e=String(i),u="same-origin",o="GET",a="cors",c="about:client",h="",f=null,v=null;if(!r.headers&&s||(s=new nb(r.headers)),r&&(c="about:client",h=""),(l=t.call(this,_,s)||this).url=e,l.headers=s,l.credentials=r.credentials||u,l.method=function(t){var n=t.toUpperCase();return iT.indexOf(n)>-1?n:t}(r.method||o),l.mode=r.mode||a,l.signal=r.signal||f||(new Ub).signal,l.referrer=void 0!==r.referrer?r.referrer:c,l.referrerPolicy=void 0!==r.referrerPolicy?r.referrerPolicy:h,l.onprogress=r.onprogress||v,("GET"===l.method||"HEAD"===l.method)&&_)throw new d("Body not allowed for GET or HEAD requests");return l}return HA(n,t),n.prototype.clone=function(){return new n(this,{body:Db(this)})},n}(Cb),eT="function"==typeof Yb&&JA.abort&&JA.stream&&JA.streamResponse&&JA.url;function uT(t,n){return new Tt(function(i){var r=new rT(t,n);i((eT&&function(t){try{return Jb.indexOf(new qA.URL(t,qA.location.href).protocol)>=0}catch(t){return!1}}(r.url)?nT:jb)(r))})}uT.polyfill=!0;var sT=function(){function t(t){this.eE=new Rr,this.RA=void 0,this.GO=!1,this.EA=t,this.eE.ks(t.bs),this.NA=this.zO()}var n=t.prototype;return n.zO=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,e,u,s,o,c,h,f=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:(n=this.EA).Jg&&a(function(){f.GO=!0,f.eE.fs()},n.Jg),t.prev=2,i=uT(n.Zl,{method:n.Qg,headers:n.Yg.Xg(),body:n.jg,credentials:n.tw?"include":"same-origin",signal:cT(this.eE.bs),onprogress:n.nw}),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(2),new Kd(n,t.t0);case 9:return t.prev=9,t.next=12,i;case 12:e=t.sent,t.next=20;break;case 15:throw t.prev=15,t.t1=t.catch(9),Nn(u=this.jO(t.t1))&&this.eE.fs(),u;case 20:if(s=e.url||n.Zl,o=0===e.status&&"file:"===(v=s,r.aa(v).protocol)?200:e.status,c=new oT(this,e,this.eE),h=new UA({kn:c,SA:n,Zg:n.Zg,Yg:new xh(e.headers.asList()),IA:o,dS:e.statusText,DA:s}),this.RA=h,!MA(h)){t.next=29;break}return t.abrupt("return",h);case 29:throw new $d(h);case 30:case"end":return t.stop()}var v},t,this,[[2,6],[9,15]])}));return function(){return t.apply(this,arguments)}}(),n.jO=function(t){return Nn(t)?this.GO?new FA(this.EA):new In(t.message,t):this.RA?new $d(this.RA,t):new Kd(this.EA,t)},t}(),oT=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).eO=new kr,e.Xi=n,e.YO=i,e.eE=r,e.eO.as.catch(G),e}ut(n,t);var i=n.prototype;return i.sO=function(){return this.eO.as},i.KC=function(t){return this.oO(this.YO.text(),t)},i.RS=function(t){return this.oO(this.YO.arrayBuffer(),t)},i.tO=function(t){return this.oO(this.YO.blob(),t)},i.nO=function(){var t=this.YO.body;return t?this.aO(t):vA(this.RS().then(hA),this.eE)},i.hO=function(){var t=this.YO.clone(),i=this.eE.As(),r=i[0],e=i[1];return this.eE=r,new n(this.Xi,t,e)},i.oO=function(t,n){var i=this;n&&this.eE.ks(n);var r=Tt.resolve(t).catch(function(t){throw i.Xi.jO(t)});return r=xn(r,this.eE),this.eO.cs(r.then(G)),r},i.aO=function(t){var n=this,i=new Zk,r=Tt.resolve(t.pipeTo(i.writable,{preventAbort:!0})).catch(function(t){var r=n.Xi.jO(t);throw i.writable.abort(r).catch(G),r});return r=xn(r,this.eE),this.eO.cs(r.then(G)),i.readable},b(n,[{key:"fO",get:function(){return this.YO.bodyUsed}}]),n}(bA),aT="abort";function cT(t){var n=new Ub;if(t.pu)n.abort();else if(!t.vs){var i=function(){r(),n.abort()},r=function r(){n.signal.removeEventListener(aT,i),t.ku(i),t.ku(r)};n.signal.addEventListener(aT,i),t.Au(i),t.gs(r)}return n.signal}var hT=function(){function t(){}var n=t.prototype;return n.SA=function(t){return new sT(t).NA},n.HD=function(t){if(Ut&&Ut.sendBeacon)Ut.sendBeacon(t.Zl,em([t.jg],{type:t.K_}));else{var n=t.K_?{"Content-type":t.K_}:void 0;Dr(this.SA(new Xh({Qg:"POST",Zl:t.Zl,jg:t.jg,Yg:n})))}},n.Va=function(){},t}(),fT=function(){function t(){}var n=t.prototype;return n.SA=function(t){var n=function(t){return new UA({kn:null,Yg:{},SA:t,DA:t.Zl,Zg:t.Zg,IA:0,dS:"offline"})}(new Xh(t));return Tt.resolve(n)},n.HD=function(t){},n.Va=function(){},t}();var vT=function(){function t(t){this.QO=0,this.ZO=0,this.JO=_.exp(_.log(.5)/t)}return t.prototype.KO=function(t,n){var i=_.pow(this.JO,t),r=n*(1-i)+i*this.QO;y(r)||(this.QO=r,this.ZO+=t)},b(t,[{key:"$O",get:function(){var t=1-_.pow(this.JO,this.ZO);return this.QO/t}}]),t}(),dT=function(){function t(t,n,i,r){void 0===t&&(t=Yc.yl(2)),void 0===n&&(n=Yc.yl(5)),void 0===i&&(i=128e3),void 0===r&&(r=!1),this.tP=t,this.nP=n,this.iP=i,this.rP=r,this.eP=0,this.uP=0,this.sP=[],this.oP=void 0,this.aP=5e5,this.cP=5e3,this.hP=new vT(t.nl()),this.fP=new vT(n.nl())}var n=t.prototype;return n.KO=function(t,n){var i=8*n/t.nl(),e=t.nl(),u=r.va();for(this.rP&&void 0!==this.oP&&u-this.oP>=this.cP&&this.Fa(),this.hP.KO(e,i),this.fP.KO(e,i),this.sP.push([e,i]);;){for(var s=0,o=0,a=this.sP;o<a.length;o++){var c=a[o],h=c[0];c[1];s+=h}if(s<=this.tP.nl())break;this.sP.shift()}this.eP+=n,this.uP+=n,this.oP=u},n.vP=function(){return void 0!==this.oP&&r.va()-this.oP<this.cP&&this.uP>=this.iP},n.Fa=function(){this.hP=new vT(this.tP.nl()),this.fP=new vT(this.nP.nl()),this.uP=0,this.sP=[],this.oP=void 0},b(t,[{key:"$O",get:function(){return this.vP()?_.min(this.hP.$O,this.fP.$O):this.aP}},{key:"dP",get:function(){return this.eP}}]),t}(),lT=function(){function t(t,n,i){void 0===t&&(t=Yc.yl(2)),void 0===n&&(n=Yc.yl(5)),void 0===i&&(i=!1),this.tP=t,this.nP=n,this.rP=i,this.lP=0,this.aP=Yc.yl(.1),this.sP=[],this.oP=void 0,this.cP=6e4,this._P=10,this.hP=new vT(t.nl()),this.fP=new vT(n.nl())}var n=t.prototype;return n.KO=function(t){var n=r.va(),i=t.nl();this.rP&&void 0!==this.oP&&n-this.oP>=this.cP&&this.Fa(),this.lP+=1,this.hP.KO(1,i),this.fP.KO(1,i),this.sP.push(i),this.sP.length>this._P&&this.sP.shift(),this.oP=n},n.vP=function(){return void 0!==this.oP&&r.va()-this.oP<=this.cP},n.Fa=function(){this.hP=new vT(this.tP.nl()),this.fP=new vT(this.nP.nl()),this.lP=0,this.sP=[],this.oP=void 0},b(t,[{key:"$O",get:function(){return this.vP()?Yc.yl(_.min(this.hP.$O,this.fP.$O)):this.aP}}]),t}(),_T=function(){function t(t,n,i){this.gP=t,this.wP=n,this.yP=i,this.mP=void 0,this.pP=void 0,this.kP=void 0,this.AP=void 0}var n=t.prototype;return n.bP=function(t){if(this.mP)throw new v("RequestMeasurer - The start of the request has already been marked.");this.mP=t},n.TP=function(t){if(!this.mP)throw new v("RequestMeasurer - The start of the request has not yet been marked.");if(this.pP)throw new v("RequestMeasurer - The start of the response has already been marked.");this.pP=t,this.yP.KO(this.pP.Hf(this.mP))},n.EP=function(t,n){if(!this.pP)throw new v("RequestMeasurer - The start of the response has not yet been marked.");this.kP||(this.kP=this.pP);var i=t;this.wP.KO(i.Hf(this.kP),n.length),this.kP=i},n.SP=function(t){if(!this.pP)throw new v("RequestMeasurer - The start of the response has not yet been marked.");if(this.AP)throw new v("RequestMeasurer - The end of the response has already been marked.");this.AP=t},t}(),gT=function(){function t(t){this.RP=t}var n=t.prototype;return n.bP=function(t){this.RP.markRequestStart(1e3*t.nl())},n.TP=function(t){this.RP.markResponseStart(1e3*t.nl())},n.EP=function(t,n){this.RP.markResponseData(1e3*t.nl(),n)},n.SP=function(t){this.RP.markResponseEnd(1e3*t.nl())},t}();function wT(t){var n;return{get url(){return t.Zl},get method(){return t.Qg},get headers(){return n||(n=t.Yg.Xg()),n},get body(){return t.jg},get useCredentials(){return t.tw},get type(){return AT(t.ru)},get subType(){return TT(t.Kg)},get mediaType(){return ST(t.$g)},get responseType(){return mT(t.Zg)}}}function yT(t){switch(t.toLowerCase()){case"arraybuffer":return Ch.Ug;case"blob":return Ch.qg;case"document":return Ch.Wg;case"json":return Ch.Fg;case"stream":return Ch.Vg;case"text":default:return Ch.Hg}}function mT(t){return t}function pT(t){switch(t.toUpperCase()){case"GET":default:return"GET";case"POST":return"POST";case"PUT":return"PUT";case"DELETE":return"DELETE";case"HEAD":return"HEAD";case"OPTIONS":return"OPTIONS"}}function kT(t){switch(t.toLowerCase()){case"manifest":return"manifest";case"segment":return"segment";case"content-protection":return"content-protection";default:return""}}function AT(t){return t}function bT(t){switch(t.toLowerCase()){case"initialization-segment":return"initialization-segment";case"fairplay-license":return"fairplay-license";case"fairplay-certificate":return"fairplay-certificate";case"widevine-license":return"widevine-license";case"widevine-certificate":return"widevine-certificate";case"playready-license":return"playready-license";case"clearkey-license":return"clearkey-license";case"aes128-key":return"aes128-key";default:return""}}function TT(t){return t}function ET(t){switch(t.toLowerCase()){case"audio":return"audio";case"video":return"video";case"text":return"text";case"image":return"image";case"":default:return""}}function ST(t){return t}var RT=function(t){function n(){var n;return(n=t.call(this)||this).IP=void 0,n}ut(n,t);var i=n.prototype;return i.NP=function(){return this.IP?this.IP.bandwidth:t.prototype.NP.call(this)},i.DP=function(){return this.IP?Yc.Gd(this.IP.roundTripTime,1e3):t.prototype.DP.call(this)},i.CP=function(n){return this.IP?new gT(this.IP.createMeasurer(wT(n))):t.prototype.CP.call(this,n)},n}(function(){function t(){this.Ia=void 0,this.wP=new dT,this.yP=new lT}var n=t.prototype;return n.NP=function(){return this.wP.$O},n.DP=function(){return this.yP.$O},n.CP=function(t){return new _T(t.Zl,this.wP,this.yP)},b(t,[{key:"W_",get:function(){return this.NP()}},{key:"OP",get:function(){return this.DP()}},{key:"Na",get:function(){var t;return this.Ia||(this.Ia=(t=this,{get bandwidth(){return t.W_},get roundTripTime(){return t.OP.nl()},createMeasurer:function(t){throw new v("Creating a RequestMeasurer on the internal MeasurableNetworkEstimator implementation is not allowed.")}})),this.Ia}}]),t}()),IT=function(){function t(t,n){void 0===n&&(n=!0),this.PP=new RT,this.xP=t,this.BP=n}var n=t.prototype;return n.SA=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.LP(n),(e=this.PP.CP(i)).bP(Yc.Gd(r.va(),1e3)),t.next=5,this.xP.SA(i);case 5:return u=t.sent,e.TP(Yc.Gd(r.va(),1e3)),s=u.nO().pipeThrough(new Zk(new NT(e))),o=new Rr,n.bs&&o.ks(n.bs),a={kn:s,iO:o,SA:u.SA},t.abrupt("return",new UA(a,u));case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.HD=function(t){return this.xP.HD(this.MP(t))},n.LP=function(n){var i=new Xh(n);if(!this.BP){var r=t.UP(i.Zl);i=new Xh({Zl:r},i)}return i},n.MP=function(n){var i=n.Zl;return this.BP||(i=t.UP(i)),{Zl:i,jg:n.jg}},t.UP=function(t){return u&&u.location&&"https:"===u.location.protocol&&sn(t,"http://")?t.replace(":","s:"):t},n.Va=function(){this.xP.Va()},b(t,[{key:"FP",get:function(){return this.PP}},{key:"VP",get:function(){return this.PP.Na},set:function(t){this.PP.IP=t}}],[{key:"HP",get:function(){return t.qP}},{key:"WP",get:function(){return t.XP}}]),t}();IT.qP=new IT(new hT),IT.XP=new IT(new fT);var NT=function(){function t(t){this.GP=t}var n=t.prototype;return n.start=function(t){this.zP=t},n.transform=function(t){this.GP.EP(Yc.Gd(r.va(),1e3),t),this.zP.enqueue(t)},n.flush=function(){this.GP.SP(Yc.Gd(r.va(),1e3))},t}();var DT=!O.Ct&&!O.Ut;function CT(t,n,i){var r=t.getImageData(n,i,1,1).data;return 0===r[0]&&0===r[1]&&0===r[2]&&0===r[3]}var OT,PT=function(){function t(t){this.Ia=void 0,this.jP=void 0,this.jI=t}var n=t.prototype;return n.YP=function(t){if(!t||!t.drawImage)return!1;var n=this.jI.ST();if(!n)return!1;for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.drawImage.apply(t,[n].concat(r)),!0},n.QP=function(t,n,i,r,e,s){if(!t||!t.texImage2D)return!1;var o=this.jI,a=o.ST();if(!a)return!1;if(!DT){this.jP||(this.jP=u.createElement("canvas"));var c=this.jP,h=c.getContext("2d"),f=o.$y,d=o.Ky,l=c.width,_=c.height;h.clearRect(0,0,c.width,c.height),l===f&&_===d||(c.width=f,c.height=d),h.drawImage(a,0,0,f,d);var g=!1;f>0&&CT(h,f-1,0)&&(c.width=l,g=!0),d>0&&CT(h,0,d-1)&&(c.height=_,g=!0),g&&h.drawImage(a,0,0,f,d),a=c}try{t.texImage2D(n,i,r,e,s,a)}catch(t){throw new v("Error trying to render video content to the WebGLRenderingContext. This is most likely due to CORS restrictions. https://support.theoplayer.com/hc/en-us/articles/115003094385#Considerations")}return!0},b(t,[{key:"Na",get:function(){return this.Ia||(this.Ia=(t=this,{drawImage:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),e=1;e<i;e++)r[e-1]=arguments[e];return t.YP.apply(t,[n].concat(r))},texImage2D:function(n,i,r,e,u,s){return t.QP(n,i,r,e,u,s)}}));var t}}]),t}(),xT=function(t){function n(n,i){var r;return(r=t.call(this,"ZP")||this).q_=n,r.P_=i,r}return ut(n,t),n.prototype.Da=function(){return new BT(this.q_,this.P_)},n}(Os),BT=function(t){function n(n,i){var r;return(r=t.call(this,"dimensionchange")||this).width=n,r.height=i,r}return ut(n,t),n}(Un),LT=function(t,n){this.LT=t,this.JP=n},MT=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).KP=0,r.$P=0,r.tx=function(t){if(t.length>0){var n=t[t.length-1].contentRect;r.$P=n.width,r.KP=n.height,r.JP(r.$P,r.KP)}},r.nx=new Lt.ResizeObserver(r.tx),r.nx.observe(r.LT),r}return ut(n,t),n.prototype.Va=function(){this.nx.disconnect()},b(n,[{key:"ix",get:function(){return this.KP}},{key:"ex",get:function(){return this.$P}}]),n}(LT);function UT(){return OT||(OT=Lt&&Lt.document&&Lt.document.createElement("span")),OT}var FT=["Webkit","Moz","O","ms"],VT=(function(){var t=!1;try{if(void 0!==Lt&&"function"==typeof Lt.addEventListener){var n=l.defineProperty({},"passive",{get:function(){t=!0}});Lt.addEventListener("testPassiveEventSupport",G,n),Lt.removeEventListener("testPassiveEventSupport",G,n)}}catch(t){}}(),Rt());function HT(t){return VT.has(t)||VT.set(t,function(t){var n=UT();if(!n||!n.style)return t;if(void 0!==n.style[t])return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<FT.length;r++){var e=FT[r],u=e+i;if(void 0!==n.style[u])return u}return t}(t)),VT.get(t)}function qT(t){var n=t.style;n.position="absolute",n.left=n.right=n.bottom=n.top="0",n.overflow="scroll",n.zIndex="-1",n.visibility="hidden"}function WT(t){var n=t.style;n.position="absolute",n.left=n.top="0",n[HT("transition")]="0s"}var XT=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).ux=void 0,e.sx=0,e.$P=NaN,e.KP=NaN,e.ox=void 0,e.Fa=function(){e.ax.style.width=1e5+"px",e.ax.style.height=1e5+"px",e.hx.scrollLeft=1e5,e.hx.scrollTop=1e5,e.vx.scrollLeft=1e5,e.vx.scrollTop=1e5,0===e.vx.scrollTop&&bl(e.Fa)},e.lx=function(){var t=e.ex,n=e.ix;e.JP(t,n),e.$P=t,e.KP=n,e.Fa(),e.sx=0},e._x=function(){if(!e.sx){var t=e.ex,n=e.ix;t===e.$P&&n===e.KP||(e.sx=bl(e.lx))}},e.gx=function(){e.ox||(e.ox=a(e.wx,66))},e.wx=function(){e.ox=void 0,e.yx()},e.yx=function(){e._x()},e.Js(r),e}ut(n,t);var i=n.prototype;return i.mx=function(){var t,n=this.LT,i=u.createElement("div");return this.hx=u.createElement("div"),this.ax=u.createElement("div"),this.vx=u.createElement("div"),this.kx=u.createElement("div"),qT(this.hx),qT(this.vx),WT(this.ax),WT(t=this.kx),t.style.width="200%",t.style.height="200%",i.appendChild(this.hx),i.appendChild(this.vx),this.hx.appendChild(this.ax),this.vx.appendChild(this.kx),n&&n.appendChild(i),this._x(),this.hx.addEventListener("scroll",this._x),this.vx.addEventListener("scroll",this._x),i},i.Js=function(t){var n=this.LT,i=function(t,n){return e.getComputedStyle(t,void 0).getPropertyValue(n)||t.style[n]}(n,"position");t||"static"!==i||(n.style.position="relative"),this.ux=this.mx(),e&&e.addEventListener("resize",this.gx)},i.Va=function(){this.ux&&(Tl(this.sx),this.sx=0,this.hx.removeEventListener("scroll",this._x),this.vx.removeEventListener("scroll",this._x),ae(this.ux),this.ux=void 0,e&&e.removeEventListener("resize",this.gx))},b(n,[{key:"ix",get:function(){return this.LT&&this.LT.getBoundingClientRect().height||this.KP||0}},{key:"ex",get:function(){return this.LT&&this.LT.getBoundingClientRect().width||this.$P||0}}]),n}(LT),GT=function(t){function n(n){var i;return(i=t.call(this)||this).nx=void 0,i.tx=function(t,n){i.Su(new xT(t,n))},i.LT=n,i}ut(n,t);var i=n.prototype;return i.Js=function(t){this.nx||("function"==typeof Lt.ResizeObserver?this.nx=new MT(this.LT,this.tx):this.nx=new XT(this.LT,this.tx,t))},i.Va=function(){this.Du(),this.nx&&(this.nx.Va(),this.nx=void 0)},b(n,[{key:"ix",get:function(){return this.nx?this.nx.ix:0}},{key:"ex",get:function(){return this.nx?this.nx.ex:0}}]),n}(Cs),zT=function(t){function n(){return t.call(this,"fullscreenchange")||this}return ut(n,t),n}(Un),jT=function(t){function n(){return t.call(this,"fullscreenerror")||this}return ut(n,t),n}(Un);var YT=function(){if(u)for(var t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0;n<t.length;n++){var i=t[n];if(i[1]in u)return{Ax:i[0],bx:i[1],Tx:i[2],Ex:i[3],Sx:i[4],Rx:i[5]}}}(),QT=function(t){function n(){return t.call(this,"fullscreensupportchange")||this}return ut(n,t),n}(Un),ZT=function(t){function n(i){var r;return(r=t.call(this)||this).Ix=!1,r.Nx=function(){return r.Dx()},r.Cx=function(){return r.Ox()},r.LT=i,r.Px=n.xx(i),u.addEventListener(YT.Sx,r.Nx),r.Dx(),r}ut(n,t),n.xx=function(t){return Boolean(YT&&u[YT.Ex]&&YT.Ax in t)};var i=n.prototype;return i.BA=function(){var t=this.LT[YT.Ax]();t&&t.then?t.then(this.Nx,this.Cx):(u.removeEventListener(YT.Rx,this.Cx),u.addEventListener(YT.Rx,this.Cx))},i.LA=function(){var t=u[YT.bx]();t&&t.then?t.then(this.Nx,this.Cx):(u.removeEventListener(YT.Rx,this.Cx),u.addEventListener(YT.Rx,this.Cx))},i.Dx=function(){var t=this.Ix,n=this.LT===u[YT.Tx];this.Ix=n,t!==n&&this.Su(new zT)},i.Ox=function(){this.Su(new jT)},i.Va=function(){this.Du(),u.removeEventListener(YT.Sx,this.Nx),u.removeEventListener(YT.Rx,this.Cx)},n}(Cs),JT=function(t){function n(i){var r;return(r=t.call(this)||this).Ix=!1,r.Nx=function(){return r.Dx()},r.LT=i,r.Px=n.xx(i),r.LT.addEventListener("webkitbeginfullscreen",r.Nx),r.LT.addEventListener("webkitendfullscreen",r.Nx),r.LT.addEventListener("webkitpresentationmodechanged",r.Nx),r.Dx(),r}ut(n,t),n.xx=function(t){return O.Ct&&("webkitEnterFullscreen"in t||"webkitSupportsPresentationMode"in t)};var i=n.prototype;return i.BA=function(){var t=this;this.LT.webkitSupportsPresentationMode&&this.LT.webkitSupportsPresentationMode("fullscreen")?O.Ct?requestAnimationFrame(function(){return t.LT.webkitSetPresentationMode("fullscreen")}):this.LT.webkitSetPresentationMode("fullscreen"):this.LT.webkitEnterFullscreen()},i.LA=function(){this.LT.webkitSupportsPresentationMode&&this.LT.webkitSupportsPresentationMode("inline")?this.LT.webkitSetPresentationMode("inline"):this.LT.webkitExitFullscreen()},i.Dx=function(){var t,n=this.Ix;t=this.LT.webkitPresentationMode?"fullscreen"===this.LT.webkitPresentationMode:!!this.LT.webkitDisplayingFullscreen,this.Ix=t,n!==t&&this.Su(new zT)},i.Va=function(){this.Du(),this.LT.removeEventListener("webkitbeginfullscreen",this.Nx),this.LT.removeEventListener("webkitendfullscreen",this.Nx),this.LT.removeEventListener("webkitpresentationmodechanged",this.Nx)},n}(Cs),KT=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Bx=[],n.Lx=void 0,n.Mx=!1,n.Dx=function(){var t=n.Mx,i=n.Ux();t!==i&&(n.Mx=i,n.Su(new zT))},n}ut(n,t);var i=n.prototype;return i.BA=function(){this.Lx?this.Lx.BA():this.Su(new jT)},i.LA=function(){for(var t=0,n=this.Bx;t<n.length;t++){var i=n[t];i.Ix&&i.LA()}},i.Fx=function(t){this.Lx=t},i.Vx=function(t){this.Bx.push(t),t.Iu("fullscreenchange",this.Dx),t.Iu("fullscreenerror",this.Eu),this.Dx()},i.Hx=function(t){An(this.Bx,t),t.Cu("fullscreenchange",this.Dx),t.Cu("fullscreenerror",this.Eu)},i.Ux=function(){for(var t=0,n=this.Bx;t<n.length;t++){if(n[t].Ix)return!0}return!1},i.Fa=function(){this.Lx=void 0,this.Mx=!1;for(var t=this.Bx.slice(),n=0;n<t.length;n++){var i=t[n];this.Hx(i),i.Va()}this.Dx()},i.Va=function(){this.Du(),this.Fa()},b(n,[{key:"Px",get:function(){return!!this.Lx&&this.Lx.Px}},{key:"Ix",get:function(){return this.Mx}}]),n}(Cs),$T=function(t){function n(n){var i;return(i=t.call(this)||this).qx=void 0,i.Wx=!1,i.Xx=function(){return i.qs()},i.Dx=function(t){i.Wx||i.Su(t)},i.jI=n,i.Gx=Boolean(n.Cp.allowNativeFullscreen),i.zx=new KT,i.zx.Iu("fullscreenchange",i.Dx),i.zx.Iu("fullscreenerror",i.Eu),i.jI.Iu(ev,i.Xx),i.qs(),i}ut(n,t);var i=n.prototype;return i.BA=function(){this.zx.BA()},i.LA=function(){this.zx.LA()},i.qs=function(){var t=this.qx,n=this.jI.RT();if(t!==n){this.Wx=!0;var i=this.zx,r=this.Ix,e=this.Px;r&&this.LA(),i.Fa(),this.qx=n;for(var u=this.jx(n),s=0;s<u.length;s++){var o=u[s];i.Vx(o)}this.Gx&&u.length>0?i.Fx(u[0]):i.Fx(void 0),r&&!this.Ix&&this.Px?this.BA():this.LA(),this.Wx=!1,e!==this.Px&&this.Su(new QT),r!==this.Ix&&this.Su(new zT)}},i.jx=function(t){var n=[];return t&&(ZT.xx(t)&&n.push(new ZT(t)),JT.xx(t)&&n.push(new JT(t))),n},i.Va=function(){this.Du(),this.zx.Va(),this.jI.Cu(ev,this.Xx)},b(n,[{key:"Px",get:function(){return this.zx.Px}},{key:"Ix",get:function(){return this.zx.Ix}}]),n}(Cs),tE=function(t){function n(n){var i;return(i=t.call(this,"presentationmodechange")||this).presentationMode=n,i}return ut(n,t),n}(Un);var nE=function(t){function i(n){var i;return(i=t.call(this)||this).Yx=!1,i.Mx=!1,i.Ia=void 0,i.Dx=function(){return i.Qx()},i.Ox=function(){return i.Zx()},i.Jx=n,i.mb=i.Kx=i.$x=i.tB="inline",i.Jx.Iu("fullscreenchange",i.Dx),i.Jx.Iu("fullscreenerror",i.Ox),i.nB(),i}ut(i,t);var r=i.prototype;return r.Da=function(){return t=this,i={get currentMode(){return t.iB()},requestMode:function(n){var i=rv(n);i&&t.rB(i)},supportsMode:function(n){var i=rv(n);return!!i&&t.eB(i)},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)}},(n=new uc(i,!0)).Ka(t),i;var t,n,i},r.rB=function(t){this.Ob(t,t)},r.Ob=function(t,n){this.Kx!==n&&(this.Yx=!0,this.mb=t,this.uB(n,this.Kx),"fullscreen"!==t&&(this.$x=t),this.Yx=!1,this.nB())},r.iB=function(){return this.Mx?"fullscreen":"inline"},r.eB=function(t){switch(t){case"fullscreen":return this.Jx.Px;case"inline":return!0}return!1},r.nB=function(){if(!this.Yx){var t=this.Kx,n=this.iB();this.Kx=n,"fullscreen"!==n&&(this.tB=n),t!==n&&this.Su(new tE(n))}},r.uB=function(t,n){var i="fullscreen"===t;this.Mx=i,i!==this.Jx.Ix&&(i?this.Jx.BA():this.Jx.LA())},r.Qx=function(){if(!this.Yx){var t=this.Jx.Ix;this.Mx=t,t?this.Ob("fullscreen","fullscreen"):t||"fullscreen"!==this.mb?this.nB():this.Ob(this.$x,this.tB)}},r.Zx=function(){this.Qx(),this.Su(new df(new Vo(n.ErrorCode.FULLSCREEN_ERROR,"Failed to enter fullscreen.")))},r.Va=function(){this.Jx.Va(),this.Du()},b(i,[{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}}]),i}(Ds),iE=function(){function t(t,n){this.sB=t,this.oB=n,this.aB=new kr,this.cB=[],this.Ia=void 0,this.hB=!1,this.RA=void 0,this.fB=0}var n=t.prototype;return n.vB=function(){this.hB=!0,this.aB.cs(null)},n.dB=function(){this.aB.hs(this.cB)},n.lB=function(t){if(!this._B)throw new d("Cannot respond more than once");if(!U(t))throw new d("Expected valid response");this.RA=this.gB(t),this.vB()},n.wB=function(){try{var t=this.oB(this.Na);t?this.yB(t):this.mB||this.pB||this.vB()}catch(t){this.dB()}},n.yB=function(t){if(this.pB)throw new v("Request has been redirected or a response already exists");if(q(t))this.kB(t);else{if("function"!=typeof t)throw new d("Expected promise or function");var n=new kr;try{var i=t(function(t){t?n.hs(t):n.cs(void 0)});q(i)&&n.cs(i)}catch(t){n.hs(t)}this.kB(n.as)}},n.kB=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.fB++,t.next=4,n;case 4:this.fB--,this.mB||this.pB||(this.cB.length?this.dB():this.vB()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),this.fB--,this.cB.push(t.t0),this.mB||this.pB||this.dB();case 13:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),b(t,[{key:"AB",get:function(){return this.aB.as}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.bB()),this.Ia}},{key:"pB",get:function(){return this.hB}},{key:"_B",get:function(){return!this.hB}},{key:"mB",get:function(){return this.fB>0}},{key:"NA",get:function(){return this.RA}}]),t}(),rE=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).TB=r,e.wB(),e}ut(n,t),n.EB=function(t,n,i){var r=void 0===t.body?i:t.body;return new UA({kn:r,SA:n.SA,Zg:n.SA.Zg,Yg:t.headers,IA:t.status,dS:t.statusText,DA:t.url,vO:!0},n)};var i=n.prototype;return i.bB=function(){return i=wT((t=this).SA),{get closed(){return!t._B},get request(){return i},get url(){return t.Zl},get status(){return t.IA},get statusText(){return t.dS},get headers(){return n||(n=t.Yg.Xg()),n},get body(){return t.jg},respondWith:function(n){return t.lB(n)},waitUntil:function(n){return t.yB(n)}};var t,n,i},i.gB=function(t){return n.EB(t,this.sB,this.TB)},b(n,[{key:"jg",get:function(){return this.TB}},{key:"Yg",get:function(){return this.sB.Yg}},{key:"SA",get:function(){return this.sB.SA}},{key:"NA",get:function(){return this.RA}},{key:"IA",get:function(){return this.sB.IA}},{key:"dS",get:function(){return this.sB.dS}},{key:"Zl",get:function(){return this.sB.DA}}]),n}(iE),eE=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i)||this).SB=void 0,e.RB=r,e.wB(),e}ut(n,t);var i=n.prototype;return i.bB=function(){return t=this,{get url(){return t.Zl},get method(){return t.Qg},get headers(){return n||(n=t.Yg.Xg()),n},get body(){return t.jg},get closed(){return!t._B},get useCredentials(){return t.tw},get type(){return AT(t.ru)},get subType(){return TT(t.Kg)},get mediaType(){return ST(t.$g)},get responseType(){return mT(t.Zg)},redirect:function(n){return t.IB(n)},respondWith:function(n){return t.lB(n)},waitUntil:function(n){return t.yB(n)}};var t,n},i.gB=function(t){var n=this.sB.jg,i=new UA({kn:n,Yg:{},SA:this.sB,DA:this.sB.Zl,Zg:this.sB.Zg,IA:200,dS:"OK"});return rE.EB(t,i,n)},i.IB=function(t){if(!this._B)throw new d("Cannot redirect, already redirected or has a response");var n;n=V(t)?{url:t}:t,this.SB=function(t,n){return new Xh({Zl:void 0===t.url?n.Zl:t.url,Qg:void 0!==t.method?pT(t.method):void 0,Yg:t.headers,jg:t.body,tw:t.useCredentials,ru:void 0!==t.type?kT(t.type):void 0,Kg:void 0!==t.subType?bT(t.subType):void 0,$g:void 0!==t.mediaType?ET(t.mediaType):void 0,Zg:void 0!==t.responseType?yT(t.responseType):void 0},n)}(n,this.sB),this.vB()},b(n,[{key:"jg",get:function(){return this.sB.jg}},{key:"_B",get:function(){return this.RB&&!this.hB}},{key:"Yg",get:function(){return this.sB.Yg}},{key:"Qg",get:function(){return this.sB.Qg}},{key:"NB",get:function(){return this.SB}},{key:"NA",get:function(){return this.RA}},{key:"Zg",get:function(){return this.sB.Zg}},{key:"Jg",get:function(){return this.sB.Jg}},{key:"bs",get:function(){return this.sB.bs}},{key:"ru",get:function(){return this.sB.ru}},{key:"Kg",get:function(){return this.sB.Kg}},{key:"$g",get:function(){return this.sB.$g}},{key:"Zl",get:function(){return this.sB.Zl}},{key:"tw",get:function(){return this.sB.tw}},{key:"nw",get:function(){return this.sB.nw}}]),n}(iE);var uE=function(t){function n(n,i){var r;void 0===i&&(i=!0);var e=new sE(n);return(r=t.call(this,e,i)||this).DB=e,r}ut(n,t);var i=n.prototype;return i.CB=function(t){this.DB.CB(t)},i.OB=function(t){this.DB.OB(t)},i.PB=function(t){this.DB.PB(t)},i.xB=function(t){this.DB.xB(t)},i.BB=function(t){this.DB.BB(t)},n}(IT),sE=function(){function t(t){this.LB=[],this.MB=[],this.xP=t}var n=t.prototype;return n.SA=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UB(n,n.bs);case 3:i=t.sent,t.next=13;break;case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof Jd)){t.next=12;break}return t.next=11,this.FB(t.t0,n.bs);case 11:return t.abrupt("return",t.sent);case 12:throw t.t0;case 13:return t.next=15,this.VB(i,n.bs);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n){return t.apply(this,arguments)}}(),n.HD=function(t){return this.xP.HD(t)},n.UB=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Dn(i),r=void 0,e=0,u=this.LB.slice();case 3:if(!(e<u.length)){t.next=21;break}if(s=u[e],Dn(i),(o=new eE(n,s,!r)).pB){t.next=17;break}return t.prev=8,t.next=11,o.AB;case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("continue",18);case 17:o.NB&&!r?n=o.NB:o.NA&&!r&&(r=o.NA);case 18:e++,t.next=3;break;case 21:if(!r){t.next=23;break}return t.abrupt("return",r);case 23:return t.abrupt("return",this.xP.SA(n));case 24:case"end":return t.stop()}},t,this,[[8,13]])}));return function(n,i){return t.apply(this,arguments)}}(),n.FB=function(t,n){var i;return i=t instanceof $d?t.NA:new UA({kn:null,SA:t.SA,IA:0,dS:""}),this.VB(i,n)},n.VB=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.MB.slice();case 1:if(!(r<e.length)){t.next=22;break}return u=e[r],Dn(i),t.next=6,Tt.resolve(n.ns().kn(i));case 6:if(s=t.sent,(o=new rE(n,u,s)).pB){t.next=18;break}return t.prev=9,t.next=12,o.AB;case 12:t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(9),t.abrupt("continue",19);case 18:n=o.NA||n;case 19:r++,t.next=1;break;case 22:if(!MA(n)){t.next=26;break}return t.abrupt("return",n);case 26:throw new $d(n);case 27:case"end":return t.stop()}},t,this,[[9,14]])}));return function(n,i){return t.apply(this,arguments)}}(),n.CB=function(t){this.LB.unshift(t)},n.OB=function(t){this.LB.push(t)},n.PB=function(t){An(this.LB,t)},n.xB=function(t){this.MB.unshift(t)},n.BB=function(t){An(this.MB,t)},n.Va=function(){this.xP.Va(),Sn(this.LB),Sn(this.MB)},t}(),oE=function(){function t(t){this.$T=t}var n=t.prototype;return n.CB=function(t){this.$T.CB(t)},n.PB=function(t){this.$T.PB(t)},n.xB=function(t){this.$T.xB(t)},n.BB=function(t){this.$T.BB(t)},b(t,[{key:"Na",get:function(){var t;return this.Ia||(this.Ia=(t=this,{addRequestInterceptor:function(n){t.CB(n)},removeRequestInterceptor:function(n){t.PB(n)},addResponseInterceptor:function(n){t.xB(n)},removeResponseInterceptor:function(n){t.BB(n)}})),this.Ia}}]),t}(),aE=function(t){function n(n,i){var r;return(r=t.call(this,i)||this).HB=n,r.$T=i,r.qB=void 0,r.HB.Iu("online",r.Eu),r.HB.Iu("offline",r.Eu),r}ut(n,t);var i=n.prototype;return i.CB=function(t){this.$T.CB(t)},i.PB=function(t){this.$T.PB(t)},i.xB=function(t){this.$T.xB(t)},i.BB=function(t){this.$T.BB(t)},i.Va=function(){this.Du(),this.HB.Cu("online",this.Eu),this.HB.Cu("offline",this.Eu)},b(n,[{key:"Na",get:function(){var t;return this.Ia||(this.Ia=(t=this,{get online(){return t.UT},get estimator(){return t.WB},set estimator(n){t.WB=n},addRequestInterceptor:function(n){t.CB(n)},removeRequestInterceptor:function(n){t.PB(n)},addResponseInterceptor:function(n){t.xB(n)},removeResponseInterceptor:function(n){t.BB(n)},addEventListener:function(n,i){t.Iu(n,i)},removeEventListener:function(n,i){t.Cu(n,i)}})),this.Ia}},{key:"UT",get:function(){return this.HB.UT}},{key:"WB",get:function(){var t;return null!==(t=this.qB)&&void 0!==t?t:this.$T.VP},set:function(t){this.$T.VP=function(t){return{get bandwidth(){return $s(t.bandwidth)},get roundTripTime(){return $s(t.roundTripTime)},createMeasurer:function(n){return i=t.createMeasurer(n),{markRequestStart:function(t){i.markRequestStart(t)},markResponseStart:function(t){i.markResponseStart(t)},markResponseData:function(t,n){i.markResponseData(t,n)},markResponseEnd:function(t){i.markResponseEnd(t)}};var i}}}(t),this.qB=t}}]),n}(Ds);var cE=30;function hE(t,n,i,r,e,u){var s=[],o=t.Hf(new Mc(u)),a=t.Df(new Mc(e));if(n&&i){var c=n.Hf(i);o=Mc.cf(o,c);var h=n.Df(i.Dd(2));a=Mc.hf(a,h)}return r.Mf(Mc.xd,o)&&s.push([Mc.xd,o]),r.Mf(a,Mc.Bd)&&s.push([a,Mc.Bd]),s}var fE=60;function vE(t){var n,i,r,e=js(wE);return V(t)?e.type=dE(t):U(t)&&function(t){switch(t){case"performance":case"quality":case"bandwidth":return!0;default:return!1}}(t.type)&&(e.type=dE(t.type)),U(t)&&U(t.metadata)&&(e.metadata=(n=t.metadata,i={},r=Ks(n.bitrate),y(r)||(i.bitrate=r),i)),e}function dE(t){switch(t){case"bandwidth":return"bandwidth";case"performance":return"performance";case"quality":return"quality"}}var lE=function(t){function n(n){var i;return(i=t.call(this,"GB")||this).XB=n,i}return ut(n,t),n}(Un),_E=function(t){function n(n){var i;return(i=t.call(this,"jB")||this).zB=n,i}return ut(n,t),n}(Un),gE=function(t){function n(n){var i;return(i=t.call(this,"QB")||this).YB=n,i}return ut(n,t),n}(Un),wE={type:"bandwidth"},yE=20,mE=function(t){function n(){var n,i;return(n=t.apply(this,arguments)||this).Ia=(i=st(n),{get strategy(){return{metadata:(t=i.zB).metadata,type:(n=t.type,n)};var t,n},set strategy(t){i.zB=vE(t)},get targetBuffer(){return i.XB},set targetBuffer(t){var n=Ks(t);y(n)||(i.XB=n>fE?fE:n)},get bufferLookbackWindow(){return i.YB},set bufferLookbackWindow(t){var n=Ks(t);y(n)||(i.YB=n<=0?cE:n)}}),n.ZB=wE,n.JB=yE,n.KB=cE,n}return ut(n,t),b(n,[{key:"$B",get:function(){switch(this.ZB.type){case"performance":return 0;case"quality":return 1/0;case"bandwidth":return this.ZB.metadata&&void 0!==this.ZB.metadata.bitrate?this.ZB.metadata.bitrate:8*Fa.lv();default:return 8*Fa.lv()}}},{key:"Na",get:function(){return this.Ia}},{key:"zB",get:function(){return this.ZB},set:function(t){this.ZB=t,this.Su(new _E(t))}},{key:"XB",get:function(){return this.JB},set:function(t){this.JB=t,this.Su(new lE(t))}},{key:"YB",get:function(){return this.KB},set:function(t){this.KB=t,this.Su(new gE(t))}}]),n}(Mn),pE=function(t){function n(){return t.call(this,"Ma")||this}return ut(n,t),n.prototype.Da=function(){return new kE},n}(Os),kE=function(t){function n(){return t.call(this,"change")||this}return ut(n,t),n}(Un);var AE=Mc.xd,bE=new Mc(-1/0),TE=Mc.Bd,EE=function(t){function n(n,i){return t.call(this,n,i)||this}ut(n,t);var i=n.prototype;return i.rf=function(t,n){return t.sf(n)?-1:t.if(n)?0:1},i.Df=function(t,n){return t.Df(n)},i.Hf=function(t,n){return t.Hf(n)},i.bf=function(t,n){return t.bf(n)},i.pf=function(){return AE},i.Af=function(){return TE},i.Rf=function(){return bE},n.jf=function(t){for(var i=[],r=0;r<t.length;r++)i.push(new Mc(t.start(r)),new Mc(t.end(r)));return new n(i)},n.tL=function(t){for(var i=[],r=[],e=0;e<t.qa;e++)i.push(new Mc(t.Jh(e))),i.push(new Mc(t.$h(e))),r.push(t.Kh(e)),r.push(t.tf(e));return new n(i,r)},n.Yf=function(t){return new n([t,t],[!0,!0])},i.yf=function(t,i){return new n(t,i)},i.gf=function(t){return t.Od},n.nL=function(){return SE},n}(Da),SE=new EE([]),RE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).Mk=0,n.Uk=1/0,n}ut(n,t);var i=n.prototype;return i.Fa=function(){0===this.Mk&&this.Uk===1/0||(this.Mk=0,this.Uk=1/0,this.Su(new pE))},i.iL=function(){return new EE([new Mc(this.u_),new Mc(this.Ck)],[!0,!0])},b(n,[{key:"u_",get:function(){return this.Mk},set:function(t){if(this.Ck<=t)throw new v("Start time of a clip should be smaller than the end time.");this.Mk!==t&&(this.Mk=t,this.Su(new pE))}},{key:"Ck",get:function(){return this.Uk},set:function(t){if(t<=this.u_)throw new v("End time of a clip should be larger than the start time.");this.Uk!==t&&(this.Uk=t,this.Su(new pE))}},{key:"Na",get:function(){var t,n,i;return this.Ia||(this.Ia=(i={get startTime(){return t.u_},set startTime(n){t.u_=n},get endTime(){return t.Ck},set endTime(n){t.Ck=n},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)}},n=new qs(t=this,i),i)),this.Ia}}]),n}(Ds),IE=function(t){function n(n){var i;return(i=t.call(this)||this).rL=n,i.eL=function(t){i.uL(t)||i.Su(t)},i.rL.Sa(i.eL),i}ut(n,t);var i=n.prototype;return i.sL=function(){return this.rL.cT},i.IT=function(){return this.rL.IT()},i.oL=function(){return this.rL.xT},i.aL=function(){return this.rL.OT},i.cL=function(){return this.rL.BT},i.hL=function(t){this.rL.BT=t},i.fL=function(){return this.rL.Gy},i.vL=function(t){this.rL.Gy=t},i.dL=function(){return this.rL.e_},i.lL=function(){return this.rL.LT},i._L=function(){return this.rL.zy},i.gL=function(){return this.rL.Vu},i.wL=function(){return this.rL.jy},i.yL=function(){return this.rL.MT},i.mL=function(){return this.rL.Yy},i.pL=function(t){this.rL.Yy=t},i.kL=function(){return this.rL.UT},i.AL=function(){return this.rL.Qy},i.bL=function(){return this.rL.Zy},i.TL=function(t){this.rL.Zy=t},i.EL=function(){return this.rL.FT},i.SL=function(){return this.rL.VT},i.RL=function(t){this.rL.VT=t},i.IL=function(){return this.rL.lc},i.NL=function(){return this.rL.HT},i.DL=function(){return this.rL.Jy},i.gT=function(){return this.rL.gT()},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(i),t.next=3,this.rL.wT(n,i);case 3:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CL=function(){return this.rL.fT},i.OL=function(){return this.rL.Ky},i.PL=function(){return this.rL.hT},i.xL=function(){return this.rL.$y},i.BL=function(){return this.rL.tm},i.LL=function(t){this.rL.tm=t},i.RT=function(){return this.rL.RT()},i.ST=function(){return this.rL.ST()},i.AT=function(t){this.rL.AT(t)},i.bT=function(){this.rL.bT()},i.ET=function(){this.rL.ET()},i.kT=function(){this.rL.kT()},i.lT=function(){this.rL.lT()},i.dT=function(){this.rL.dT()},i.TT=function(){this.rL.TT()},i._T=function(){return this.rL._T()},i.yT=function(){return this.rL.yT()},i.mT=function(){this.rL.mT()},i.pT=function(){this.rL.pT()},i.Fa=function(){return this.rL.Fa()},i.Va=function(){return this.rL.Va()},i.PT=function(){this.rL.PT()},i.NT=function(t){return this.rL.NT(t)},i.uL=function(t){return!1},b(n,[{key:"cT",get:function(){return this.sL()}},{key:"xT",get:function(){return this.oL()}},{key:"BT",get:function(){return this.cL()},set:function(t){this.hL(t)}},{key:"OT",get:function(){return this.aL()}},{key:"Gy",get:function(){return this.fL()},set:function(t){this.vL(t)}},{key:"e_",get:function(){return this.dL()}},{key:"LT",get:function(){return this.lL()}},{key:"zy",get:function(){return this._L()}},{key:"Vu",get:function(){return this.gL()}},{key:"jy",get:function(){return this.wL()}},{key:"MT",get:function(){return this.yL()}},{key:"Cv",get:function(){return this.rL.Cv}},{key:"Yy",get:function(){return this.mL()},set:function(t){this.pL(t)}},{key:"UT",get:function(){return this.kL()}},{key:"Qy",get:function(){return this.AL()}},{key:"Zy",get:function(){return this.bL()},set:function(t){this.TL(t)}},{key:"FT",get:function(){return this.EL()}},{key:"VT",get:function(){return this.SL()},set:function(t){this.RL(t)}},{key:"lc",get:function(){return this.IL()}},{key:"HT",get:function(){return this.NL()}},{key:"Jy",get:function(){return this.DL()}},{key:"fT",get:function(){return this.CL()}},{key:"Ky",get:function(){return this.OL()}},{key:"hT",get:function(){return this.PL()}},{key:"$y",get:function(){return this.xL()}},{key:"tm",get:function(){return this.BL()},set:function(t){this.LL(t)}}]),n}(Cs),NE=function(t){function n(i,r){var e;return(e=t.call(this,i)||this).ML=!1,e.UL=void 0,e.FL=!1,e.VL=void 0,e.HL=!1,e.qL=function(){e.WL(),e.XL()},e.ZR=function(){e.GL(),e.XL(),e.Gy>=e.Ck-n.zL&&!e.zy&&(e.UL=bl(e.ZR))},e.jL=function(){e.HL=!0},e.YL=function(){e.HL&&(e.HL=!1,e.XL())},e.QL=r,e.QL.Iu("Ma",e.qL),e.rL.Iu("timeupdate",e.ZR),e}ut(n,t);var i=n.prototype;return i.vL=function(n){var i=this.QL.iL().mf(new Mc(n)).Od;this.ZL(),t.prototype.vL.call(this,i),this.JL()},i._L=function(){return t.prototype._L.call(this)||this.ML},i.NL=function(){return EE.jf(t.prototype.NL.call(this)).Tf(this.QL.iL()).lf()},i.dT=function(){this._L()?this.vL(this.KL.start(0)):this.WL(),t.prototype.dT.call(this),this.XL()},i.wT=function(){var n=Tt.coroutine(bt.mark(function n(i,r){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dn(r),this.ML=!1,this.QL.Fa(),n.next=5,t.prototype.wT.call(this,i,r);case 5:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.bL=function(){return this.FL?this.VL:t.prototype.bL.call(this)},i.TL=function(n){this.VL=n,this.Su(new Zf(this.Gy,n)),this.FL||t.prototype.TL.call(this,n)},i.Va=function(){return this.QL.Cu("Ma",this.qL),this.rL.Cu("timeupdate",this.ZR),this.GL(),t.prototype.Va.call(this)},i.ZL=function(){this.FL||(this.FL=!0,this.VL=t.prototype.bL.call(this),t.prototype.TL.call(this,0))},i.JL=function(){this.FL&&(t.prototype.TL.call(this,this.VL),this.FL=!1)},i.uL=function(n){switch(n.type){case"seeking":return this.Su(n),this.jL(),!0;case"seeked":case"emptied":return this.Su(n),this.YL(),!0;case"ended":if(this.$L)return!0;break;case"ratechange":if(this.FL||this.VL===this.Zy)return!0}return t.prototype.uL.call(this,n)},i.GL=function(){this.UL&&(Tl(this.UL),this.UL=void 0)},i.XL=function(){this.Jy||this.HL||(this.$L&&!this.ML&&this.Gy>=this.QL.Ck-n.Pd?(this.ML=!0,this.Su(new hf(this.Gy)),this.lT()):this.ML&&this.Gy<this.QL.Ck&&(this.ML=!1,this.dT()))},i.WL=function(){var t=this.KL,i=EE.jf(t).mf(new Mc(this.Gy)).Od;Ic(this.Gy,i,n.Pd)||this.vL(i)},b(n,[{key:"KL",get:function(){return this.NL().length?this.NL():this.QL.iL().lf()}},{key:"tM",get:function(){return this.QL.u_>0}},{key:"$L",get:function(){return this.QL.Ck<this.e_}},{key:"Ck",get:function(){return _.min(this.QL.Ck,this.e_)}}]),n}(IE);NE.zL=1,NE.Pd=.001;var DE=function(){function t(){this.nM=!1}return b(t,[{key:"iM",get:function(){return this.nM},set:function(t){this.nM=t}}]),t}(),CE=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).rM=!1,r.eM=!1,r.nM=i,r}ut(n,t);var i=n.prototype;return i._L=function(){return!this.nM.iM&&t.prototype._L.call(this)},i.lT=function(){this.eM=!0,t.prototype.lT.call(this)},i.dT=function(){this.eM=!1,t.prototype.dT.call(this)},i.uL=function(n){if(this.nM.iM)switch(n.type){case"ended":return this.Gy=0,this.eM||(this.Jy?this.rM=!0:this.dT()),!0;case"seeked":this.rM&&(this.rM=!1,this.dT());break;case"pause":if(this.rM||t.prototype._L.call(this))return!0}return t.prototype.uL.call(this,n)},n}(IE),OE=function(t){function n(){return t.call(this,"uM")||this}return ut(n,t),n.prototype.Da=function(){return new PE},n}(Os),PE=function(t){function n(){return t.call(this,"castingchange")||this}return ut(n,t),n}(Un);var xE=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).sM=[],n.Ia=void 0,n.oM=function(){return n.Su(new OE)},n}ut(n,t);var i=n.prototype;return i.aM=function(t){this.sM.push(t),t.Iu("statechange",this.oM)},i.Va=function(){var t=this;this.sM.forEach(function(n){n.Cu("statechange",t.oM)}),Sn(this.sM)},b(n,[{key:"cM",get:function(){return this.sM.some(function(t){return t.cM})}},{key:"Na",get:function(){var t,n,i;return this.Ia||(this.Ia=(i={get casting(){return t.cM},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)}},n=new Ws(t=this,i),i)),this.Ia}}]),n}(Cs),BE=function(){function t(){}return t.hM=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=new Xh({Zl:n,Zg:Ch.Hg,Qg:"GET"}),t.next=4,i.SA(r);case 4:return e=t.sent,t.next=7,e.kn();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(0),Nn(t.t0),t.abrupt("return",void 0);case 14:case"end":return t.stop()}},t,null,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t.fM=function(t){try{var i=Ny(t);return new By(i.key,i.domains_page,i.domains_source,i.expiration_date,i.customer_id,i.generation_date,i.sdks,i.send_impression)}catch(t){throw new Vo(n.ErrorCode.LICENSE_ERROR,"Invalid license. No valid license was configured.")}},t.vM=function(t){void 0===t&&(t=zy.TA),r.la("The baked-in license is used. Please update the configuration with your license.");var n=t.IN("_:gSCLd4CLC-COCYC@YYC:s4iOgHN:D-CL_[_:nSN:g| OUr"),i=["F$(:_L50F|aY","fp\"\""].map(function(n){return t.IN(n)}),e=["F$(:_L50F|aY","fp\"\""].map(function(n){return t.IN(n)}),u=+new Date(+t.IN("CO_HaHl[C:p3Ceo3Co\"\""));return new By(n,i,e,u)},t.getDummyLicense=function(t,n){return new By(t,[],[],864e13,n)},t}(),LE=function(){function t(){}return t.$f=function(){return t.$t||(t.$t=FE.eo()?new FE:new Pa),t.$t},t.Zu=function(n){t.$f().Zu(n)},t.Jf=function(){t.$f().Jf()},t.ju=function(n){return t.$f().ju(n)},t.Kf=function(n,i){t.$f().Kf(n,i)},t.dM=function(n){var i=t.ju(n);if(void 0!==i)return w(i)},t.lM=function(n){return"true"===t.ju(n)},t}();LE.$t=void 0;var ME,UE,FE=function(n){function i(){return n.apply(this,arguments)||this}ut(i,n),i.eo=function(){try{return t.localStorage.setItem("foobar","foobar"),t.localStorage.removeItem("foobar"),!0}catch(t){}return!1};var r=i.prototype;return r.Zu=function(n){t.localStorage.removeItem(n)},r.Jf=function(){t.localStorage.clear()},r.ju=function(n){return t.localStorage[n]},r.Kf=function(n,i){t.localStorage[n]=i},i}(LE),VE=_.floor(14399999*_.random()-72e5),HE=function(){function t(t,n,i,r,e,u){this.$T=t,this._M=n,this.gM=i,this.wD=r,this.wM=e,this.YN=u,this.QN=Hy(u)}var i=t.prototype;return i.yM=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mM(this.wM.license,this.wM.licenseUrl);case 2:n=t.sent,this.wD.pM(n);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mM=function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i?e=BE.fM(i):r||(e=BE.vM()),r||(r="https://validate.theoplayer.com/1/"+e.LN),u=this.kM(),!e){t.next=13;break}if((s=this._M.$N(e))!==Cy.PN){t.next=13;break}if(!this.AM(e.FN)||!this.AM(null==u?void 0:u.FN)){t.next=12;break}return t.next=9,this.bM(r);case 9:if(!(o=t.sent)){t.next=12;break}return t.abrupt("return",o);case 12:return t.abrupt("return",e);case 13:if(!u){t.next=24;break}if(this._M.$N(u)!==Cy.PN){t.next=23;break}if(!this.AM(null==u?void 0:u.FN)){t.next=22;break}return t.next=19,this.bM(r);case 19:if(!(a=t.sent)){t.next=22;break}return t.abrupt("return",a);case 22:return t.abrupt("return",u);case 23:LE.Zu("THEOplayer.license");case 24:return t.next=26,BE.hM(r,this.$T);case 26:if(!(c=t.sent)){t.next=38;break}return t.next=30,BE.fM(c);case 30:if(h=t.sent,this._M.$N(h)!==Cy.PN){t.next=35;break}return LE.Kf("THEOplayer.license",c),t.abrupt("return",h);case 35:LE.Zu("THEOplayer.license"),t.next=40;break;case 38:if(this.QN||!e||s!==Cy.xN||r!=="https://validate.theoplayer.com/1/"+e.LN){t.next=40;break}return t.abrupt("return",BE.getDummyLicense(e.LN,e.VN));case 40:if(!e&&!h){t.next=44;break}this.TM(null!=e?e:h,new Vo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!")),t.next=45;break;case 44:throw new Vo(n.ErrorCode.LICENSE_ERROR,"The given license is invalid!");case 45:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ZN=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.wD.xD();case 3:if(e=t.sent,!this.AM(e.FN)){t.next=10;break}return u=null!==(r=this.wM.licenseUrl)&&void 0!==r?r:"https://validate.theoplayer.com/1/"+e.LN,t.next=8,this.bM(u);case 8:(s=t.sent)&&(this.wD.pM(s),e=s);case 10:if(this._M.$N(e)===Cy.PN){t.next=13;break}throw new v("The license for this player is invalid");case 13:this._M.ZN(i,e),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),this.EM(new Vo(n.ErrorCode.LICENSE_ERROR,"The license for this player is invalid."));case 19:case"end":return t.stop()}},t,this,[[0,16]])}));return function(n){return t.apply(this,arguments)}}(),i.bM=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,BE.hM(n,this.$T);case 3:if(void 0!==(i=t.sent)){t.next=6;break}return t.abrupt("return",void 0);case 6:if(r=BE.fM(i),this._M.$N(r)!==Cy.PN){t.next=11;break}return LE.Kf("THEOplayer.license",i),t.abrupt("return",r);case 11:return t.abrupt("return",void 0);case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",void 0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}));return function(n){return t.apply(this,arguments)}}(),i.AM=function(t){return!t||+new Date+2592e5+VE>=t},i.kM=function(){var t=LE.ju("THEOplayer.license");if(t)return BE.fM(t)},i.TM=function(t,n){this.wD.pM(t),this.EM(n)},i.EM=function(t){throw nt(t.message),this.gM.MD(t.message),t},t}(),qE=function(){function t(){this.zP=new kr}var n=t.prototype;return n.pM=function(t){this.SM=t,this.zP.cs()},n.xD=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.SM){t.next=2;break}return t.abrupt("return",Tt.resolve(this.SM));case 2:return t.next=4,this.zP.as;case 4:return t.abrupt("return",this.SM);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(t,[{key:"RM",get:function(){return this.SM}}]),t}(),WE=function(t){function n(n,i){var r;(r=t.call(this)||this).IM=!1,r.rT=!1,r.NM=!1,r.DM=function(t){if(!r.NM){r.NM=!0;var n=r.CM,i=nc(t);r.Ov.Qa=new yy(r.LT,i,t),Dr(n.Va())}},r.OM=function(t){r.Su(t.Na)},r.PM=function(t){"online"!==t.type&&"offline"!==t.type&&r.Su(t)};var e=Ks(i.uid);y(e)?r.wb=Bl++:r.wb=e,r.Cp=i,r.xM=new mE;var u=IT.HP,s=new qE;r.BM=new rm("2.78.0",u,s),r.tS=new uE(u,i.allowMixedContent),r._M=new Ly(i.isEmbeddable,"2.78.0",Dy()),r.LM=new HE(u,r._M,r.BM,s,i,Dy()),r.LM.yM().catch(r.DM),r.MM=new GT(n),r.MM.Iu("ZP",r.OM),r.QL=new RE,r.nM=new DE;var o=new gy(n,i,r.tS,r.xM);o=new NE(o,r.UM),o=new CE(o,r.iM),r.CM=o,r.Ov=new e_(r.CM),r.Ov.Sa(r.PM),r.FM=new cc(st(r)),r.VM=new aE(r.Ov,r.tS),r.HM=new PT(st(r)),r.qM=new $T(st(r)),r.WM=new nE(r.qM),r.MM.Js();var a=new Pt(1,["video"]);return r.XM=new xt(a),r.GM=new xE,r}ut(n,t);var i=n.prototype;return i.pL=function(t){this.Ov.Yy=t,t||this.Qy||this.kT()},i.LL=function(t){this.Ov.tm=t},i.zM=function(){iv(this,Jf,this)},i.dT=function(){this.Ov.dT()},i.lT=function(){this.Ov.lT()},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return this.LM.ZN(n).catch(this.DM),n=XE(n),t.next=5,this.Ov.wT(n,i);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kT=function(){this.rT||(this.Ov.kT(),this.XM.kT(),this.rT=!0)},i.jM=function(){return"fullscreen"===this.WM.iB()},i.Ix=function(){return this.jM()},i.TT=function(){this.Ov.TT()},i.ET=function(){this.Ov.ET()},i.ST=function(){return this.Ov.ST()},i.RT=function(){return this.Ov.RT()},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ov._T();case 2:return t.next=4,this.Ov.Fa();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),this.GM.Va(),this.tS.Va(),this.VM.Va(),this.qM.Va(),this.WM.Va(),this.MM.Va(),this.BM.Va(),this.XM.Va(),t.next=11,this.Ov.Va();case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"oT",get:function(){return this.IM},set:function(t){this.IM=t,this.Ov.oT=t}},{key:"YM",get:function(){return this.XM}},{key:"cT",get:function(){return this.Ov.cT}},{key:"QM",get:function(){return this.GM}},{key:"ZM",get:function(){return this.MM}},{key:"Cv",get:function(){return this.FM}},{key:"JM",get:function(){return this.VM}},{key:"fT",get:function(){return this.Ov.fT}},{key:"hT",get:function(){return this.Ov.hT}},{key:"xT",get:function(){return this.Ov.xT}},{key:"UM",get:function(){return this.QL}},{key:"iM",get:function(){return this.nM}},{key:"Gy",get:function(){return this.Ov.Gy},set:function(t){this.Ov.Gy=t}},{key:"BT",get:function(){return this.Ov.BT},set:function(t){this.Ov.BT=t}},{key:"OT",get:function(){return this.Ov.OT}},{key:"e_",get:function(){return this.Ov.e_}},{key:"LT",get:function(){return this.Ov.LT}},{key:"zy",get:function(){return this.Ov.zy}},{key:"Vu",get:function(){return this.Ov.Vu}},{key:"jy",get:function(){return this.Ov.jy}},{key:"Yy",get:function(){return this.Ov.Yy},set:function(t){t=Boolean(t),this.pL(t)}},{key:"Qy",get:function(){return this.Ov.Qy}},{key:"Zy",get:function(){return this.Ov.Zy},set:function(t){this.Ov.Zy=t}},{key:"FT",get:function(){return this.Ov.FT}},{key:"VT",get:function(){return this.Ov.VT},set:function(t){this.Ov.VT=u_(t)}},{key:"lc",get:function(){return this.Ov.lc}},{key:"HT",get:function(){return this.Ov.HT}},{key:"Jy",get:function(){return this.Ov.Jy}},{key:"rc",get:function(){return this.wb}},{key:"Ky",get:function(){return this.Ov.Ky}},{key:"$y",get:function(){return this.Ov.$y}},{key:"tm",get:function(){return this.Ov.tm},set:function(t){t=Rc(+t,0,1)||0,this.LL(t)}}]),n}(Cs);function XE(t){t.sources;var n=t.sources.filter(function(t){return void 0===t.integration});return t.sources=n,t}!function(t){t[t.KM=0]="KM",t[t.$M=1]="$M"}(ME||(ME={})),function(t){t[t.tU=0]="tU"}(UE||(UE={}));var GE={};function zE(t,n){(GE[n]||(GE[n]=[])).push(t)}function jE(t,n){var i=t;if(GE[n])for(var r=0,e=GE[n];r<e.length;r++){i=(0,e[r])(i)}return i}var YE=[];function QE(t){YE.push(t)}var ZE=t.CustomEvent;var JE,KE=function(){try{var t=new ZE("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?function(t,n){return new CustomEvent(t,n)}:function(t,n){var i=u.createEvent("CustomEvent");return n?i.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):i.initCustomEvent(t,!1,!1,void 0),i};(JE=Tt)&&JE.config({warnings:!1,longStackTraces:!1});JE&&(iS=JE.setScheduler(G),$E=iS,rS={UA:function(t){tS=t,$E(nS)},ND:nS=function(){var t=tS;t&&(tS=void 0,t())}},JE.setScheduler(rS.UA));var $E,tS,nS,iS,rS,eS=function(){function t(t,n){var i=this;this.nU=!1,this.iU=function(t){i.rU.LD(t.error,i.Gy)},this.eU=function(){i.rU.PD(i.uU),i.Ev.removeEventListener("playing",i.eU),i.nU=!1},this.sU=function(){i.nU||(i.Ev.addEventListener("playing",i.eU),i.nU=!0)},this.rU=n,this.Ev=t,this.Ev.addEventListener("error",this.iU),this.Ev.addEventListener("sourcechange",this.sU),this.sU()}return t.prototype.Fa=function(){},b(t,[{key:"Gy",get:function(){var t=this.Ev.currentTime;return"number"==typeof t&&isFinite(t)?t:"now"}},{key:"uU",get:function(){return this.Ev.src||""}}]),t}();QE(function(t){new eS(t.Na,t.BM)});var uS="theoplayer-stored-volume",sS="theoplayer-stored-mutedstate";zE(function(t){return function(t){function n(n,i){var r;if(r=t.call(this,n,i)||this,i.persistVolume){var e=LE.dM(uS);(void 0===e||y(e))&&(e=1);var u=LE.lM(sS)||!1;r.tm=e,r.Yy=u}return r}ut(n,t);var i=n.prototype;return i.pL=function(n){this.Cp.persistVolume&&LE.Kf(sS,n),t.prototype.pL.call(this,n)},i.LL=function(n){this.Cp.persistVolume&&LE.Kf(uS,n),t.prototype.LL.call(this,n)},n}(t)},ME.$M);var oS=new(function(){function t(){this.oU=[],this.Ia=void 0}var n=t.prototype;return n.Ba=function(t){return this.oU[t]},n.aU=function(t){this.oU.push(t),this.Na.push(t.Na)},n.Hs=function(t){var n=this.oU.indexOf(t);n<0||(bn(this.oU,n),this.Ia&&bn(this.Ia,n))},n.cU=function(t){for(var n=0,i=this.oU;n<i.length;n++){var r=i[n];if(r.rc===t)return r}},b(t,[{key:"qa",get:function(){return this.oU.length}},{key:"Na",get:function(){return this.Ia||(this.Ia=function(t){for(var n=[],i=0;i<t.qa;i++)n[i]=t.Ba(i).Na;return n.getPlayerByUID=function(n){var i=t.cU(n);return i&&i.Na},n}(this)),this.Ia}}]),t}());var aS,cS=function(t){function n(n){var i;return(i=t.call(this,Ia.Wh)||this).source=n,i}return ut(n,t),n}(Un),hS=function(t){function n(){var n;return(n=t.call(this)||this).hU=0,n.fU=!0,n.vU=!1,n.dU=1,n}ut(n,t);var i=n.prototype;return i.dT=function(){this.fU&&(this.fU=!1,this.Su(new Ja(this.Gy)),this.Su(new af(this.Gy)))},i.lT=function(){this.fU||(this.fU=!0,this.Su(new sf(this.Gy,this.BT)),this.Su(new of(this.Gy)))},i.Fa=function(){this.hU=0,this.vU=!1,this.dU=1,this.lT(),this.Su(new rf(this.hU))},i.Va=function(){this.Du()},i.ET=function(){},i.TT=function(){},i.Sa=function(t){this.Iu("emptied",t),this.Iu("pause",t),this.Iu("play",t),this.Iu("seeking",t),this.Iu("timeupdate",t),this.Iu("waiting",t)},i.Ra=function(t){this.Cu("emptied",t),this.Cu("pause",t),this.Cu("play",t),this.Cu("seeking",t),this.Cu("timeupdate",t),this.Cu("waiting",t)},b(n,[{key:"BT",get:function(){},set:function(t){}},{key:"Gy",get:function(){return this.hU},set:function(t){this.hU!==t&&(this.hU=t,this.vU=!0,this.Su(new Qf(this.Gy)))}},{key:"Qy",get:function(){return this.fU}},{key:"Zy",get:function(){return this.dU},set:function(t){this.dU!==t&&(this.dU=t,this.Su(new Zf(this.Gy,this.Zy)))}},{key:"lc",get:function(){return Qa.yv}},{key:"Jy",get:function(){return this.vU}}]),n}(Mn),fS=function(t){function n(){return t.call(this,Ia.Sh)||this}return ut(n,t),n}(Un),vS={zIndex:"1",display:"inline-block",verticalAlign:"middle",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundSize:"contain",cursor:"pointer",margin:"0",padding:"0",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",height:"100%"},dS={visibility:"hidden"},lS={visibility:"visible"},_S=function(){function t(t){var n,i=this;this.lU=!1,this._U=function(t){i.lU=!1,i.gU=t.source&&t.source.poster,i.qs()},this.SR=function(){i.lU=!0,i.ET()},this.Ev=t,this.yN(),this.YI=((n=Lt&&Lt.document&&Lt.document.createElement("div")).className="theoplayer-poster",fe(vS,n),n),t.LT.appendChild(this.YI)}var n=t.prototype;return n.qs=function(){var t=this.Ev.Qy,n=this.lU;this.Zl?this.YI.style.backgroundImage='url("'+this.Zl.replace(/[\\"]/g,function(t){return"\\"+t})+'")':this.YI.style.backgroundImage="",t&&this.Zl&&!n?this.TT():this.ET()},n.TT=function(){fe(dS,this.Ev.LT),fe(lS,this.YI)},n.ET=function(){fe(dS,this.YI),fe(lS,this.Ev.LT)},n.yN=function(){this.Ev.Iu("sourcechange",this._U),this.Ev.Iu("play",this.SR)},n.Va=function(){this.Ev.Cu("sourcechange",this._U),this.Ev.Cu("play",this.SR),ae(this.YI)},b(t,[{key:"Zl",get:function(){return void 0!==this.gU?this.gU:void 0!==this.wU?this.wU:void 0}},{key:"yU",set:function(t){this.wU=t,this.qs()}}]),t}();function gS(t){return function(n){function i(i,r){var e;return(e=n.call(this,i)||this).mU=new t(i,r),e.pU=new hS,e.Ev=e.mU,e.kU=new _S(st(e)),e.nR=new m_,e.AU=!1,e.bU=[],e.hN=!0,e.cN=void 0,e.yN(),e}ut(i,n);var r=i.prototype;return r.oE=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.nR.oE(n,i).catch(On));case 1:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.TU=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(i),r=function(t){e.bU.push(t)},this.mU.Sa(r),t.next=5,this.mU.wT(n,i);case 5:this.mU.Ra(r);case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),r.EU=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.gT())&&!yf(n)&&this.oT&&this.Qy){t.next=3;break}return t.abrupt("return");case 3:return i=n.mutedAutoplay||this.Cp.mutedAutoplay,t.next=6,this.YM.SU();case 6:r=t.sent,t.t0=r,t.next="all"===t.t0?10:"muted"===t.t0?12:14;break;case 10:return this.RU(),t.abrupt("break",14);case 12:return(this.Yy||i===jf.ALL)&&(this.Yy=!0,this.dT()),t.abrupt("break",14);case 14:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.wT=function(t){var n=this,i=this.cN;i&&!yf(i)&&this.Su(new rf(0,0)),this.Fa(),this.cN=t,Dr(this.oE(function(){var i=Tt.coroutine(bt.mark(function i(r){return bt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return Dn(r),i.prev=1,i.next=4,n.TU(t,r);case 4:i.next=10;break;case 6:throw i.prev=6,i.t0=i.catch(1),n.cN=void 0,i.t0;case 10:return i.next=12,n.IU();case 12:case"end":return i.stop()}},i,null,[[1,6]])}));return function(t){return i.apply(this,arguments)}}()))},r.IU=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.NU(this.mU),this.Su(new cS(this.gT())),t.next=4,this.EU();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),r.vL=function(t){this.Ev.Gy=t},r.gL=function(){return this.mU.Vu},r.wL=function(){return this.mU.jy},r.dT=function(){this.Ev.dT()},r.RU=function(){this.Yy||this.kT(),this.dT()},r.kT=function(){this.mU.kT()},r.lT=function(){this.Ev.lT()},r._T=function(){this.wT(void 0)},r.TT=function(){this.hN=!0,this.Ev.TT()},r.ET=function(){this.hN=!1,this.Ev.ET()},r.zM=function(){this.mU.zM()},r.LL=function(t){this.mU.LL(t)},r.pL=function(t){this.mU.pL(t)},r.DU=function(t){this.CU=t,t.aU(this)},r.jM=function(){return this.mU.jM()},r.Ix=function(){return this.mU.Ix()},r.gT=function(){return this.cN},r.ST=function(){return this.mU.ST()},r.RT=function(){return this.mU.RT()},r.fL=function(){return this.mU.Gy},r.dL=function(){return this.mU.e_},r.oL=function(){return this.mU.xT},r.EL=function(){return this.mU.FT},r.NL=function(){return this.mU.HT},r.Fa=function(){var t=this;this.cN=void 0,Sn(this.bU),this.pU.Fa(),this.NU(this.pU),this.nR.fs(),Dr(this.nR.oE(function(){var n=Tt.coroutine(bt.mark(function n(i){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Dn(i),n.next=3,t.mU.Fa();case 3:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))},r.Va=function(){var t=this;this.Su(new fS),this.kU.Va(),this.pN(),this.Fa(),Dr(this.oE(Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mU.Va();case 2:t.CU&&(t.CU.Hs(t),t.CU=void 0),t.nR.Va();case 4:case"end":return n.stop()}},n)})))),this.Du()},r.NU=function(t){if(this.Ev!==t){var n=this.Ev.Qy,i=this.Ev.Gy,r=this.Ev.Zy;this.pN(),t===this.mU?(t.Gy!==i&&(t.Gy=i),t.Zy!==r&&(t.Zy=r),n?t.lT():t.dT()):this.Cp.retainPlaybackRateOnSourceChange?t.Zy=r:1!==r&&this.Su(new Zf(this.fL(),1)),this.Ev=t,this.yN();for(var e=0,u=this.bU;e<u.length;e++){var s=u[e];this.Su(s)}Sn(this.bU),this.hN?t.TT():t.ET()}},r.yN=function(){this.Ev.Sa(this.Eu)},r.pN=function(){this.Ev.Ra(this.Eu)},r.Da=function(){return t=this,r=function(n){i=n;var r=qf(n,t.Cp);t.wT(r)},e={get abr(){return t.xM.Na},get audioTracks(){return t.cT.Na},get autoplay(){return t.oT},set autoplay(n){t.oT=Boolean(n)},get buffered(){return t.oL()},get canvas(){return t.HM.Na},get clip(){return t.UM.Na},get currentProgramDateTime(){var n;return null!==(n=t.BT)&&void 0!==n?n:null},set currentProgramDateTime(n){t.BT=null!=n?n:void 0},get currentTime(){return t.fL()},set currentTime(n){t.vL(Number(n))},get duration(){return t.dL()},get element(){return t.LT},get ended(){return t.zy},get error(){return t.gL()},get errorObject(){return t.wL()},get loop(){return t.iM.iM},set loop(n){t.iM.iM=Boolean(n)},get metrics(){return t.Cv.Na},get muted(){return t.Yy},set muted(n){t.pL(n)},get network(){return t.JM.Na},get paused(){return t.Qy},get playbackRate(){return t.Zy},set playbackRate(n){var i=Number(n);if(i<0)throw new RangeError("playbackRate must be a positive number");t.Zy=i},get played(){return t.EL()},get poster(){return t.OU},set poster(n){t.OU=to(n)},get preload(){return t.VT},set preload(n){t.VT=n},get presentation(){return t.WM.Na},get readyState(){return t.lc},get seekable(){return t.NL()},get seeking(){return t.Jy},get source(){return i},set source(t){r(t)},get src(){return Sf(t.gT())},set src(t){r({sources:t})},get textTracks(){return t.fT.Na},get uid(){return t.rc},get videoHeight(){return t.Ky},get videoTracks(){return t.hT.Na},get videoWidth(){return t.$y},get volume(){return t.tm},set volume(n){t.LL(Number(n))},destroy:function(){t.Va(),t=null,i=void 0},play:function(){t.RU()},pause:function(){t.lT()},stop:function(){i=void 0,t._T()},prepareWithUserAction:function(){t.kT()},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)},setSource:function(t){r(t)}},(n=new sc(e,!0)).Ka(t),e;var t,n,i,r,e},b(i,[{key:"BM",get:function(){return this.mU.BM}},{key:"HM",get:function(){return this.mU.HM}},{key:"Cp",get:function(){return this.mU.Cp}},{key:"CM",get:function(){return this.mU.CM}},{key:"tS",get:function(){return this.mU.tS}},{key:"qM",get:function(){return this.mU.qM}},{key:"WM",get:function(){return this.mU.WM}},{key:"MM",get:function(){return this.mU.MM}},{key:"Ov",get:function(){return this.mU.Ov}},{key:"xM",get:function(){return this.mU.xM}},{key:"oT",get:function(){return this.mU.oT},set:function(t){this.mU.oT=t,this.EU()}},{key:"YM",get:function(){return this.mU.YM}},{key:"cT",get:function(){return this.mU.cT}},{key:"QM",get:function(){return this.mU.QM}},{key:"ZM",get:function(){return this.mU.MM}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"Cv",get:function(){return this.mU.Cv}},{key:"JM",get:function(){return this.mU.JM}},{key:"fT",get:function(){return this.mU.fT}},{key:"hT",get:function(){return this.mU.hT}},{key:"UM",get:function(){return this.mU.UM}},{key:"iM",get:function(){return this.mU.iM}},{key:"BT",get:function(){return this.Ev.BT},set:function(t){this.Ev.BT=t}},{key:"OT",get:function(){return this.mU.OT}},{key:"LT",get:function(){return this.mU.LT}},{key:"zy",get:function(){return this.mU.zy}},{key:"Yy",get:function(){return this.mU.Yy},set:function(t){this.mU.Yy=t}},{key:"Qy",get:function(){return this.Ev.Qy}},{key:"OU",get:function(){return this.kU.Zl||""},set:function(t){this.kU.yU=t}},{key:"Zy",get:function(){return this.mU.Zy},set:function(t){this.Ev.Zy=t}},{key:"VT",get:function(){return this.mU.VT},set:function(t){this.mU.VT=u_(t)}},{key:"lc",get:function(){return this.Ev.lc}},{key:"Jy",get:function(){return this.Ev.Jy}},{key:"rc",get:function(){return this.mU.rc}},{key:"Ky",get:function(){return this.mU.Ky}},{key:"$y",get:function(){return this.mU.$y}},{key:"tm",get:function(){return this.mU.tm},set:function(t){this.mU.tm=t}}]),i}(Cs)}function wS(t,n){var i=Kf(n),r=new(aS||(aS=jE(aS=gS(WE),ME.KM),aS=jE(aS,ME.$M)),aS)(t,i),e=r.Na;return r.zM(),r.DU(oS),l.defineProperty(e,"constructor",{value:wS}),e=Xs(e),function(t){for(var n=0;n<YE.length;n++)(0,YE[n])(t)}(r),e}Nr(function(){t.dispatchEvent&&t.dispatchEvent(KE("theoplayerready"))});var yS={base64:new(function(){function t(){}var n=t.prototype;return n.encode=function(t){return $n(t)},n.decode=function(t){return Jn(t)},t}())},mS=oS.Na,pS=Xo.Oc.registerContentProtectionIntegration.bind(Xo.Oc),kS=!!("ontouchstart"in t||t.DocumentTouch&&u instanceof t.DocumentTouch)||!(!o||!o.msMaxTouchPoints),AS=we(),bS=!(!AS||!AS.webkitShowPlaybackTargetPicker),TS=function(){function t(){this.PU=new Mc(2,1),this.xU=!1,this.pt=kS,this.Pt=!1,this.BU=!0,this.LU=!1}var n=t.prototype;return n.MU=function(t,n){return!0},n.UU=function(t){return t.Sd(Mc.Pd.Dd(2))},b(t,[{key:"FU",get:function(){return e.devicePixelRatio||1}},{key:"VU",get:function(){return bS}}]),t}(),ES=function(){var t=ge();if(!t)return!1;var n=t.muted;return t.muted=!n,t.muted!==n}();!function(){if(O.Nt)return!1;var t=ge();if(!t)return!1;var n=t.volume;t.volume=n/2+.1,t.volume}();var SS=function(t){function n(n){var i;return(i=t.call(this)||this).HU=n||null,i.HU&&(i.PU=i.HU.PU,i.xU=i.HU.xU,i.pt=i.HU.pt,i.BU=ES&&i.HU.BU,i.LU=O.jt),i}ut(n,t);var i=n.prototype;return i.MU=function(n,i){return this.HU?this.HU.MU(n,i):t.prototype.MU.call(this,n,i)},i.UU=function(n){return this.HU?this.HU.UU(n):t.prototype.UU.call(this,n)},n}(TS),RS=function(t){function n(n){var i;return(i=t.call(this,n)||this).xU=!0,i.Pt=!0,i}return ut(n,t),n}(SS),IS=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n}(TS),NS=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.MU=function(t,n){if(t&&t.qU&&n&&n.qU){var i=DS(t.qU,"mp4a.40.2")&&DS(n.qU,"mp4a.40.5"),r=DS(t.qU,"mp4a.40.5")&&DS(n.qU,"mp4a.40.2"),e=DS(t.qU,"mp4a.40.2")&&DS(n.qU,"mp4a.40.34"),u=DS(t.qU,"mp4a.40.34")&&DS(n.qU,"mp4a.40.2"),s=DS(t.qU,"mp4a.40.5")&&DS(n.qU,"mp4a.40.34"),o=DS(t.qU,"mp4a.40.34")&&DS(n.qU,"mp4a.40.5");return!(i||r||e||u||s||o)}return!0},n}(IS);function DS(t,n){return t.indexOf(n)>-1}var CS,OS=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.UU=function(t){return t.Sd(new Mc(2))},n}(IS),PS=function(t){function n(){var n;return(n=t.call(this)||this).xU=O.Xt>=11,n.BU=O.Wt&&!(O.Ct&&O.Xt<10),n}return ut(n,t),n}(IS),xS=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.MU=function(n,i){return!(i.q_>1920)&&t.prototype.MU.call(this,n,i)},n}(SS);var BS=O.Ht?new NS:O.Mt||O.Ut?new OS:O.Wt?new PS:null;CS=O.Pt?new RS(BS):O.IS_TIZEN?new xS(BS):new SS(BS);var LS=function(t){function n(n){var i;return(i=t.call(this)||this).Pk=void 0,i.Ia=void 0,i.xk=!1,i.Bk="",i.WU=function(){i.qk=!0},i.XU=function(){i.qk=!1},i.GU=n,i.GU.addEventListener("enter",i.WU),i.GU.addEventListener("exit",i.XU),i}ut(n,t);var i=n.prototype;return i.Da=function(){return yv(this)},i.if=function(t){return this===t||Qs(this,t)&&kv(this,t)},i.Va=function(){this.Du(),this.GU.removeEventListener("enter",this.WU),this.GU.removeEventListener("exit",this.XU)},b(n,[{key:"u_",get:function(){return this.GU.startTime},set:function(t){this.GU.startTime=t}},{key:"Ck",get:function(){return this.GU.endTime},set:function(t){this.GU.endTime=t}},{key:"Ok",get:function(){return this.GU.text},set:function(t){this.GU.text=t+""}},{key:"Xk",get:function(){return!!this.GU.pauseOnExit},set:function(t){this.GU.pauseOnExit=!!t}},{key:"Ca",get:function(){return this.Pk},set:function(t){this.Pk=t}},{key:"ic",get:function(){return this.GU.id||""},set:function(t){this.GU.id=t||""}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"Wk",get:function(){return this.Bk},set:function(t){this.Bk=t}},{key:"qk",get:function(){return this.xk},set:function(t){this.qk!==t&&(this.xk=t,t?(this.Su(new dl(this,this.u_)),this.Pk&&this.Pk.Su(new Sl(this))):(this.Su(new _l(this,this.Ck)),this.Pk&&this.Pk.Su(new Il(this))))}}]),n}(Ds);function MS(t){if(t){var n=t.THEOplayerVTTRegion;return n||(n=new FS(t),t.THEOplayerVTTRegion=n),n}}var US,FS=function(){function t(t){this.Ia=void 0,this.zU=t}return b(t,[{key:"jU",get:function(){return this.zU}},{key:"ic",get:function(){return this.zU.id||""}},{key:"q_",get:function(){return+this.zU.width||0},set:function(t){this.zU.width=t||0}},{key:"_A",get:function(){return+this.zU.lines||0},set:function(t){this.zU.lines=t||0}},{key:"gA",get:function(){return+this.zU.regionAnchorX||0},set:function(t){this.zU.regionAnchorX=t||0}},{key:"wA",get:function(){return+this.zU.regionAnchorY||0},set:function(t){this.zU.regionAnchorY=t||0}},{key:"mA",get:function(){return+this.zU.viewportAnchorX||0},set:function(t){this.zU.viewportAnchorX=t||0}},{key:"pA",get:function(){return+this.zU.viewportAnchorY||0},set:function(t){this.zU.viewportAnchorY=t||0}},{key:"yA",get:function(){return this.zU.scroll||""}},{key:"Na",get:function(){return this.Ia||(this.Ia=Jv(this)),this.Ia}}]),t}(),VS=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"lA",get:function(){return this.GU.vertical||""},set:function(t){this.GU.vertical=t||""}},{key:"dA",get:function(){return!!this.GU.snapToLines},set:function(t){this.GU.snapToLines=!!t}},{key:"aA",get:function(){return this.GU.line},set:function(t){this.GU.line=t}},{key:"Ju",get:function(){return+this.GU.size},set:function(t){this.GU.size=Rc(t,0,100)}}]),n}(LS),HS=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),n.prototype.if=function(n){return this===n||Qs(this,n)&&t.prototype.if.call(this,n)&&Gv(this,n)},b(n,[{key:"vA",get:function(){return MS(this.GU.region)}},{key:"cA",get:function(){return this.GU.lineAlign||"start"},set:function(t){this.GU.lineAlign=t||"start"}},{key:"hA",get:function(){return this.GU.position},set:function(t){this.GU.position=t}},{key:"fA",get:function(){return this.GU.positionAlign||"auto"},set:function(t){this.GU.positionAlign=t||"auto"}},{key:"oA",get:function(){return this.GU.align||"center"},set:function(t){this.GU.align=t||"center"}},{key:"Na",get:function(){return this.Ia||(this.Ia=Xv(this)),this.Ia}}]),n}(VS),qS=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),n.prototype.if=function(n){return this===n||Qs(this,n)&&t.prototype.if.call(this,n)&&Gv(this,n)},b(n,[{key:"vA",get:function(){return MS(this.jU)}},{key:"jU",get:function(){return function(t,n){if(void 0!==n){var i=t&&t.regions;return i&&i.getRegionById(n)||void 0}}(this.GU.track,this.GU.regionId)}},{key:"cA",get:function(){return"middle"===(t=this.GU.lineAlign||"start")?"center":t;var t},set:function(t){var n;this.GU.lineAlign="center"===(n=t||"start")?"middle":n}},{key:"hA",get:function(){return this.GU.position},set:function(t){var n,i;this.GU.position=(n=t,i=this.oA,Wv(n,i))}},{key:"fA",get:function(){return t=this.GU.positionAlign||"middle",Hv[t];var t},set:function(t){var n,i;this.GU.positionAlign=(n=t||"center",i=this.oA,Vv[qv(n,i)])}},{key:"oA",get:function(){return"middle"===(t=this.GU.align||"middle")?"center":t;var t},set:function(t){var n;this.GU.align="center"===(n=t||"center")?"middle":n}},{key:"Na",get:function(){return this.Ia||(this.Ia=Xv(this)),this.Ia}}]),n}(VS),WS=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).YU=i,r}return ut(n,t),n.prototype.if=function(n){return this===n||Qs(this,n)&&t.prototype.if.call(this,n)&&cy(this,n)},b(n,[{key:"Ok",get:function(){return this.YU}},{key:"Na",get:function(){return this.Ia||(this.Ia=ay(this)),this.Ia}}]),n}(LS);function XS(t){switch(t){case 0:case 1:case 2:case 3:return!0}return!1}function GS(t){switch(t){case 0:return $i;case 1:return ir;case 2:return rr;case 3:return hr}}function zS(t,n){var i=n.rs,r=t.byteLength,e=lr(t);return n.$u(r-i),wr(e,i,r).buffer}function jS(t,n){return{id:t||"",data:n instanceof ArrayBuffer?n:void 0}}function YS(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r);return{id:i,language:Ji(t,n,3),description:e(t,n),text:e(t,n)}}}function QS(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r);return{id:i,mimeType:$i(t,n),fileName:e(t,n),description:e(t,n),data:zS(t,n)}}}function ZS(t,n,i){var r=Fi(t,n);if(XS(r)){for(var e=GS(r),u=[];n.rs<t.byteLength;)u.push({involvement:e(t,n),involvee:e(t,n)});return{id:i,entries:u}}}function JS(t,n,i){var r=Fi(t,n);if(XS(r)){for(var e=GS(r),u=Ji(t,n,3),s=Fi(t,n),o=Fi(t,n),a=e(t,n),c=!1,h=[];n.rs<t.byteLength;){var f=void 0;if(1===r){var v=nr(t,n);void 0===v?v=c:c=v,f=rr(t,n,v)}else f=e(t,n);if(!f||n.rs+4>t.byteLength)break;h.push({text:f,timestamp:ji(t,n)})}return{id:i,language:u,format:s,contentType:o,description:a,entries:h}}}function KS(t,n,i){return{id:i,ownerIdentifier:$i(t,n),identifier:zS(t,n)}}function $S(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r);return{id:i,language:Ji(t,n,3),description:e(t,n),text:e(t,n)}}}function tR(t,n,i){var r=Fi(t,n);if(XS(r))return{id:i,text:GS(r)(t,n)}}function nR(t,n,i){return{id:i,url:$i(t,n)}}function iR(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r);return{id:i,description:e(t,n),text:e(t,n)}}}function rR(t,n,i){var r=Fi(t,n);if(XS(r))return{id:i,description:GS(r)(t,n),url:$i(t,n)}}function eR(t,n,i){switch(i){case"COM":return YS(t,n,i);case"GEO":return QS(t,n,i);case"IPL":return ZS(t,n,i);case"PIC":return function(t,n,i){var r=Fi(t,n);if(XS(r)){var e,u,s=GS(r),o=Ji(t,n,3),a=Fi(t,n),c=s(t,n);return"--\x3e"===o?(e=o,u=$i(t,n)):(e="image/"+o.toLowerCase(),u=zS(t,n)),{id:i,mimeType:e,pictureType:a,description:c,data:u}}}(t,n,i);case"SLT":return JS(t,n,i);case"TXX":return iR(t,n,i);case"UFI":return KS(t,n,i);case"ULT":return $S(t,n,i);case"WXX":return rR(t,n,i);default:if("T"===i.charAt(0))return tR(t,n,i);if("W"===i.charAt(0))return nR(t,n,i)}}function uR(t,n,i){switch(i){case"APIC":return function(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r),u=$i(t,n);return{id:i,mimeType:u,pictureType:Fi(t,n),description:e(t,n),data:"--\x3e"===u?$i(t,n):zS(t,n)}}}(t,n,i);case"COMM":return YS(t,n,i);case"COMR":return function(t,n,i){var r=Fi(t,n);if(XS(r)){var e,u,s=GS(r),o=$i(t,n),a=Ji(t,n,8),c=$i(t,n),h=Fi(t,n),f=s(t,n),v=s(t,n);return n.rs<t.byteLength&&(e=$i(t,n)||"image/",u=zS(t,n)),{id:i,price:o,validUntil:a,contactURL:c,receivedAs:h,nameOfSeller:f,description:v,pictureMimeType:e,sellerLogo:u}}}(t,n,i);case"GEOB":return QS(t,n,i);case"IPLS":return ZS(t,n,i);case"PRIV":return function(t,n,i){return{id:i,ownerIdentifier:$i(t,n),data:zS(t,n)}}(t,n,i);case"POSS":return function(t,n,i){return{id:i,format:Fi(t,n),position:ji(t,n)}}(t,n,i);case"SYLT":return JS(t,n,i);case"TXXX":return iR(t,n,i);case"UFID":return KS(t,n,i);case"USER":return function(t,n,i){var r=Fi(t,n);if(XS(r)){var e=GS(r);return{id:i,language:Ji(t,n,3),text:e(t,n)}}}(t,n,i);case"USLT":return $S(t,n,i);case"WXXX":return rR(t,n,i);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return tR(t,n,i);default:var r=i.charAt(0);if("T"===r)return tR(t,n,i);if("W"===r)return nR(t,n,i)}}!function(t){t[t.V22=2]="V22",t[t.V23=3]="V23",t[t.V24=4]="V24"}(US||(US={}));var sR=10;function oR(t,n){return(127&Fi(t,n))<<21|(127&Fi(t,n))<<14|(127&Fi(t,n))<<7|127&Fi(t,n)}function aR(t,n){switch(t){case US.V24:return{QU:Ui(n,0),ZU:Ui(n,1),JU:Ui(n,2),KU:Ui(n,3)};case US.V23:return{QU:Ui(n,0),ZU:Ui(n,1),JU:Ui(n,2)};case US.V22:return{QU:Ui(n,0),$U:Ui(n,1)}}}function cR(t,n,i){switch(i.Em){case US.V23:i.Sm.ZU&&function(t,n){var i=n.rs,r=ji(t,n)+4,e=32768&Gi(t,n);n.ts(i+r),e&&ji(t,n)}(t,n);break;case US.V24:i.Sm.ZU&&function(t,n){var i=n.rs,r=oR(t,n);n.ts(i+r)}(t,n)}}function hR(t,n){if(t.byteLength-n.rs<sR)return null;if(73!==Fi(t,n)||68!==Fi(t,n)||51!==Fi(t,n))return null;var i=Fi(t,n),r=Fi(t,n);if(!function(t){switch(t){case US.V22:case US.V23:case US.V24:return!0}return!1}(i))return null;var e=Fi(t,n),u=oR(t,n);return{Em:i,tF:r,Sm:aR(i,e),nF:u}}function fR(t,n,i){switch(i.Em){case US.V22:return function(t,n,i){return{ic:Ji(t,n,3),Ju:Xi(t,n,3)}}(t,n);case US.V23:return function(t,n,i){var r=Ji(t,n,4),e=ji(t,n),u=(Fi(t,n),Fi(t,n));return{ic:r,Ju:e,Sm:{$U:Ui(u,0),iF:Ui(u,1),groupingIdentity:Ui(u,2)}}}(t,n);case US.V24:return function(t,n,i){var r=Ji(t,n,4),e=oR(t,n),u=(Fi(t,n),Fi(t,n));return{ic:r,Ju:e,Sm:{groupingIdentity:Ui(u,1),$U:Ui(u,4),iF:Ui(u,5),QU:Ui(u,6),rF:Ui(u,7)}}}(t,n)}}function vR(t){for(var n=new m(t.byteLength),i=0,r=0;r<t.byteLength;r++){var e=t.getUint8(r);255===e&&r++,n[i]=e,i++}return new DataView(n,0,i)}function dR(t,n){var i=hR(t,n=n||new mr);return i?{xm:i,eF:function(t,n,i){var r=[],e=n.rs,u=vr(t,e,e+i.nF),s=new mr;switch(n.$u(i.nF),i.Em){case US.V22:case US.V23:i.Sm.QU&&(u=vR(u))}cR(t,n,i);for(;s.rs<u.byteLength;)r.push(lR(u,s,i));return r}(t,n,i)}:null}function lR(t,n,i){var r,e,u=fR(t,n,i),s=n.rs,o=vr(t,s,s+u.Ju);switch(n.$u(u.Ju),i.Em){case US.V22:var a=u;r=eR(e=o,new mr,a.ic);break;case US.V23:var c=u,h=new mr;!function(t,n,i){var r,e,u,s=i.Sm;s.$U&&(r=ji(t,n)),s.iF&&(e=Fi(t,n)),s.groupingIdentity&&(u=Fi(t,n))}(o,h,c),r=uR(e=vr(o,h.rs,o.byteLength),new mr,c.ic);break;case US.V24:var f=u,v=new mr;f.Sm.QU&&(o=vR(o)),function(t,n,i){var r,e,u,s,o=i.Sm;o.groupingIdentity&&(r=Fi(t,n)),o.$U&&(e=ji(t,n)),o.iF&&(u=Fi(t,n)),o.rF&&(s=oR(t,n))}(o,v,f),r=uR(e=vr(o,v.rs,o.byteLength),new mr,f.ic)}if(!r){var d=yr(lr(e));r=jS(u.ic,d.buffer)}return r}function _R(t){return function(t,n,i){return tR(t,n,i)}(new DataView(t.data),new mr,t.key)}function gR(t){switch(t.key){case"APIC":case"PIC":return function(t){return{id:t.key,mimeType:t.type,pictureType:16,description:t.info,data:t.data}}(t);case"GEOB":case"GEO":return function(t){return{id:t.key,mimeType:t.type,fileName:t.name,description:t.info,data:t.data}}(t);case"PRIV":return function(t){return{id:t.key,ownerIdentifier:t.info,data:t.data}}(t);case"TXXX":case"TXX":return function(t){return{id:t.key,description:t.info,text:t.data}}(t);case"WXXX":case"WXX":return function(t){return{id:t.key,description:t.info,url:t.data}}(t);case"YMID":case"YTYP":case"YSEQ":case"YDUR":case"YCSP":return _R(t);default:var n=t.key.charAt(0);if("T"===n)return function(t){return{id:t.key,text:t.data}}(t);if("W"===n)return function(t){return{id:t.key,url:t.data}}(t)}return function(t){return jS(t.key,t.data)}(t)}var wR="org.id3";var yR=function(t){function n(n,i,r){var e;return void 0===r&&(r=!0),(e=t.call(this)||this).vb=[],e.Ab=[],e.mb=oo.cc,e.pb=Ll.NONE,e.kb=void 0,e.zo="",e.uF=function(){e.sF(),e.zT.removeEventListener("cuechange",e.uF)},e.oF=function(){e.dc!==oo.cc&&(e.aF(),e.fb(),e.vb.length&&e.cF(Ll.LOADING))},e.hF=function(){e.cF(Ll.LOADED)},e.fF=function(){e.cF(Ll.ERROR)},e.zT=n,e.vF=r,e.zT.addEventListener("cuechange",e.uF),e.zT.addEventListener("cuechange",e.oF),e.dF=i,e.dF&&(e.kb=As(e.dF.src),e.dF.addEventListener("load",e.hF),e.dF.addEventListener("error",e.fF)),e.wb=xl(),e.Ib=n.label||"",e.Nb=new Ml(e.vb),e.Db=new Ml(e.Ab),e.dc=e.lF,Nr(function(){e.oF(),e.cF(Ll.NONE)}),e}ut(n,t);var i=n.prototype;return i.Da=function(){return fo(this)},i.sF=function(){var t=this.dc;this._F||t!==oo.fc?this.lF=t:this.lF=oo.hc},i.gF=function(){var t=this.dc,n=this.lF;t!==n&&(this._F||t!==oo.fc||n!==oo.hc)&&("metadata"===this.ec&&n===oo.cc?this.dc=t:this.dc=n)},i.wF=function(t){this.pb!==t&&(this.pb=t,this.Su(new ql(this,t)))},i.cF=function(t){var n=_.max(this.pb,this.yF,t);this.wF(n)},i.mF=function(t){return t&&t.THEOplayerTextTrackCue||void 0},i.pF=function(t){var n=this.mF(t);if(n)return n;if(M(n=this.kF(t)))for(var i=0,r=n;i<r.length;i++){r[i].Ca=this}else n.Ca=this;return t.THEOplayerTextTrackCue=n,n},i.kF=function(t){return(n=t)&&n.type===wR&&n.value?(this.ru="id3",function(t){var n;try{n=gR(t.value)}catch(t){n=jS("")}return new WS(t,n)}(t)):function(t){return!!(t&&t.data instanceof ArrayBuffer)}(t)?(this.ru="id3",function(t){var n=[];try{var i=dR(new DataView(t.data));if(i)for(var r=0,e=i.eF;r<e.length;r++){var u=e[r];n.push(new WS(t,u))}}catch(t){}return n}(t)):function(t){return"text"in t}(t)?(this.ru="webvtt",function(t){return function(t){return"regionId"in t}(t)}(t)?new qS(t):new HS(t)):new LS(t);var n},i.AF=function(t){var n=[];if(!t)return n;for(var i=t.length,r=0;r<i;r++){var e=this.pF(t[r]||t.item(r));if(M(e))for(var u=0;u<e.length;u++){var s=e[u];n.push(s)}else n.push(e)}return n},i.aF=function(){for(var t=this.AF(this.zT.cues),n=hl(this.vb,t),i=0,r=n.PA;i<r.length;i++){var e=r[i];this.Su(new Yl(e))}for(var u=0,s=n.OA;u<s.length;u++){var o=s[u];this.Su(new zl(o))}},i.fb=function(){for(var t=this.AF(this.zT.activeCues),n=hl(this.Ab,t),i=0,r=n.PA;i<r.length;i++){r[i].qk=!1}for(var e=0,u=n.OA;e<u.length;e++){u[e].qk=!0}(n.OA.length||n.PA.length)&&this.Su(new wl(this))},i.Va=function(){this.Du();for(var t=this.vb.slice(),n=0;n<t.length;n++){t[n].Va()}Sn(this.vb),Sn(this.Ab),this.zT.removeEventListener("cuechange",this.oF),this.dF&&(this.zT.removeEventListener("load",this.hF),this.zT.removeEventListener("error",this.fF))},b(n,[{key:"gc",get:function(){return this.Db}},{key:"Fb",get:function(){return this.dF?this.dF.default:void 0}},{key:"_c",get:function(){return this.Nb}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"ic",get:function(){return this.zT.id||this.dF&&this.dF.id||""}},{key:"rc",get:function(){return this.wb}},{key:"vc",get:function(){return this.zT.inBandMetadataTrackDispatchType||""}},{key:"ec",get:function(){return this.zT.kind||vf.xy}},{key:"uc",get:function(){return this.Ib},set:function(t){t!==this.uc&&(this.Ib=t,this.Su(new Ul(this)))}},{key:"sc",get:function(){return this.zT.language||""}},{key:"dc",get:function(){return this.mb},set:function(t){var n=this.dc;this.mb=co(t),this.sF();var i=this.dc;n!==i&&this.Su(new Vl(this)),i!==oo.cc&&this.cF(Ll.LOADING)}},{key:"lF",get:function(){return co(this.zT.mode)},set:function(t){this.zT.mode=t}},{key:"ZT",get:function(){return this.zT}},{key:"lc",get:function(){return this.pb}},{key:"yF",get:function(){return this.dF?+this.dF.readyState||Ll.NONE:Ll.LOADED}},{key:"wc",get:function(){return this.kb}},{key:"ru",get:function(){return this.zo},set:function(t){this.zo!==t&&(this.zo=t,this.Su(new Xl(this)))}},{key:"_F",get:function(){return this.vF},set:function(t){this.vF=t,this.sF()}}]),n}(Ds);function mR(t){return t instanceof yR}var pR=function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).ru="id3",r}ut(n,t);var i=n.prototype;return i.Bb=function(n){!function(t,n){if(0!==n.length){var i=n.length-1;if(n[i].u_<t.u_)hy(n,i,t.u_);else{var r=n[0];if(r.u_>t.u_)t.Ck=r.u_;else{var e=al(n,t);if(!(e>=0)){var u=-(e+1),s=u-1;if(s>=0&&n[s].u_<t.u_&&hy(n,s,t.u_),u<n.length){var o=n[u];t.Ck=o.u_}}}}}}(n,this.vb),t.prototype.Bb.call(this,n)},i.Da=function(){return fo(this)},n}(oy);function kR(t){var n=t&&t.THEOplayerTextTrackCue||void 0;if(n)return n;var i=t.startTime,r=gR(t.value);return t.THEOplayerTextTrackCue=new fy(i,r),t.THEOplayerTextTrackCue}var AR=function(t){function n(n){var i;return(i=t.call(this,n.inBandMetadataTrackDispatchType,n.label)||this).oF=function(){i.dc!==oo.cc&&(i.aF(),i.cF(Ll.LOADED))},i.zT=n,i.zT.addEventListener("cuechange",i.oF),i.dc=i.lF,Nr(function(){i.oF()}),i}ut(n,t);var i=n.prototype;return i.Ob=function(n){t.prototype.Ob.call(this,n),this.lF=this.dc},i.cF=function(t){this.lc=_.max(this.lc,t)},i.aF=function(){for(var t=function(t){for(var n=t.length,i=[],r=0;r<n;r++)i.push(kR(t[r]||t.item(r)));return wn(i,ol),i}(this.zT.cues),n=hl(this._c.Ha.slice(),t),i=0,r=n.PA;i<r.length;i++){var e=r[i];this.Mb(e)}for(var u=0,s=n.OA;u<s.length;u++){var o=s[u];this.Bb(o)}},i.Va=function(){this.zT.removeEventListener("cuechange",this.oF),t.prototype.Va.call(this)},b(n,[{key:"ic",get:function(){return this.zT.id||""}},{key:"vc",get:function(){return this.zT.inBandMetadataTrackDispatchType||""}},{key:"sc",get:function(){return this.zT.language||""}},{key:"lF",get:function(){return co(this.zT.mode)},set:function(t){this.zT.mode=t}},{key:"ZT",get:function(){return this.zT}}]),n}(pR),bR=function(t){function n(){return t.call(this)||this}return ut(n,t),n.prototype.bF=function(n){t.prototype.La.call(this,new AR(n))},n}(ov);var TR=["loadstart","encrypted","waitingforkey","webkitneedkey","msneedkey"],ER=function(){function t(t,n,i){var r=this;this.TF=!1,this.EF=new kr,this.nR=new m_,this.Ys=void 0,this.SF=function(){r.RF(!0)},this.IF=function(){for(var t=r.XR.Ha,n=0;n<t.length;n++){var i=t[n];r.XR.Ua(i)}},this.NF=function(t){var n=t.track,i=r.DF(n);r.CF(n,i)},this.OF=function(t){var n=function(t,n){for(var i=0,r=t.Ha;i<r.length;i++){var e=r[i];if(e.ZT===n)return e}}(r.XR,t.track);n&&r.XR.Ua(n)},this.PF=function(){for(var t=0;t<r.bI.qa;t++){var n=r.bI.Ba(t);n instanceof yR&&n.gF()}},this.xF=function(t){r.zb.La(t.Ca)},this.BF=function(t){r.zb.Ua(t.Ca)},this.mo=t,this.uR=n,this.Oo=n.vI,this.hu=i,this.zb=new Ol(n);for(var e=0;e<TR.length;e++){var u=TR[e];this.Oo.addEventListener(u,this.SF)}this.qA=new ec,this.XR=new ec,this.LF=new bR,this.MF=this.LF.im;var s=[this.XR,this.MF];this.UF=new i_(s),this.gI()}var i=t.prototype;return i.EI=function(t,n,i){var r=new Zl(t,n||"",i||"");return this.qA.La(r),this.zb.La(r),r},i.FF=function(t){this.qA.Ua(t),this.zb.Ua(t)},i.hR=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hu.wu(n.eu,i);case 2:return r=t.sent,t.next=5,r.to();case 5:return e=t.sent,t.next=8,this.VF(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.bu=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=0;n<TR.length;n++)i=TR[n],this.Oo.removeEventListener(i,this.SF);return t.next=3,this.nR.Va();case 3:for(this.II(),r=0,e=this.qA.Ha.slice();r<e.length;r++)u=e[r],this.FF(u);return this.XR.Va(),t.next=8,this.LF.Va();case 8:return t.next=10,this.HF();case 10:return t.next=12,this.VF(void 0);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.RF=function(t){t!==this.TF&&(this.TF=t,t?this.EF.cs(void 0):this.EF=new kr)},i.VF=function(t){var n=this;return this.nR.oE(function(){return n.qF(t)})},i.qF=function(){var t=Tt.coroutine(bt.mark(function t(i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||this.Oo.src){t.next=4;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to attach MediaKeys to a sourceless MediaElement");case 4:if(i||!this.Oo.src){t.next=6;break}throw new Ho(n.ErrorCode.CONTENT_PROTECTION_ERROR,"Attempted to remove MediaKeys from a non-empty MediaElement");case 6:if(!i||this.TF){t.next=9;break}return t.next=9,this.EF.as;case 9:if(!(r=this.Ys)){t.next=14;break}return t.next=13,r.Ks(this.Oo);case 13:this.Ys=void 0;case 14:if(!i){t.next=18;break}return t.next=17,i.Js(this.Oo);case 17:this.Ys=i;case 18:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.wT=function(t){var n=this;return this.nR.oE(function(){return n.WF(t)})},i.WF=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.RF(!1),this.Oo.src=n;case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Vs=function(){var t=this;return this.nR.oE(function(){return t.zO()})},i.zO=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Oo.load();case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.HF=function(){var t=this;return this.nR.oE(function(){return t.XF()})},i.XF=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.RF(!1),_e(this.Oo);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gI=function(){var t=this.Oo.textTracks;t&&t.addEventListener&&(t.addEventListener("addtrack",this.NF),t.addEventListener("removetrack",this.OF),t.addEventListener("change",this.PF)),this.Oo.addEventListener("emptied",this.IF),this.MF.Iu("Oa",this.xF),this.MF.Iu("Pa",this.BF)},i.II=function(){var t=this.Oo.textTracks;t&&t.removeEventListener&&(t.removeEventListener("addtrack",this.NF),t.removeEventListener("removetrack",this.OF),t.removeEventListener("change",this.PF)),this.Oo.removeEventListener("emptied",this.IF),this.MF.Cu("Oa",this.xF),this.MF.Cu("Pa",this.BF)},i.DF=function(t){for(var n=this.Oo.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.GF=function(t,n){this.XR.La(new yR(t,n))},i.zF=function(t){this.LF.bF(t)},i.CF=function(t,n){this.GF(t,n)},b(t,[{key:"cT",get:function(){throw new v("Not implemented")}},{key:"Cp",get:function(){return this.mo}},{key:"vI",get:function(){return this.Oo}},{key:"fT",get:function(){throw new v("Not implemented")}},{key:"AI",get:function(){return this.qA}},{key:"hT",get:function(){throw new v("Not implemented")}},{key:"jF",get:function(){return this.XR}},{key:"bI",get:function(){return this.UF}}]),t}();function SR(t){return t.cues&&t.cues.length>0}var RR,IR=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.ab=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=this.Cp,t.t0=n.mI,t.next=t.t0===lf.wv?4:t.t0===lf.gv?4:(t.t0,lf._v,6);break;case 4:return this.Oo.setAttribute("crossorigin",n.mI),t.abrupt("break",8);case 6:return this.Oo.removeAttribute("crossorigin"),t.abrupt("break",8);case 8:return void 0!==n.VT?this.Oo.preload=n.VT:this.Oo.preload=r_.WT,void 0!==n.pI?this.Oo.title=n.pI:de(this.Oo),t.next=12,this.wT(n.wc);case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bu=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return de(this.Oo),n.next=3,t.prototype.bu.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.CF=function(n,i){if(O.Wt){if(n.kind===vf.Uy)return void this.YF(n);if(n.kind===vf.By&&!SR(n))return void this.QF(n,i)}t.prototype.CF.call(this,n,i)},i.YF=function(t){t.mode=oo.hc,this.zF(t)},i.QF=function(t,n){var i=this;t.addEventListener("cuechange",function r(){SR(t)&&(t.removeEventListener("cuechange",r),i.GF(t,n))}),t.mode=oo.hc},b(n,[{key:"xT",get:function(){return EE.jf(this.Oo.buffered)}},{key:"e_",get:function(){return this.Oo.duration}},{key:"VT",get:function(){return this.Oo.preload},set:function(t){this.Oo.preload=t}},{key:"HT",get:function(){return EE.jf(this.Oo.seekable)}},{key:"ZF",get:function(){return this.xT}}]),n}(ER),NR=function(t){function n(n){var i;return(i=t.call(this,Ia.Lh)||this).currentTime=n,i}return ut(n,t),n}(Un),DR=function(t){function n(){return t.call(this,Ia.Ch)||this}return ut(n,t),n}(Un);!function(t){t.JF="KF"}(RR||(RR={}));var CR=function(t){function n(n){var i;return(i=t.call(this,RR.JF)||this).tV=n,i}return ut(n,t),n}(Un),OR=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).nV=EE.nL(),n}ut(n,t);var i=n.prototype;return i.iV=function(t,n){var i=new EE([t,n]);this.nV=this.nV.Cf(i),this.Su(new CR(i))},i.rV=function(t,n){this.nV=this.nV.Pf(new EE([t,n]))},i.Fa=function(){this.nV=EE.nL()},i.Va=function(){this.Du()},b(n,[{key:"eV",get:function(){return this.nV}}]),n}(Mn),PR=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.uV=function(t,n,i){return Tt.reject(new v("Invalid state"))},i.sV=function(){return Tt.reject(new v("Invalid state"))},i.oV=function(t,n){return Tt.reject(new v("Invalid state"))},i.aV=function(){return!1},i.cV=function(){},i.hV=function(t,n){},i.fV=function(t,n){},i.Hs=function(t,n,i){return Tt.resolve()},i.vV=function(t){},i.dV=function(t){},i.Va=function(){return Tt.resolve()},b(n,[{key:"xT",get:function(){return EE.nL()}},{key:"lV",get:function(){return!1}},{key:"_V",get:function(){return EE.nL()}},{key:"gV",get:function(){return!1}},{key:"Wx",get:function(){return!1}}]),n}(Mn),xR=function(){function t(t,n){this.wV=void 0,this.yV=n,this.mV=t}var n=t.prototype;return n.aV=function(){return!!this.wV&&this.xT.wf().kf(this.wV)},n.cV=function(){var t=this.xT;this.wV=t.qa>0?t.$h(t.qa-1):new Mc(0),this.yV.pV()},b(t,[{key:"xT",get:function(){var t=EE.jf(this.mV.buffered).Tf(new EE([Mc.xd,Mc.Bd])),n=this.wV;return void 0!==n&&t.qa>0&&t.$h(t.qa-1).if(n)&&(t=t.Cf(EE.Yf(n))),t}}]),t}(),BR="QuotaExceededError";function LR(t){return t&&t.name===BR}function MR(t,n){return void 0===n&&(n=new Qk({highWaterMark:1/0})),new Vk(new UR(t,n),{highWaterMark:0})}var UR=function(){function t(t,n){var i=this,r=n.size,e=void 0===r?function(){return 1}:r,u=n.highWaterMark,s=void 0===u?1:u;this.Er=[],this.oC=0,this.zP=void 0,this.kV=!1,this.AV=void 0,this.bV=function(t){return t.done?(i.Ir(),void i.zP.close()):(i.Er.push(t.value),i.oC+=i.TV(t.value),i.kV&&i.Ir(),i.EV()?i.JD.read().then(i.bV):void 0)},this.PO=function(t){i.Ir(),i.zP.error(t)},this.JD=t.getReader(),this.TV=e,this.SV=s}var n=t.prototype;return n.start=function(t){this.zP=t,this.EV()&&this.RV()},n.pull=function(){this.Er.length>0?this.Ir():this.kV=!0,this.EV()&&this.RV()},n.cancel=function(t){return Sn(this.Er),this.oC=0,this.kV=!1,this.JD.cancel(t)},n.Ir=function(){if(0!==this.Er.length){var t=this.Er;this.Er=[],this.oC=0,this.kV=!1,this.zP.enqueue(t)}},n.EV=function(){return!!this.kV||this.SV-this.oC>0},n.RV=function(){var t=this;if(!this.AV){var n=this.JD.read().then(this.bV).catch(this.PO);this.AV=n;var i=function(){t.AV===n&&(t.AV=void 0)};n.then(i,i)}},t}(),FR=20,VR=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).JB=FR,u.KB=cE,u.IV=!1,u.NV=!1,u.DV=void 0,u.CV=new Rr,u.OV=function(){u.IV=!1},u.uR=n,u.PV=r,u.xV=i,u.mV=e,u.mV.addEventListener("updateend",u.OV),u}ut(n,t);var i=n.prototype;return i.uV=function(t,n,i){var r=this;switch(t.ru){case 0:case 1:return this.BV(function(i){return r.LV(t,n,i)},i);case 2:throw new v("Opaque segments are not supported on web.")}},i.oV=function(t,n){var i=this;switch(t.ru){case 0:return this.BV(function(n){return i.MV(t,n)},n);case 1:throw new v("Streaming initialization segments are not supported on web.");case 2:throw new v("Opaque initialization segments are not supported on web.")}},i.MV=function(t,n){return this.UV(t.kn,0,void 0,void 0,n)},i.LV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.UV(n.kn,-i.rA,new Mc(i.FV),new Mc(i.e_),r);case 3:this.Su(new Un("VV"));case 4:return t.prev=4,1===n.ru&&n.kn.cancel(new In).catch(G),t.finish(4);case 7:case"end":return t.stop()}},t,this,[[0,,4,7]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.UV=function(t,n,i,r,e){return void 0===i&&(i=void 0),void 0===r&&(r=void 0),this.HV(t,n,i,r,e)},i.HV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(u),t.next=3,this.qV(new Mc(this.uR.Gy),r,e);case 3:if(Dn(u),!(n instanceof Vk)){t.next=9;break}return t.next=7,this.WV(n,i,r,e,u);case 7:t.next=11;break;case 9:return t.next=11,this.XV(n,i,r,e,u);case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.WV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=void 0,o=dA(n),n=o[0],s=o[1],t.prev=5,t.next=8,this.GV(n,i,u);case 8:return s.cancel(new In).catch(G),t.abrupt("return");case 12:if(t.prev=12,t.t0=t.catch(5),!LR(t.t0)){t.next=21;break}return t.next=17,this.qV(new Mc(this.uR.Gy),r,e,u);case 17:if(!t.sent){t.next=21;break}return n=s,t.abrupt("continue",0);case 21:throw s.cancel(t.t0).catch(G),t.t0;case 23:t.next=0;break;case 25:case"end":return t.stop()}},t,this,[[5,12]])}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.GV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v,d;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.xV.xT,u=MR(n),s=u.getReader(),o=!1,t.prev=4,this.mV.timestampOffset=i;case 6:return t.next=9,Pn(s.read(),r);case 9:if(a=t.sent,c=a.done,h=a.value,!c){t.next=15;break}return o=!1,t.abrupt("break",22);case 15:return Dn(r),f=ri(h),o=!0,t.next=20,this.zV(f);case 20:t.next=6;break;case 22:t.next=39;break;case 24:if(t.prev=24,t.t0=t.catch(4),s.cancel(t.t0).catch(G),!o){t.next=38;break}return t.next=30,this.jV();case 30:v=this.xV.xT.Tf(e.Ef()),d=0;case 32:if(!(d<v.qa)){t.next=38;break}return t.next=35,this.YV(v.Jh(d).Od,v.$h(d).Od);case 35:d++,t.next=32;break;case 38:throw t.t0;case 39:case"end":return t.stop()}},t,this,[[4,24]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.XV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,Dn(u),this.mV.timestampOffset=i,t.next=6,this.zV(n);case 6:return t.abrupt("return",t.sent);case 9:if(t.prev=9,t.t0=t.catch(1),!LR(t.t0)){t.next=17;break}return t.next=14,this.qV(new Mc(this.uR.Gy),r,e,u);case 14:if(!t.sent){t.next=17;break}return t.abrupt("continue",0);case 17:throw t.t0;case 18:t.next=0;break;case 20:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.zV=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mV.appendBuffer(n),this.NV=!0,t.next=4,this.QV();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.qV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o,a,c;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=hE(n,i,r,this.xV.xT,this.JB,this.KB),s=0;case 2:if(!(s<u.length)){t.next=9;break}return o=u[s],a=o[0],c=o[1],t.next=6,this.YV(a.Od,c.Od,e);case 6:s++,t.next=2;break;case 9:return t.abrupt("return",u.length>0);case 10:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),i.ZV=function(t,n,i){var r=this;return this.BV(function(i){return r.YV(t,n,i)},i)},i.YV=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(r),this.mV.remove(n,i),t.next=4,this.QV();case 4:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.QV=function(){var t=this,n=this.xV.xT;return new Tt(function(i,r){var e,u=!1,s=function(){u=!0},o=function(){u=!1,e="error"},a=function(){u=!1,e="aborted"},c=function(){h(),u&&!e?(n.Ff(t.xV.xT)||t.Su(new Un("VV")),i()):r(new v(e))},h=function(){t.mV.removeEventListener("update",s),t.mV.removeEventListener("error",o),t.mV.removeEventListener("abort",a),t.mV.removeEventListener("updateend",c)};t.mV.addEventListener("update",s),t.mV.addEventListener("error",o),t.mV.addEventListener("abort",a),t.mV.addEventListener("updateend",c)})},i.JV=function(){var t=Tt.coroutine(bt.mark(function t(){var n=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.BV(function(){return n.jV()}));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.jV=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("open"===this.PV.lc){t.next=2;break}return t.abrupt("return");case 2:if(this.mV.updating&&(this.IV=!0),this.mV.abort(),!this.Wx){t.next=7;break}return t.next=7,this.QV().catch(G);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.BV=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.DV){t.next=2;break}throw new v("Internal error");case 2:return(r=new Rr).ks(this.CV.bs),i&&r.ks(i),t.prev=5,this.DV=n(r.bs),t.next=9,this.DV;case 9:if(this.PV.KV(),!this.Wx){t.next=13;break}return t.next=13,this.QV();case 13:return t.prev=13,this.DV=void 0,r.bu(),t.finish(13);case 17:case"end":return t.stop()}},t,this,[[5,,13,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.bu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Du(),this.CV.fs(),!this.DV){t.next=6;break}return t.next=5,this.DV.catch(G);case 5:this.DV=void 0;case 6:this.mV.removeEventListener("updateend",this.OV);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"gV",get:function(){return this.NV}},{key:"XB",get:function(){return this.JB},set:function(t){this.JB=t}},{key:"YB",set:function(t){this.KB=t}},{key:"Wx",get:function(){return this.IV||this.mV.updating}}]),n}(Mn);function HR(t,n,i,r,e){var u=new xR(t,n),s=new VR(r,u,n,t);return new qR(u,s,e)}var qR=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).xV=n,e.$V=i,e.tH=r,e.$V.Iu("VV",e.Eu),e}ut(n,t);var i=n.prototype;return i.aV=function(){return this.xV.aV()},i.cV=function(){this.xV.cV()},i.hV=function(t,n){var i=new Mc(t),r=new Mc(n);this.tH.iV(i,r)},i.fV=function(t,n){var i=new Mc(t),r=new Mc(n);this.tH.rV(i,r)},i.sV=function(){return this.$V.JV()},i.uV=function(t,n,i){return this.$V.uV(t,n,i)},i.oV=function(t,n){return this.$V.oV(t,n)},i.Hs=function(t,n,i){return this.fV(t,n),this.$V.ZV(t,n,i)},i.vV=function(t){this.$V.XB=t},i.dV=function(t){this.$V.YB=t},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$V.Cu("VV",this.Eu),t.next=3,this.$V.bu();case 3:this.tH.Va();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"xT",get:function(){return this.xV.xT}},{key:"lV",get:function(){return!0}},{key:"_V",get:function(){return this.tH.eV}},{key:"gV",get:function(){return this.$V.gV}},{key:"Wx",get:function(){return this.$V.Wx}}]),n}(Mn),WR=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).mV=void 0,s.PV=n,s.mo=r,s.so=r.K_,s.nH=e,s.uR=i,s.KD=new PR,s.KD.Iu("VV",s.Eu),s.JB=FR,s.KB=cE,s.tH=u,s}ut(n,t);var i=n.prototype;return i.aV=function(){return this.KD.aV()},i.cV=function(){return this.KD.cV()},i.hV=function(t,n){this.KD.hV(t,n)},i.fV=function(t,n){this.KD.fV(t,n)},i.sV=function(){return this.KD.sV()},i.uV=function(t,n,i){return this.KD.uV(t,n,i)},i.oV=function(t,n){return this.KD.oV(t,n)},i.Hs=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.KD.Hs(n,i,r);case 2:O.Kt&&this.uR.ts(this.uR.Gy);case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.YT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lV!==n){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=7;break}return t.next=5,this.um(i);case 5:t.next=9;break;case 7:return t.next=9,this.sm(i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.um=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Dn(n),XR(this.mV,!0),t.next=5,this.iH(this.mV);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),Dn(n),t.next=12,this.PV.rH(this);case 12:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n){return t.apply(this,arguments)}}(),i.sm=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.mV,t.prev=1,Dn(n),t.next=5,this.Fa();case 5:XR(i,!1),this.mV=i,t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(1),Dn(n),t.next=14,this.PV.eH(this,i);case 14:case"end":return t.stop()}},t,this,[[1,9]])}));return function(n){return t.apply(this,arguments)}}(),i.setState=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.KD).Cu("VV",this.Eu),t.next=4,i.Va();case 4:this.KD=n,this.KD.vV(this.JB),this.KD.dV(this.KB),this.KD.Iu("VV",this.Eu);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.iH=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.mV=n,t.next=3,this.setState(HR(n,this.PV,this.nH,this.uR,this.tH));case 3:this.Su(new Un("nc"));case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tH.Fa(),this.mV=void 0,t.next=4,this.setState(new PR);case 4:this.Su(new Un("uH"));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.Du(),t.next=4,this.Fa();case 4:this.KD.Cu("VV",this.Eu),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"xT",get:function(){return this.KD.xT}},{key:"Cp",get:function(){return this.mo}},{key:"K_",get:function(){return this.so}},{key:"_V",get:function(){return this.KD._V}},{key:"gV",get:function(){return this.KD.gV}},{key:"XB",get:function(){return this.JB},set:function(t){this.JB=t,this.KD.vV(t)}},{key:"YB",set:function(t){this.KB=t,this.KD.dV(t)}},{key:"Wx",get:function(){return this.KD.Wx}},{key:"lV",get:function(){return this.KD.lV}}]),n}(Mn);function XR(t,n){var i=t&&t.audioTracks,r=t&&t.videoTracks;if(!i||!r)throw new v("Not supported by browser.");for(var e=0;e<i.length;e++)i[e].enabled!==n&&(i[e].enabled=n);for(var u=0;u<r.length;u++)r[u].selected!==n&&(r[u].selected=n)}var GR,zR,jR=new Mc(.001),YR=100,QR=new Mc(.5),ZR=function(){function t(t,n){var i,r,e,u,s=this;this.xV=t,this.uR=n,this.gR=Qa.yv,this.sH=!1,this.oH=[],this.aH=function(t){var n=new Mc(s.uR.Gy);t.tV.kf(n)&&s.cH(n)},this.hH=(i=function(t){if(!s.sH){var n=s.uR.lc;if(n<=Qa.pv){var i=new Mc(s.uR.Gy),r=s.xV.xT,e=r.xf(i),u=r.$h(e);-1!==e&&n<s.gR&&u.sf(i.Df(QR))&&(i=u),s.cH(i)}s.gR=n}},r=YR,function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var o=this,h=e&&!u;c(u),u=a(function(){u=void 0,e||i.apply(o,n)},r),h&&i.apply(o,n)}),this.uR.Iu("readystatechange",this.hH)}var n=t.prototype;return n.fH=function(t){this.oH.push(t),t.Iu(RR.JF,this.aH)},n.Va=function(){var t=this;this.gR=Qa.yv,this.uR.Cu("readystatechange",this.hH),this.oH.forEach(function(n){return n.Cu(RR.JF,t.aH)}),this.sH=!0},n.cH=function(t){if(!this.uR.zy){var n=this.eV,i=n.xf(t);if(-1!==i)n.Jh(i).Nd(n.$h(i),jR)||this.uR.ts(n.$h(i).Od)}},b(t,[{key:"eV",get:function(){return this.oH.reduce(function(t,n){return t.Cf(n.eV)},EE.nL())}}]),t}(),JR=O.Mt||O.Ut,KR=function(){function t(t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),this.Jk=t,this.Kk=n,this.vH=i,this.dH=r,this.lH=ml()}return t.prototype._H=function(){var t=this.Jk,n=this.Kk;if(this.vH||this.dH){var i=.001*(ml()-this.lH);this.vH&&(t+=i),this.dH&&(n+=i)}return t>=n?EE.nL():new EE([new Mc(t),new Mc(n)])},b(t,[{key:"gH",get:function(){return this.vH}},{key:"wH",get:function(){return this.dH}}]),t}(),$R=function(){function t(){}return t.prototype.yH=function(){return new MediaSource},t}(),tI=function(t){function n(n,i,r,e){var u;return void 0===e&&(e=new $R),(u=t.call(this,n,i,r)||this).mH=void 0,u.pH=void 0,u.kH=new KR(0,1/0),u.AH=void 0,u.bH=function(){u.TH()},u.EH=function(){u.uR.EH()},u.SH=e,u.vE=u.SH.yH(),u.uR.Iu(Ia.Hh,u.bH),u.RH=new ZR(st(u),u.uR),u}ut(n,t);var i=n.prototype;return i.IH=function(t){if(y(t)||t<0)throw new v("Invalid duration");var n=t===1/0,i=n?9007199254740991:t;if(n&&this.vE.setLiveSeekableRange){var r=_.pow(2,39);this.vE.setLiveSeekableRange(0,r)}this.NH()?this.vE.duration=i:this.AH=i},i.DH=function(){var t=[];if(this.mH&&this.mH.lV&&t.push(this.mH.xT),this.pH&&this.pH.lV&&t.push(this.pH.xT),0===t.length)return EE.nL();for(var n=Mc.xd,i=0;i<t.length;i++){var r=t[i];r.qa>0&&(n=Mc.hf(n,r.$h(r.qa-1)))}for(var e=this.aV,u=new EE([Mc.xd,n],[!0,e]),s=0;s<t.length;s++){var o=t[s];e&&o.qa>0&&(o=o.Cf(new EE([o.$h(o.qa-1),n],[!0,!0]))),u=u.Tf(o)}return u},i.CH=function(t,n,i,r){this.kH=new KR(t,n,!!i,!!r)},i.ab=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=pn(this.mo.OH,function(t){return sn(t.K_,"audio")}),i=pn(this.mo.OH,function(t){return sn(t.K_,"video")}),n&&(r=new OR,this.RH.fH(r),this.mH=new WR(this,this.uR,n,"audio",r),this.mH.Iu("VV",this.EH)),i&&(e=new OR,this.RH.fH(e),this.pH=new WR(this,this.uR,i,"video",e),this.pH.Iu("VV",this.EH)),t.next=6,this.PH();case 6:if(!this.mH){t.next=12;break}return t.next=9,this.xH(this.mH.K_);case 9:return u=t.sent,t.next=12,this.mH.iH(u);case 12:if(!this.pH){t.next=18;break}return t.next=15,this.xH(this.pH.K_);case 15:return s=t.sent,t.next=18,this.pH.iH(s);case 18:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.PH=function(){var n=Tt.coroutine(bt.mark(function n(){var i;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=URL.createObjectURL(this.vE),n.next=3,t.prototype.wT.call(this,i);case 3:return n.next=5,t.prototype.Vs.call(this);case 5:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.xH=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("open"===this.lc){t.next=3;break}return t.next=3,Hs(this.vE,"sourceopen");case 3:if(!(this.mH&&this.mH.gV||this.pH&&this.pH.gV)){t.next=6;break}throw new v("BH");case 6:return t.abrupt("return",this.vE.addSourceBuffer(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.NH=function(){if("open"!==this.lc)return!1;var t=this.mH&&this.mH.Wx,n=this.pH&&this.pH.Wx;return!(t||n)},i.bu=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.mH){n.next=4;break}return n.next=3,this.mH.bu();case 3:this.mH=void 0;case 4:if(!this.pH){n.next=8;break}return n.next=7,this.pH.bu();case 7:this.pH=void 0;case 8:return this.Oo.src&&URL.revokeObjectURL(this.Oo.src),this.uR.Cu(Ia.Hh,this.bH),this.RH.Va(),n.next=13,t.prototype.bu.call(this);case 13:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),i.pV=function(){this.TH()},i.TH=function(){this.LH&&this.NH()&&(this.vE.endOfStream(),this.AH=void 0)},i.rH=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.xH(n.K_);case 3:return i=t.sent,t.next=6,n.iH(i);case 6:t.next=14;break;case 8:return t.prev=8,t.t0=t.catch(0),(r=this.MH).push(n),t.next=14,this.UH(r);case 14:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),i.eH=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!O.Ht){t.next=3;break}throw new v("Not supported in Firefox");case 3:this.vE.removeSourceBuffer(i),t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),r=this.MH.filter(function(t){return t!==n}),t.next=11,this.UH(r);case 11:case"end":return t.stop()}},t,this,[[0,6]])}));return function(n,i){return t.apply(this,arguments)}}(),i.UH=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.uR.FH(),i=0,r=this.MH;case 2:if(!(i<r.length)){t.next=10;break}if(!(e=r[i])){t.next=7;break}return t.next=7,e.Fa();case 7:i++,t.next=2;break;case 10:return this.vE=this.SH.yH(),t.next=13,this.PH();case 13:u=0;case 14:if(!(u<n.length)){t.next=24;break}return s=n[u],t.next=18,this.xH(s.K_);case 18:return o=t.sent,t.next=21,s.iH(o);case 21:u++,t.next=14;break;case 24:this.uR.VH();case 25:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.KV=function(){this.NH()&&(this.aV?this.TH():void 0!==this.AH&&(this.vE.duration=this.AH,this.AH=void 0))},b(n,[{key:"HH",get:function(){return this.mH}},{key:"qH",get:function(){return this.pH}},{key:"MH",get:function(){var t=[];return this.mH&&this.mH.lV&&t.push(this.mH),this.pH&&this.pH.lV&&t.push(this.pH),t}},{key:"e_",get:function(){if(this.AH)return this.AH;var t=this.vE.duration;return 9007199254740991===t?1/0:t}},{key:"xT",get:function(){return JR?this.DH():EE.jf(this.Oo.buffered)}},{key:"ZF",get:function(){if(this.pH&&this.pH.lV)return this.pH.xT}},{key:"HT",get:function(){return this.kH._H().Tf(new EE([Mc.xd,new Mc(this.e_)],[!0,!0]))}},{key:"aV",get:function(){return(!this.mH||!this.mH.lV||this.mH.aV())&&(!this.pH||!this.pH.lV||this.pH.aV())}},{key:"lc",get:function(){return this.vE.readyState}},{key:"LH",get:function(){if(!this.aV)return!1;var t=this.xT;return 0!==t.qa&&t.Jh(t.qa-1).af(new Mc(this.uR.Gy))}}]),n}(ER),nI=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this)||this).hU=n,c.WH=i,c.XH=r,c.fU=e,c.vU=u,c.GH=s,c.dU=o,c.zH=a,c}ut(n,t);var i=n.prototype;return i.lT=function(){this.fU||(this.fU=!0,this.Su(new of(this.Gy)))},i.dT=function(){this.fU&&(this.fU=!1,this.Su(new Ja(this.Gy)))},b(n,[{key:"Gy",get:function(){return this.hU},set:function(t){this.Gy!==t&&(this.hU=t,this.Su(new Qf(this.Gy)))}},{key:"e_",get:function(){return this.WH}},{key:"zy",get:function(){return this.XH}},{key:"Qy",get:function(){return this.fU}},{key:"Jy",get:function(){return this.vU}},{key:"Yy",get:function(){return this.GH},set:function(t){this.Yy!==t&&(this.GH=t,this.Su(new Ka(this.Gy,this.tm)))}},{key:"Zy",get:function(){return this.dU},set:function(t){this.Zy!==t&&(this.dU=t,this.Su(new Zf(this.Gy,this.Zy)))}},{key:"tm",get:function(){return this.zH},set:function(t){this.tm!==t&&(this.zH=t,this.Su(new Ka(this.Gy,this.tm)))}}]),n}(Mn),iI=15,rI=32;function eI(t,n){for(var i,r=n-(i=t?M(t)?Array.prototype.map.call(t,function(t){return("0"+t.toString(16)).substr(-2)}).join(""):(+t).toString(16):"").length;r>0;)i="0"+i,r-=1;return i}function uI(t,n){return void 0===n&&(n=0),w(t.toFixed(n))}!function(t){t[t.jH=0]="jH",t[t.YH=1]="YH",t[t.QH=2]="QH",t[t.ZH=3]="ZH",t[t.JH=4]="JH",t[t.KH=5]="KH"}(GR||(GR={})),function(t){t[t.$H=0]="$H",t[t.tq=1]="tq",t[t.nq=2]="nq",t[t.iq=3]="iq"}(zR||(zR={}));var sI=[[42,225],[92,233],[94,237],[95,243],[96,250],[123,231],[124,247],[125,209],[126,241],[127,9608],[128,174],[129,176],[130,189],[131,191],[132,8482],[133,162],[134,163],[135,9834],[136,224],[137,32],[138,232],[139,226],[140,234],[141,238],[142,244],[143,251],[144,193],[145,201],[146,211],[147,218],[148,220],[149,252],[150,8216],[151,161],[152,42],[153,8217],[154,9473],[155,169],[156,8480],[157,8226],[158,8220],[159,8221],[160,192],[161,194],[162,199],[163,200],[164,202],[165,203],[166,235],[167,206],[168,207],[169,239],[170,212],[171,217],[172,249],[173,219],[174,171],[175,187],[176,195],[177,227],[178,205],[179,204],[180,236],[181,210],[182,242],[183,213],[184,245],[185,123],[186,125],[187,92],[188,94],[189,95],[190,124],[191,8764],[192,196],[193,228],[194,214],[195,246],[196,223],[197,165],[198,164],[199,9475],[200,197],[201,229],[202,216],[203,248],[204,9487],[205,9491],[206,9495],[207,9499]].reduce(function(t,n){return t[n[0]]=n[1],t},{}),oI=function(){function t(){this.rq=[],this.uq=0,this.sq=null;for(var t=0;t<rI;t++)this.rq.push(null);this.sq={oq:!1}}var n=t.prototype;return n.aq=function(t){for(var n=0;n<rI;n++)t&&(this.rq[n]=t.rq[n])},n.if=function(t){for(var n=0;n<rI;n++)if(this.rq[n]!==t.rq[n])return!1;return!0},n.cq=function(){for(var t=0;t<rI;t++)if(null!==this.rq[t])return!1;return!0},n.hq=function(t){this.uq!==t&&(this.uq=t),this.uq<0?this.uq=0:this.uq>rI&&(this.uq=rI-1)},n.fq=function(t){var n=this.uq+t;this.hq(n)},n.vq=function(){this.fq(-1),this.rq[this.uq]=null},n.dq=function(t){t>=144&&this.vq();var n,i=sI[n=t]?String.fromCharCode(sI[n]):String.fromCharCode(n);this.uq>=rI||(32==+i?(this.rq[this.uq]=this.sq.oq?"</i>":"<i>",this.sq.oq=!this.sq.oq):this.rq[this.uq]=i,this.fq(1))},n.lq=function(t){for(var n=t;n<rI;n++)this.rq[n]=null},n.Zu=function(){this.lq(0),this.uq=0},n._q=function(){this.lq(this.uq)},n.gq=function(t,n){for(var i=this.rq,r=null,e=0;e<rI;e++){var u=i[e];null===u?r=null:(r||(r={wq:e,yq:t,q_:0,P_:1,rq:[[]]},n.push(r)),r.rq[0].push(u),r.q_++)}},n.Rl=function(t,n){return t.mq(this.rq,n)},t}();var aI=function(){function t(){this.pq=null,this.kq=[];for(var t=0;t<iI;t++)this.kq.push(new oI);this.Aq=iI-1,this.Fa()}var n=t.prototype;return n.aq=function(t){for(var n=0;n<iI;n++)this.kq[n].aq(t.kq[n])},n.if=function(t){for(var n=!0,i=0;i<iI;i++)if(!this.kq[i].if(t.kq[i])){n=!1;break}return n},n.cq=function(){for(var t=!0,n=0;n<iI;n++)if(!this.kq[n].cq()){t=!1;break}return t},n.Fa=function(){for(var t=0;t<iI;t++)this.kq[t].Zu();this.Aq=iI-1},n.dq=function(t){this.kq[this.Aq].dq(t)},n.bq=function(){this.kq[this.Aq].vq()},n._q=function(){this.kq[this.Aq]._q()},n.Tq=function(){if(null!==this.pq){var t=this.Aq+1-this.pq,n=this.kq[t];n&&(bn(this.kq,t),n.Zu(),this.kq.splice(this.Aq,0,n))}},n.fq=function(t){this.kq[this.Aq].fq(t)},n.Eq=function(t){this.pq=t},n.Sq=function(t){var n=t.Rq;this.pq&&n<this.pq-1&&(n=this.pq-1),this.Aq=n;var i=this.kq[this.Aq];null!==t.Iq&&i.hq(t.Iq)},n.Nq=function(){for(var t=this.kq,n=[],i=0;i<t.length;i++){t[i].gq(i,n)}for(var r=0;r<n.length;r++){for(var e=!1,u=n[r],s=n.length-1;s>r;){var o=n[s];hI(u,o)&&(u=cI(u,o),bn(n,s),e=!0),s--}e&&(n[r]=u,r--)}return n.map(fI)},n.Rl=function(t){return t.Dq(this.kq)},t}();function cI(t,n){for(var i=_.min(t.wq,n.wq),r=_.min(t.yq,n.yq),e=_.max(t.wq+t.q_,n.wq+n.q_)-i,u=_.max(t.yq+t.P_,n.yq+n.P_)-r,s=new Array(u),o=0;o<u;o++){var a=new Array(e),c=t.rq[o+r-t.yq];if(c)for(var h=0;h<c.length;h++)c[h]&&(a[h-i+t.wq]=c[h]);var f=n.rq[o+r-n.yq];if(f)for(var v=0;v<f.length;v++)f[v]&&(a[v-i+n.wq]=f[v]);s[o]=a}return{wq:i,yq:r,q_:e,P_:u,rq:s}}function hI(t,n){return t.wq<=n.wq+n.q_&&n.wq<=t.wq+t.q_&&t.yq<=n.yq+n.P_&&n.yq<=t.yq+t.P_}function fI(t){for(var n=new Array(t.P_),i=t.rq,r=0;r<i.length;r++){for(var e=i[r],u=[],s=!1,o=0;o<e.length;o++){var a=e[o];a?(s||(s=!0,u.push("<c.theoplayer-text-track-fragment>")),u.push(a)):(s&&(s=!1,u.push("</c>")),u.push(" "))}s&&(s=!1,u.push("</c>")),n[r]=u.join("")}var c=n.join("\n");return{wq:t.wq,yq:t.yq,q_:t.q_,P_:t.P_,Ok:c}}var vI=function(){function t(t,n){this.Rq=t,this.Iq=n}return t.prototype.if=function(t){return this.Rq===t.Rq&&this.Iq===t.Iq},t}(),dI=function(){function t(t){this.Cq=t,this.Oq=this.Pq(),this.xq=this.Bq()}var n=t.prototype;return n.Pq=function(){for(var t=new vI(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=0,i=this.Lq;n<i.length;n++){var r=i[n],e=_.min(t.Rq,r.Mq.Rq),u=_.min(t.Iq,r.Mq.Iq);t=new vI(e,u)}return t},n.Bq=function(){for(var t=new vI(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),n=0,i=this.Lq;n<i.length;n++){var r=i[n],e=_.max(t.Rq,r.Uq.Rq),u=_.max(t.Iq,r.Uq.Iq);t=new vI(e,u)}return t},b(t,[{key:"Mq",get:function(){return this.Oq}},{key:"Uq",get:function(){return this.xq}},{key:"Lq",get:function(){return Rn(this.Cq.map(function(t){return t.Lq}))}}]),t}(),lI=function(){function t(t,n){this.Fq=t,this.Oq=n,this.Vq=""}var n=t.prototype;return n.dq=function(t){this.Vq+=t},n.Hq=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.dq(i)}},b(t,[{key:"qq",get:function(){return this.Vq}},{key:"Lq",get:function(){return[this]}},{key:"Wq",get:function(){return this.Fq}},{key:"Mq",get:function(){return this.Oq}},{key:"Uq",get:function(){return new vI(this.Mq.Rq,this.Mq.Iq+this.qq.length-1)}}]),t}(),_I=function(){function t(){}var n=t.prototype;return n.Xq=function(t){return t.Rl(this)},n.Dq=function(t){var n=this;return Rn(t.map(function(t,i){return t.Rl(n,i)}))},n.mq=function(t,n){return new gI(t,n).Gq()},t}(),gI=function(){function t(t,n){this.Rq=t,this.zq=n,this.jq=[]}var n=t.prototype;return n.Gq=function(){if(this.Yq)return[];for(var t=0;t<this.Rq.length;t++)this.Qq(t);return this.Zq(),this.jq},n.Jq=function(t){this.Kq=new lI(II,new vI(this.zq,t))},n.Zq=function(){this.Kq&&(this.jq.push(this.Kq),this.Kq=null)},n.Qq=function(t){var n=this.Rq[t];wI(n)?this.Kq&&this.Zq():(this.Kq||this.Jq(t),this.Kq.dq(n))},b(t,[{key:"Yq",get:function(){return this.Rq.every(wI)}}]),t}();function wI(t){return null==t}var yI,mI,pI=function(t){function n(n,i,r){return t.call(this,n,i,r,!1)||this}return ut(n,t),n}(Av),kI=function(t){function n(n){var i;return(i=t.call(this,"$q")||this).cue=n,i}return ut(n,t),n}(Un),AI=function(t){function n(){var n;return(n=t.call(this)||this).Ad=Yc.xd,n.u_=Yc.xd,n.dc=0,n.tW=new aI,n.nW=new aI,n.iW=new aI,n.rW=n.tW,n}ut(n,t);var i=n.prototype;return i.dq=function(t){this.rW.dq(t),1!==this.dc&&2!==this.dc||this.eW()},i.Ob=function(t){t!==this.dc&&(this.dc=t,3===this.dc?this.rW=this.nW:(this.rW=this.tW,this.rW.Fa()),2!==this.dc&&(this.tW.Eq(null),this.nW.Eq(null)))},i.Sq=function(t){this.rW.Sq(t)},i.uW=function(){this.Ob(3)},i.sW=function(){4!==this.dc&&(this.rW.bq(),this.rW===this.tW&&this.eW())},i.oW=function(){},i.aW=function(){},i.cW=function(){this.rW._q(),this.eW()},i.hW=function(t){this.rW=this.tW,this.Ob(2),this.rW.Eq(t)},i.fW=function(){},i.vW=function(){this.Ob(1)},i.dW=function(){this.Ob(4)},i.lW=function(){this.Ob(4)},i._W=function(){this.tW.Fa(),this.eW()},i.gW=function(){this.rW.Tq(),this.eW()},i.wW=function(){this.nW.Fa()},i.yW=function(){if(3===this.dc){var t=this.tW;this.tW=this.nW,this.nW=t,this.rW=this.nW}this.eW()},i.mW=function(t){this.rW.fq(t)},i.eW=function(){if(null!==this.Ad){if((!this.u_||this.u_.Jd())&&!this.tW.cq())this.u_=this.Ad;else if(!this.tW.if(this.iW)){var t=this.pW();if(this.Ad.Id(this.u_)){var n=new pI(this.u_.nl(),this.Ad.nl(),t);this.Su(new kI(n))}this.u_=this.tW.cq()?null:this.Ad}this.iW.aq(this.tW)}},i.pW=function(){return function(t){var n=[],i=[].concat(t);for(;i.length>0;){var r=i.pop(),e=void 0;do{e=!1;for(var u=0;u<i.length;u++){var s=i[u];(function(t,n){return _.abs(t.Uq.Iq-n.Mq.Iq)<=1||_.abs(n.Uq.Iq-t.Mq.Iq)<=1||_.abs(t.Uq.Rq-n.Mq.Rq)<=1||_.abs(n.Uq.Rq-t.Mq.Rq)<=1}(o=r,a=s)||function(t,n){return bI(t.Mq.Rq,t.Uq.Rq,n.Mq.Rq,n.Uq.Rq)&&bI(t.Mq.Iq,t.Uq.Iq,n.Mq.Iq,n.Uq.Iq)}(o,a))&&(r=new dI([].concat(r.Lq,s.Lq)),An(i,s),e=!0)}}while(e&&i.length>0);n.push(r)}var o,a;return n}((new _I).Xq(this.iW))},i.Fa=function(){this.Ad=Yc.xd,this.u_=Yc.xd,this.tW.Fa(),this.tW.Eq(null),this.nW.Fa(),this.nW.Eq(null),this.iW.Fa(),this.iW.Eq(null),this.rW=this.tW,this.dc=0},n}(Mn);function bI(t,n,i,r){return n>=i&&r>=t}function TI(t){return SI[t||"none"]}!function(t){t.kW='"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',t.AW='"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',t.bW='"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',t.TW='Arial, Helvetica, Verdana, "PT Sans Caption", sans-serif'}(yI||(yI={})),function(t){t.BLACK="#000000",t.WHITE="#FFFFFF",t.GREEN="#00ff00",t.BLUE="#0000ff",t.CYAN="#00ffff",t.RED="#ff0000",t.YELLOW="#ffff00",t.MAGENTA="#ff00ff",t.TRANSPARENT="transparent"}(mI||(mI={}));var EI,SI={none:"",dropshadow:"#222 2px 2px 3px, #222 2px 2px 4px, #222 2px 2px 5px",raised:"#222 1px 1px, #222 2px 2px, #222 3px 3px",depressed:"#ccc 1px 1px, #ccc 0px 1px, #222 -1px -1px, #222 0px -1px",uniform:"#222 -1px -1px 0, #222 1px -1px 0, #222 -1px 1px 0, #222 1px 1px 0"};!function(t){t.FONT_REGULAR="regular",t.FONT_UNDERLINE="underline",t.FONT_ITALICS="italics",t.FONT_UNDERLINE_ITALICS="underline-italics"}(EI||(EI={}));var RI,II={EW:mI.WHITE,SW:yI.bW,RW:"100%",IW:mI.BLACK,NW:"transparent",DW:"none",OW:EI.FONT_REGULAR},NI=[{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.GREEN,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.GREEN,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.BLUE,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.BLUE,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.CYAN,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.CYAN,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.RED,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.RED,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.YELLOW,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.YELLOW,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.MAGENTA,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.MAGENTA,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.WHITE,OW:EI.FONT_ITALICS,Iq:0},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE_ITALICS,Iq:0},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:0},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:0},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:4},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:4},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:8},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:8},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:12},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:12},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:16},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:16},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:20},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:20},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:24},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:24},{PW:mI.WHITE,OW:EI.FONT_REGULAR,Iq:28},{PW:mI.WHITE,OW:EI.FONT_UNDERLINE,Iq:28}],DI=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],CI=function(t){function n(){var n;(n=t.call(this)||this).xW=null,n.BW=null,n.LW=0;var i=new AI;return n.MW=[i,new AI],i.Iu("$q",n.Eu),n}ut(n,t);var i=n.prototype;return i.Fa=function(){for(var t=0,n=this.MW;t<n.length;t++){n[t].Fa()}},i.UW=function(t,n){if(n.ru===zR.$H&&n.FW){n.VW&&(this.LW=0),this.MW[this.LW].Ad=t;var i=127&n.HW,r=127&n.qW;if(i+r!==0){switch(i){case 17:r>=32&&r<=47&&this.WW(),r>=48&&r<=63&&this.XW(i,r);break;case 18:case 19:r>=32&&r<=63&&this.XW(i,r);break;case 20:case 21:r>=32&&r<=47&&this.GW(i,r);break;case 23:r>=33&&r<=35&&this.GW(i,r),r>=46&&r<=47&&this.WW()}16===i&&r>=64&&r<=95?this.zW(i,r):i>=17&&i<=23&&r>=64&&r<=127&&this.zW(i,r),i>=32&&this.XW(i,r)}}},i.GW=function(t,n){var i=null;if(t===this.xW&&n===this.BW)return this.xW=null,this.BW=null,!0;i=20===t||23===t?0:1;var r=this.MW[i];return 20===t||28===t?32===n?r.uW():33===n?r.sW():34===n?r.oW():35===n?r.aW():36===n?r.cW():37===n?r.hW(2):38===n?r.hW(3):39===n?r.hW(4):40===n?r.fW():41===n?r.vW():42===n?r.dW():43===n?r.lW():44===n?r._W():45===n?r.gW():46===n?r.wW():47===n&&r.yW():r.mW(n-32),this.xW=t,this.BW=n,this.LW=i,!0},i.zW=function(t,i){t===this.xW&&i===this.BW&&(this.xW=null,this.BW=null);var r=t<=23?0:1,e=DI[t<<1&14|i>>5&1]-1;if(!(e<0)){var u=n.jW(e,i);this.MW[r].Sq(u),this.xW=t,this.BW=i,this.LW=r}},n.jW=function(t,n){var i=n>95?n-96:n-64;return{PW:NI[i].PW,OW:NI[i].OW,Iq:NI[i].Iq,Rq:t}},i.XW=function(t,n){var i=t>=25?t-8:t,r=this.MW[this.LW],e=!1;switch(i){case 17:r.dq(n+80),e=!0;break;case 18:r.dq(n+112),e=!0;break;case 19:r.dq(n+144),e=!0;break;default:32<=t&&(r.dq(t),n>=32&&r.dq(n),e=!0)}e&&(this.xW=null,this.BW=null)},i.WW=function(){this.MW[this.LW].rW.fq(1)},i.Va=function(){this.Du()},b(n,[{key:"wp",get:function(){return this.MW.length}}]),n}(Mn);function OI(t,n){return(t.YW===n.YW?Qc(t.QW,n.QW):Qc(t.ZW,n.ZW))||Pc(t.Qp,n.Qp)}!function(t){t[t.JW=47]="JW",t[t.KW=49]="KW"}(RI||(RI={}));var PI=function(){function t(){this.$W=0,this.tX=[],this.Zk={}}var n=t.prototype;return n.nX=function(t){this.tX=this.tX.concat(t.tX),this.$W+=t.qa},n.iX=function(t,n,i){var r=this.$W,e=i-n;e>0&&(this.tX.push({rX:n,eX:i,uX:e,sX:r,oX:t}),this.$W+=e)},n.ju=function(t){for(var n=0,i=this.tX;n<i.length;n++){var r=i[n];if(r.sX<=t&&t<r.sX+r.uX)return r.oX[t+r.rX-r.sX]}},n.aX=function(t,n){for(var i=0,r=this.tX;i<r.length;i++)for(var e=r[i],u=e.eX,s=e.rX;s<u;s+=1,n+=1)t[n]=e.oX[s];return n},n.Rl=function(t){var n=this.cX();return t.push(n.buffer),{hX:n,fX:this.$W,vX:this.Zk}},n.cX=function(){for(var t=new m(this.$W),n=0,i=0,r=this.tX;i<r.length;i++)for(var e=r[i],u=e.eX,s=e.rX;s<u;s+=1,n+=1)t[n]=e.oX[s];return t},n.ns=function(n){for(var i=new t,r=0,e=this.tX;r<e.length;r++){var u=e[r];i.iX(u.oX,u.rX,u.eX)}return i.Zk=n||Et({},this.Zk),i},t.dX=function(n){var i=new t;return i.iX(n.hX,0,n.fX),i.Zk=n.vX,i},b(t,[{key:"qa",get:function(){return this.$W},set:function(t){var n=this.tX,i=this.$W-t;if(!(t>=this.$W))if(this.$W=t,0!==t)for(var r=n.length-1;r>=0;r-=1){var e=n[r];if(i<=e.uX)return e.eX-=i,e.uX-=i,void(n.length!==r+1&&(n.length=r+1));i-=e.uX}else n.length=0}},{key:"kn",get:function(){for(var t=new Array(this.$W),n=0,i=0,r=this.tX;i<r.length;i++)for(var e=r[i],u=e.eX,s=e.rX;s<u;s+=1,n+=1)t[n]=e.oX[s];return t}}]),t}();for(var xI=O.Wt?function(t,n){return t.lX.Hf(n.lX)}:function(t,n){return t._X.Hf(n._X)},BI=function(t){function n(n,i){var r,e=MI[n];return(r=t.call(this,e?e.Mu:"")||this).code=n,r.info=i,r.helpLink=e&&e.gX,r.helpLinkText=e&&e.wX,r}return ut(n,t),b(n,[{key:"name",get:function(){return"THEOplayerError"}}]),n}(at),LI=[{Ss:"LICENSE_INVALID",Mu:"The license for this player is invalid. Please contact your service provider for additional information."},{Ss:"MANIFEST_NOT_FOUND",Mu:"Could not load the manifest file."},{Ss:"MANIFEST_CORS_ERROR",Mu:"Could not load the manifest file. Make sure the source is set correctly and that CORS support is enabled.",gX:"https://www.theoplayer.com/documentation/cors.html",yX:!1},{Ss:"INVALID_HLS_MANIFEST",Mu:"The source of the player is an invalid HLS manifest.",gX:"https://developer.apple.com/library/ios/technotes/tn2288/_index.html"},{Ss:"PLAYBACK_ISSUE",Mu:"There appears to be a playback issue."},{Ss:"AUDIO_ISSUE",Mu:"There is an audio issue. Please contact your service provider with the code below for additional information."},{Ss:"BROWSER_SUPPORT_ISSUE",Mu:"Your browser doesn't support a feature. Try upgrading your browser or please contact your service provider referring to the code below."},{Ss:"INVALID_KEY",Mu:"There is an invalid key being decrypted. Please contact your service provider with the code below for additional information."},{Ss:"DECRYPTION_ERROR",Mu:"There is a decryption error. Please contact your service provider with the code below for additional information."},{Ss:"AD_BLOCK_DETECTED",Mu:"An ad blocker was detected. Please turn it off and refresh the page in order to watch this video."},{Ss:"THEOPLAYER_NOT_INITIALIZED",Mu:"THEOplayer hasn't been initialized yet. Please check your configuration or wait."},{Ss:"ERROR",Mu:"THEOplayer encountered an error. If this issue holds, please contact your service provider."},{Ss:"MANIFEST_SEQUENCE_RESET_ERROR",Mu:"The video stream has been reset. THEOplayer will attempt to reload the source."},{Ss:"PLAYER_INCORRECTLY_CONFIGURED",Mu:"The player is incorrectly configured.",gX:"https://support.theoplayer.com/hc/en-us/articles/214343065-Player-API"},{Ss:"UNSUPPORTED",Mu:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."}],MI={},UI=0;UI<LI.length;UI++){var FI=LI[UI];MI[FI.Ss]=FI}var VI=function(t){function n(n,i,r){var e;return(e=t.call(this,"pX")||this).mX=n,e.kX=i,e.AX=r,e}return ut(n,t),n.prototype.Da=function(){return new HI(this.mX&&this.mX.Na)},n}(Os),HI=function(t){function n(n){var i;return(i=t.call(this,"activequalitychanged")||this).quality=n,i}return ut(n,t),n}(Un);var qI=function(t){function n(n){var i;return(i=t.call(this)||this).gR=Qa.yv,i.bX=function(){i.wF()},i.uR=n,i}ut(n,t);var i=n.prototype;return i.TX=function(t){this.gR!==t&&(this.gR=t,this.Su(new tf(this.uR.Gy,t)))},i.wF=function(){this.TX(this.IL())},i.Fa=function(){this.TX(Qa.yv)},i.bu=function(){this.Du()},b(n,[{key:"lc",get:function(){return this.IL()}}]),n}(Mn),WI=["emptied","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","timeupdate","progress","seeking","seeked"],XI=function(t){function n(n){var i;i=t.call(this,n)||this;for(var r=0;r<WI.length;r++){var e=WI[r];i.uR.vI.addEventListener(e,i.bX)}return i}ut(n,t);var i=n.prototype;return i.IL=function(){var t=this.uR.vI.readyState;return t>Qa.pv&&this.uR.EX?Qa.pv:(this.uR.vI.seeking&&t>Qa.mv&&(t=Qa.mv),t)},i.bu=function(){for(var n=0;n<WI.length;n++){var i=WI[n];this.uR.vI.removeEventListener(i,this.bX)}t.prototype.bu.call(this)},n}(qI),GI=Mc.Pd.Od,zI=function(t){function n(n){var i;(i=t.call(this,n)||this).uR.Iu(Ia.Hh,i.bX);for(var r=0;r<WI.length;r++){var e=WI[r];i.uR.vI.addEventListener(e,i.bX)}return i}ut(n,t);var i=n.prototype;return i.IL=function(){if(this.uR.vI.readyState===Qa.yv)return Qa.yv;var t=this.SX(),n=t?t.$h-t.Jh:0;if(!t)return Qa.mv;var i=this.uR.Zy;return this.RX()||n>=3*i?Qa.Av:n>=3?Qa.kv:Qa.pv},i.SX=function(){var t=new Mc(this.uR.Gy),n=this.uR.xT,i=n.xf(t);if(!(i<0))return{Jh:t.Od,$h:n.$h(i).Od}},i.RX=function(){if(this.uR.zy)return!0;var t=this.uR.e_,n=this.SX();return!!n&&t-n.$h<=GI},i.bu=function(){this.uR.Cu(Ia.Hh,this.bX);for(var n=0;n<WI.length;n++){var i=WI[n];this.uR.vI.removeEventListener(i,this.bX)}t.prototype.bu.call(this)},n}(qI),jI=["readystatechange",Ia.Bh,Ia.xh,Ia.Hh,Ia.Vh,Ia.Dh,"error"],YI=function(t){function n(n){var i;return(i=t.call(this,n)||this).IX=!1,i.NX=function(){i.IX=!0,i.qs()},i.Oo=n.vI,i.Oo.addEventListener("playing",i.NX),i}ut(n,t);var i=n.prototype;return i.DX=function(){return this.IX&&t.prototype.DX.call(this)},i.qs=function(){this.IX&&(this.Oo.paused||this.Oo.ended||this.Oo.error)&&(this.IX=!1),t.prototype.qs.call(this)},i.Fa=function(){t.prototype.Fa.call(this),this.IX=!1},i.bu=function(){this.Oo.removeEventListener("playing",this.NX),t.prototype.bu.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).CX=!1,i.Xx=function(){i.qs()},i.lR=n,i.lR.Iu(jI,i.Xx),i}ut(n,t);var i=n.prototype;return i.OX=function(){return this.lR.lc<Qa.kv},i.DX=function(){return!this.lR.Jy&&!(this.lR.Qy||this.lR.zy||this.lR.Vu||this.OX())},i.qs=function(){var t=this.CX;this.CX=this.DX(),!t&&this.CX&&this.Su(new ef(this.lR.Gy))},i.Fa=function(){this.CX=!1},i.bu=function(){this.Du(),this.lR.Cu(jI,this.Xx)},n}(Mn)),QI=function(t){function n(n){var i;return(i=t.call(this,"error")||this).Vu=n,i}return ut(n,t),n}(Un),ZI=new Mc(50,1e3),JI=O.Mt||O.Ut,KI=O.Bt,$I=[Ia.Gh,Ia.Mh,Ia.Hh,Ia.Bh,Ia.xh],tN=function(t){function n(n,i){var r;return(r=t.call(this)||this).GR=void 0,r.hN=!0,r.vE=void 0,r.PX=new m_,r.xX=void 0,r.BX=void 0,r.LX=void 0,r.vU=!1,r.MX=Tt.resolve(),r.UX=new Rr,r.FX=[],r.VX=EE.nL(),r.HX=void 0,r.VL=1,r.qX=!1,r.WX=!1,r.XX=!1,r.GX=0,r.zX=!1,r.jX=!1,r.YX=function(){if(void 0!==r.vE&&r.vE instanceof tI){var t=r.vE,n=t.HH,i=t.qH;if(n&&i){var e=new Mc(r.Gy,1);(n.xT.qa>0&&n.xT.kf(e))!==(i.xT.qa>0&&i.xT.kf(e))&&!t.aV?r.QX():r.ZX()}}},r.JX=function(){r.Su(new Ja(r.Gy))},r.KX=function(){r.$X(new In),r.Su(new of(r.Gy))},r.tG=function(){r.nG(),r.Su(new ef(r.Gy))},r.iG=function(){r.rG(r.Zy)},r.eG=function(){r.Su(new uf(r.Oo.duration))},r.uG=function(){r.Su(new NR(r.Gy))},r.sG=function(){r.Su(new DR)},r.oG=function(){var t=r.Gy,n=r.Jy,i=r.lc<Qa.kv&&!r.zy,e=void 0!==r.LX,u=e&&r.LX!==t;(n||!e||u&&!i)&&(r.Su(new sf(r.Gy,void 0)),r.LX=t)},r.aG=function(){r.Su(new hf(r.Gy))},r.cG=function(){var t;if(null!==r.Oo.error){var n=r.Oo.error;r.GR=new $a(null!==(t=n.code)&&void 0!==t?t:Za.DECODE,n.message||"Error decoding media",void 0,n.msExtendedCode),r.hG(r.GR),r.Su(new QI(r.GR))}else r.GR=void 0},r.fG=function(){r.Su(new Ka(r.Gy,r.tm))},r.vG=function(){r.Su(new y_)},r.dG=function(t){r.Su(new qn(t.initDataType,t.initData||new ArrayBuffer(0)))},r.lG=function(){r.Su(new Wn)},r._G=function(t){var n=t.initData,i=n?yr(n).buffer:new ArrayBuffer(0);r.Su(new qn(qt,i))},r.gG=function(t){var n=t.initData,i=n?yr(n).buffer:new ArrayBuffer(0);r.Su(new qn(Wt,i))},r.wG=function(t){var n=t.initData,i=n?yr(n).buffer:new ArrayBuffer(0);r.Su(new qn(qt,i))},r.yG=function(){r.nG()},r.mG=function(t){r.$X(t)},r.Oo=n,r.hu=i,r.pG=new XI(st(r)),r.kG=new YI(st(r)),r.kG.Iu("playing",r.tG),r.AG(),r}ut(n,t);var i=n.prototype;return i.bG=function(){return void 0!==this.BX&&this.e_===this.BX.Od},i.rG=function(t){this.VL!==t&&(this.VL=t,this.Su(new Zf(this.Gy,t)))},i.CI=function(){return dc(this.Oo)},i.dT=function(){var t=this.TG();return this.EG(),t},i.EG=function(){this.WX?this.XX&&(this.XX=!1,this.Su(new Ja(this.Gy))):this.SG()},i.SG=function(){if(this.xX)this.xX.dT();else{O.Wt&&!O.Ct&&this.Oo.preload===r_.Vv&&(this.Oo.preload=r_.Uy);var t=this.vI.playbackRate,n=this.Oo.play();void 0!==this.HX?(this.vI.playbackRate=this.HX,this.HX=void 0):this.vI.playbackRate=t,q(n)?n.then(this.yG,this.mG):this.kG.DX()&&this.nG()}},i.lT=function(){this.WX?this.XX||(this.XX=!0,this.Su(new of(this.Gy))):this.RG()},i.RG=function(){this.xX?this.xX.lT():(this.Oo.pause(),this.kG.qs()),this.hG(new In)},i.TG=function(){var t=new kr;return this.FX.push(t),t.as},i.IG=function(){for(var t=0,n=this.FX;t<n.length;t++){n[t].cs(void 0)}Sn(this.FX)},i.hG=function(t){for(var n=0,i=this.FX;n<i.length;n++){i[n].hs(t)}Sn(this.FX)},i.nG=function(){this.WX||this.xX||this.IG()},i.$X=function(t){this.WX||this.xX||this.hG(t)},i.ts=function(t,n){this.xX?this.xX.Gy=t:(this.UX.fs(),this.UX=new Rr,this.MX=this.NG(new Mc(t),this.MX,this.UX.bs).catch(G))},i.DI=function(t){if(this.Oo.getStartDate){var n=this.Oo.getStartDate();if(n&&!y(n.getTime())){var i=(t.getTime()-n.getTime())/1e3;this.ts(i)}}},i.NG=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.BX=n,this.vU=!0,this.Su(new Qf(n.Od)),t.next=6,i.catch(G);case 6:if(Dn(r),this.qX&&this.DG(),this.lc!==Qa.yv){t.next=11;break}return t.next=11,this.xu("readystatechange",r);case 11:if(0!==this.Oo.seekable.length){t.next=17;break}return t.next=14,Tt.race([Hs(this.Oo,"timeupdate",r),Pr(100,r)]);case 14:Dn(r),t.next=11;break;case 17:e=this.CG(n),u=this.HT,s=!0;case 20:if((u=this.HT).qa>0&&!u.kf(e)&&(e=u.mf(e),s=!0),!s){t.next=41;break}return s=!1,t.next=26,this.OG(e,r);case 26:Dn(r),o=new Mc(this.Gy),u=this.HT,e=u.mf(e),a=1;case 31:if(e.Nd(o,Mc.Pd)){t.next=41;break}return u=this.HT,e=iN(e,u,a),t.next=36,this.OG(e,r);case 36:Dn(r),o=new Mc(this.Gy),a++,t.next=31;break;case 41:if(this.Oo.seeking||this.lc<Qa.pv){t.next=43;break}return t.abrupt("break",49);case 43:return c=Hs(this.Oo,"seeked",r),h=this.xu([Ia.Lh,"readystatechange"],r),t.next=47,Tt.race([c,h]);case 47:Dn(r);case 48:if(this.Oo.seeking||this.lc<Qa.pv){t.next=20;break}case 49:if(void 0===(f=this.PG())||!e.Id(f)){t.next=61;break}return t.next=53,this.OG(f,r);case 53:return t.next=55,Hs(this.Oo,"seeked",r);case 55:return Dn(r),t.next=58,this.OG(e,r);case 58:return t.next=60,Hs(this.Oo,"seeked",r);case 60:Dn(r);case 61:this.xG(),t.next=69;break;case 64:if(t.prev=64,t.t0=t.catch(0),!Nn(t.t0)){t.next=68;break}return t.abrupt("return");case 68:0;case 69:case"end":return t.stop()}},t,this,[[0,64]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.OG=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(i),r=this.HT,n=r.mf(n),!this.qX){t.next=18;break}e=!0;case 5:if(!(e||this.lc<Qa.kv)){t.next=17;break}if((r=this.HT).kf(n)||(n=r.mf(n),e=!0),!e){t.next=13;break}return e=!1,this.BX=n,this.Su(new Qf(this.Gy)),t.abrupt("continue",5);case 13:return t.next=15,this.xu(["readystatechange",Ia.Rh],i);case 15:t.next=5;break;case 17:Dn(i);case 18:if(u=Hs(this.Oo,"seeking",i),this.Oo.currentTime=n.Od,this.BX=void 0,this.Su(new Qf(this.Gy)),!this.Oo.seeking){t.next=25;break}return t.next=25,u;case 25:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.CG=function(t){var n=this.xT;if(n&&!n.kf(t)){var i=n.xf(t,ZI);if(i>-1){var r=n.Jh(i);if(t.sf(r))return r}}return t},i.PG=function(){var t,n=this.vE&&this.vE.ZF;if(n&&n.qa>0){var i=n.Jh(n.qa-1),r=n.$h(n.qa-1).Hf(new Mc(1/(t="video",new Mc("audio"===t?44100/1024:29.97)).Od).Dd(.5));return r=r.Hf(new Mc(1,1e3)),Mc.hf(i,r)}},i.xG=function(){this.vU=!1,this.qX&&this.BG(),this.Su(new Yf(this.Gy))},i.DG=function(){this.WX||(this.XX=this.Qy,this.WX=!0,this.RG())},i.BG=function(){this.WX&&(this.WX=!1,this.XX||this.EG())},i.LG=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Oo.canPlayType){t.next=2;break}return t.abrupt("return",void 0);case 2:i=0;case 3:if(!(i<n.length)){t.next=10;break}if(0!==(r=n[i]).ru||!this.Oo.canPlayType(r.K_)){t.next=7;break}return t.abrupt("return",r);case 7:i++,t.next=3;break;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ET=function(){this.hN=!1,le(this.Oo)&&(this.Oo.style.display="none")},i.TT=function(){this.hN=!0,le(this.Oo)&&(this.Oo.style.display="block")},i.Vs=function(t){var n=this;return this.PX.oE(function(){var i=Tt.coroutine(bt.mark(function i(r){var e;return bt.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(Dn(r),0!==t.ru){i.next=7;break}e=new IR(t,n,n.hu),n.qX=!1,n.MG(new XI(n)),i.next=15;break;case 7:if(1!==t.ru){i.next=14;break}e=new tI(t,n,n.hu),n.qX=JI,n.MG(n.qX?new zI(n):new XI(n)),KI&&n.Iu(Ia.Xh,n.YX),i.next=15;break;case 14:throw new v("Unsupported configuration");case 15:return n.vE=e,i.next=18,e.ab();case 18:return i.abrupt("return",e);case 19:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},i.QX=function(){this.EX||(this.zX=!0,this.GX=this.Zy,this.Zy=0,this.pG&&this.pG.wF())},i.ZX=function(){this.EX&&(this.zX=!1,this.Zy=this.GX,this.pG&&this.pG.wF())},i.MG=function(t){var n=this.lc;this.pG.bu(),this.pG=t,this.pG.Iu("readystatechange",this.Eu);var i=this.lc;n!==i&&this.Su(new tf(this.Gy,i))},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){var n=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.vU=!1,this.VX=EE.nL(),this.UX.fs(),this.BX=void 0,this.qX=!1,this.WX=!1,this.GR=void 0,this.LX=void 0,this.hG(new In),this.MG(new XI(this)),this.kG.Fa(),this.ZX(),KI&&this.Cu(Ia.Xh,this.YX),t.next=15,this.PX.fs();case 15:return t.next=17,this.PX.oE(Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.vE){t.next=4;break}return t.next=3,n.vE.bu();case 3:n.vE=void 0;case 4:case"end":return t.stop()}},t)})));case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.bu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.UG(),t.next=3,this.Fa();case 3:return t.next=5,this.PX.Va();case 5:this.kG.bu(),this.pG.bu();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.AG=function(){this.vI.addEventListener("play",this.JX),this.vI.addEventListener("pause",this.KX),this.vI.addEventListener("timeupdate",this.oG),this.vI.addEventListener("progress",this.uG),this.vI.addEventListener("loadstart",this.sG),this.vI.addEventListener("ended",this.aG),this.vI.addEventListener("ratechange",this.iG),this.vI.addEventListener("volumechange",this.fG),this.vI.addEventListener("durationchange",this.eG),this.vI.addEventListener("resize",this.vG),this.vI.addEventListener("error",this.cG),void 0!==Lt.WebKitMediaKeys&&"function"==typeof Lt.WebKitMediaKeys.isTypeSupported?this.Oo.addEventListener("webkitneedkey",this.gG):ln()?(this.Oo.addEventListener("encrypted",this.dG),this.Oo.addEventListener("waitingforkey",this.lG)):void 0!==Lt.MSMediaKeys&&"function"==typeof Lt.MSMediaKeys.isTypeSupported?this.Oo.addEventListener("msneedkey",this._G):_n()&&this.Oo.addEventListener("webkitneedkey",this.wG)},i.UG=function(){this.vI.removeEventListener("play",this.JX),this.vI.removeEventListener("pause",this.KX),this.vI.removeEventListener("timeupdate",this.oG),this.vI.removeEventListener("progress",this.uG),this.vI.removeEventListener("loadstart",this.sG),this.vI.removeEventListener("ended",this.aG),this.vI.removeEventListener("ratechange",this.iG),this.vI.removeEventListener("volumechange",this.fG),this.vI.removeEventListener("durationchange",this.eG),this.vI.removeEventListener("resize",this.vG),this.vI.removeEventListener("error",this.cG),this.vI.removeEventListener("encrypted",this.dG),this.vI.removeEventListener("waitingforkey",this.lG),this.vI.removeEventListener("msneedkey",this._G),this.vI.removeEventListener("webkitneedkey",this.gG)},i.FH=function(){this.xX||(this.VX=this.FT,this.xX=new nI(this.Gy,this.e_,this.zy,this.Qy,this.Jy,this.Yy,this.Zy,this.tm),this.UG(),this.xX.Iu($I,this.Eu))},i.VH=function(){if(this.xX){var t=this.xX;this.xX=void 0,t.e_===this.e_||y(t.e_)&&y(this.e_)||this.Su(new uf(this.e_)),this.Zy=t.Zy,t.Qy?this.lT():this.EG(),t.Gy!==this.Gy?this.ts(t.Gy):!t.Jy&&this.Jy?this.Su(new Qf(this.Gy)):t.Jy&&!this.Jy&&this.Su(new Yf(this.Gy)),!t.zy&&this.zy&&this.Su(new hf(this.Gy)),t.Cu($I,this.Eu),this.AG()}},i.FG=function(){this.jX=!0},i.EH=function(){KI&&this.YX(),this.pG.wF()},b(n,[{key:"EX",get:function(){return this.zX}},{key:"xT",get:function(){return this.vE?this.vE.xT:EE.nL()}},{key:"BT",get:function(){if(this.Oo.getStartDate){var t=this.Oo.getStartDate();if(t&&!y(t.getTime())){var n=1e3*this.Gy;return new Date(t.getTime()+n)}}}},{key:"OI",get:function(){if(this.vI.getStartDate)return this.vI.getStartDate()}},{key:"Gy",get:function(){return this.xX?this.xX.Gy:void 0!==this.BX?this.BX.Od:this.Oo.currentTime}},{key:"e_",get:function(){return this.xX?this.xX.e_:this.vE?this.vE.e_:this.Oo.duration}},{key:"zy",get:function(){return this.Jy?this.bG():this.xX?this.xX.zy:this.Oo.ended}},{key:"Vu",get:function(){return this.GR}},{key:"vI",get:function(){return this.Oo}},{key:"Qy",get:function(){return this.WX?this.XX:this.xX?this.xX.Qy:this.Oo.paused}},{key:"FT",get:function(){return this.VX.Cf(EE.jf(this.Oo.played))}},{key:"P_",get:function(){return this.Oo.offsetHeight*CS.FU}},{key:"q_",get:function(){return this.Oo.offsetWidth*CS.FU}},{key:"lc",get:function(){return this.pG.lc}},{key:"HT",get:function(){return this.vE?this.vE.HT:EE.nL()}},{key:"Jy",get:function(){return this.xX?this.xX.Jy:this.vU}},{key:"Yy",get:function(){return this.xX?this.xX.Yy:this.Oo.muted},set:function(t){this.xX?this.xX.Yy=t:this.Oo.muted=t}},{key:"Zy",get:function(){return this.xX?this.xX.Zy:void 0!==this.HX?this.HX:this.Oo.playbackRate},set:function(t){this.xX?this.xX.Zy=t:this.Qy?(this.HX=t,this.rG(t)):this.Oo.playbackRate=t}},{key:"VG",get:function(){return this.hN}},{key:"tm",get:function(){return this.xX?this.xX.tm:this.Oo.volume},set:function(t){this.xX?this.xX.tm=t:this.Oo.volume=t}},{key:"MT",get:function(){return!!this.Oo.webkitCurrentPlaybackTargetIsWireless}},{key:"HG",get:function(){return this.jX}}]),n}(Mn),nN=new Mc(1,100);function iN(t,n,i){if(void 0===i&&(i=0),!n.qa)return new Mc(0);var r=n.mf(t),e=nN.Dd(i);r.if(n.Jh(0))?r=r.Df(e):r.if(n.$h(n.qa-1))&&(r=r.Hf(e));var u=r.Rd(Mc.Ld);return Mc.Ed(u)}var rN=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.ST=function(){},b(n,[{key:"Ky",get:function(){return 0}},{key:"$y",get:function(){return 0}}]),n}(tN),eN=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.ST=function(){return this.Oo},b(n,[{key:"vI",get:function(){return this.Oo}},{key:"Ky",get:function(){return this.Oo.videoHeight}},{key:"$y",get:function(){return this.Oo.videoWidth}}]),n}(tN),uN=2,sN=["audio","video"];function oN(t){var n=u.createElement(t);return le(n)&&function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()})}(n),aN(n),n}function aN(t){t.removeAttribute("id"),t.removeAttribute("class"),t.removeAttribute("style"),function(t){if(t)for(var n;n=t.firstChild;)t.removeChild(n)}(t),_e(t),t.pause(),t.playbackRate=1,t.preload=r_.qT,t.controls=!1,t.style.display="none",le(t)&&(t.style.width="100%",t.style.height="100%",t.style.pointerEvents="none",t.playsInline=!0,t.setAttribute("webkit-playsinline",""))}function cN(t,n){if(n.BU){var i=t.muted;t.muted=!0,t.muted=!1,t.muted=i}else if(t.paused){var r=t.play();q(r)&&Dr(r),t.pause()}}var hN;Pt=(hN={qG:function(){function t(t,n,i){void 0===t&&(t=uN),void 0===n&&(n=sN),void 0===i&&(i=Ae()),this.WG=t,this.XG=[].concat(n),this.hu=i,this.GG=Rt(),this.zG()}var n=t.prototype;return n.lN=function(t){for(var n=0,i=this.jG;n<i.length;n++){var r=i[n];t.appendChild(r)}},n.hI=function(t){var n=pn(this.GG.get(t),function(t){return t.YG});if(n)return n.YG=!1,n.QG},n.NI=function(t){var n=t.vI,i=n.tagName.toLowerCase();t.Fa(),aN(n);var r=pn(this.GG.get(i)||[],function(n){return t===n.QG});r&&(r.YG=!0)},n.mN=function(){for(var t=0,n=this.jG;t<n.length;t++){cN(n[t],CS)}},n.Va=function(){for(var t=0,n=this.AN;t<n.length;t++){var i=n[t],r=i.vI;i.bu(),aN(r),ae(r)}},n.zG=function(){for(var t=0,n=this.XG;t<n.length;t++){var i=n[t],r=[];this.GG.set(i,r);for(var e=0;e<this.WG;e++){var u=oN(i),s="audio"===i?new rN(u,this.hu):new eN(u,this.hu);r.push({QG:s,YG:!0})}}},b(t,[{key:"AN",get:function(){for(var t=[],n=0,i=this.XG;n<i.length;n++){var r=i[n],e=this.GG.get(r).map(function(t){return t.QG});t.push.apply(t,e)}return t}},{key:"jG",get:function(){return this.AN.map(function(t){return t.vI})}}]),t}(),ZG:function(){function t(n){var i=this;this.dN=n,this.JG=new m_,this.KG=Tt.coroutine(bt.mark(function n(){var r,e,u;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.dN.hI("video"),e=r.vI,n.next=4,t.$G(e);case 4:return u=n.sent,i.dN.NI(r),n.abrupt("return",u);case 7:case"end":return n.stop()}},n)}))}var n=t.prototype;return n.SU=function(){return this.JG.oE(this.KG)},n.kT=function(){this.dN.mN()},t.$G=function(){var n=Tt.coroutine(bt.mark(function n(i){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.src||(i.src="data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"),n.next=3,t.tz();case 3:return n.next=5,t.nz(i);case 5:if(!n.sent){n.next=7;break}return n.abrupt("return","all");case 7:return n.next=9,t.iz(i);case 9:if(!n.sent){n.next=11;break}return n.abrupt("return","muted");case 11:return n.abrupt("return","none");case 12:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.nz=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.play(),t.prev=1,q(i)){t.next=4;break}return t.abrupt("return",!O.Pt);case 4:return t.next=6,i;case 6:return t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",!1);case 12:return t.prev=12,n.pause(),t.finish(12);case 15:case"end":return t.stop()}},t,null,[[1,9,12,15]])}));return function(n){return t.apply(this,arguments)}}(),t.iz=function(){var n=Tt.coroutine(bt.mark(function n(i){var r;return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i.muted=!0,n.next=3,t.nz(i);case 3:return r=n.sent,i.muted=!1,n.abrupt("return",r);case 6:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}(),t.tz=function(){return new Tt(function(t){if("function"==typeof MessageChannel){var n=new MessageChannel;n.port1.onmessage=function(){return t()},n.port2.postMessage("")}else a(t,0)})},n.Va=function(){this.JG.Va()},t}(),rz:{CD:function(t){Lt.addEventListener("beforeunload",t)},WD:function(t){Lt.removeEventListener("beforeunload",t)}},ez:e}).qG,xt=hN.ZG,Bt=hN.rz,Lt=hN.ez,Mt=Lt&&Lt.location,Ut=Lt&&Lt.navigator;var fN=[];function vN(){fN.shift()()}function dN(t){fN.push(t),a(vN,0)}var lN=function(){function t(t){this.uz=t}var n=t.prototype;return n.sz=function(t){return this.oz=this.oz||{},void 0===this.oz[t]&&(this.oz[t]=[]),this.oz[t]},n.addEventListener=function(t,n){var i=this.sz(t);-1===i.indexOf(n)&&i.push(n)},n.Sa=function(t){(this.az||(this.az=[])).push(t)},n.removeEventListener=function(t,n){var i=this.sz(t);n?An(i,n):i.length=0},n.Ra=function(t){var n=this.az;n&&An(n,t)},n.Du=function(){this.oz=void 0},n.dispatchEvent=function(t,n){if(n)return dN(this.dispatchEvent.bind(this,t));"string"==typeof t&&(t={type:t});for(var i=this.sz(t.type).slice(),r=this.az&&this.az.slice(),e=0;e<i.length;e++){i[e].call(this.uz||this,t)}if(r)for(var u=0;u<r.length;u++){r[u].call(this.uz||this,t)}},n.cz=function(t){return Boolean(this.oz&&this.oz[t]&&this.oz[t].length)},n.hz=function(){return this.oz?l.keys(this.oz):[]},t}(),_N=function(){function t(){this.fz=[]}var n=t.prototype;return n.vz=function(t,n){var i=this.fz[t];return i?new i(n):null},n.DU=function(t,n){this.fz[t]=n},t}();function gN(t){return t.dz}_N.$t=new _N;var wN=function(){function t(){this.zD=[],this.lz={},this._z=0}var n=t.prototype;return n.gz=function(t){var n=this.lz[t];return void 0===n?-1:n-this._z},n.wz=function(t){return this.zD[t]},n.yz=function(t){return this.wz(this.gz(t))},n.mz=function(t){return!!this.wz(t)},n.pz=function(t){return!!this.yz(t)},n.kz=function(){return this.zD},n.Df=function(t){var n,i=this.zD,r=i.length?i[i.length-1]:null;if(this.gz(t.dz)>=0)return!1;if(r&&t.dz>r.dz)n=i.length;else{var e=ul(this.zD,t.dz,gN,Pc);if(e>=0)return!1;n=-(e+1)}return this.Az(t,n),!0},n.Hs=function(t){var n=this.zD,i=this.lz,r=this.gz(t.dz);return!(r<0)&&(n.splice(r,0,t),delete i[t.dz],this.bz(r),!0)},n.Tz=function(t){var n=this.zD,i=this.lz;t=_.min(t,n.length);for(var r=0;r<t;r++)delete i[n[r].dz];n.splice(0,t),this._z+=t},n.Az=function(t,n){var i=this.zD;n>=i.length?i.push(t):i.splice(n,0,t),this.bz(n)},n.bz=function(t){for(var n=this.zD,i=this.lz,r=this._z,e=n.length,u=t;u<e;u++)i[n[u].dz]=u+r},b(t,[{key:"qa",get:function(){return this.zD.length}}]),t}(),yN=function(){function t(t,n,i){this.Ez=t,this.Sz=n,this.Rz=i}var n=t.prototype;return n.compute=function(){return this.Ez.live?this.Ez.Iz?this.Ez.Nz:this.estimateDiscontinuitySequenceNumber():0},n.estimateDiscontinuitySequenceNumber=function(){var t=0;return this.Rz&&(t+=this.Dz()),this.Cz()&&(t+=this.Oz(t)),t},n.Cz=function(){return void 0!==this.Sz.Pz.yz(this.Ez.fragments[0].dz)},n.Oz=function(t){var n=this.Ez.fragments[0];return this.Sz.Pz.yz(n.dz).xz-(n.xz+t)||0},n.Dz=function(){var t=mN(this.Ez),n=mN(this.Rz.Bz),i=this.estimateMinimalOffset(n,t);return this.getOldDiscontinuitySequenceNumber(this.Rz)+i},n.estimateMinimalOffset=function(t,n){for(var i=0,r=1/0,e=0;e<t.length;e+=1){for(var u=0,s=0;s<n.length+t.length;s+=1){var o=t[s]||0,a=n[s-e]||0;u+=_.abs(o-a)}u<r&&(i=e,r=u)}return i},n.getOldDiscontinuitySequenceNumber=function(t){return t.Bz.fragments.length?this.Rz.Lz(t.Bz.fragments[0].dz).xz:0},t}();function mN(t){for(var n=[],i=0,r=0,e=t.fragments;r<e.length;r++){var u=e[r];u.Mz&&(n.push(i),i=0),i+=u.duration}return n.push(i),n}var pN=function(t){function n(n){return t.call(this,"qs",n)||this}return ut(n,t),n.prototype.Da=function(){return new kN(this.xA.Na)},n}(fl),kN=function(t){function n(n){return t.call(this,"update",n)||this}return ut(n,t),n}(vl),AN=function(t){function n(n,i){var r,e=bN(i,n.e_,n.OI,n.Uz);return(r=t.call(this,i,e,void 0,!1,n.ic)||this).Fz=n.Vz,r.Hz=n.OI,r.qz=n.Uz,r.WH=n.e_,r.Wz=n.Xz,r.Gz=Boolean(n.zz),r.jz=n.Yz||{},r.Qz=n.Zz,r.Jz=n.Kz,r.$z=n.tj,r.nj(),r.ij(),r}ut(n,t);var i=n.prototype;return i.qs=function(t){var n=!1;if(void 0===this.Fz&&void 0!==t.Vz&&(n=!0,this.Fz=t.Vz),void 0===this.qz&&void 0!==t.Uz&&(n=!0,this.qz=t.Uz),void 0===this.WH&&void 0!==t.e_&&(n=!0,this.WH=t.e_),void 0===this.Wz&&void 0!==t.Xz&&(n=!0,this.Wz=t.Xz),!this.Gz&&t.zz&&(n=!0,this.Gz=t.zz),t.Yz)for(var i=0,r=l.keys(t.Yz);i<r.length;i++){var e=r[i];void 0===this.jz[e]&&(n=!0,this.jz[e]=t.Yz[e])}void 0===this.Qz&&void 0!==t.Zz&&(n=!0,this.Qz=t.Zz),void 0===this.Jz&&void 0!==t.Kz&&(n=!0,this.Jz=t.Kz),void 0===this.$z&&void 0!==t.tj&&(n=!0,this.$z=t.tj),this.nj(),this.ij(),this.rj(),n&&this.Su(new pN(this))},i.nj=function(){this.WH&&!this.qz&&(this.qz=new Date(this.Hz.getTime()+1e3*this.WH))},i.ij=function(){this.qz&&!this.WH&&(this.WH=et(this.qz.getTime()-this.Hz.getTime()))},i.rj=function(){this.Uk===1/0&&(this.qz||this.WH)&&(this.Uk=bN(this.Mk,this.WH,this.Hz,this.qz))},b(n,[{key:"Na",get:function(){var t;return this.Ia||(this.Ia=zs(yv(t=this),{get content(){return t.Ok},get class(){return t.Vz},get startDate(){return t.OI},get endDate(){return t.Uz},get duration(){return t.e_},get plannedDuration(){return t.Xz},get endOnNext(){return t.zz},get scte35Cmd(){return t.Zz},get scte35Out(){return t.Kz},get scte35In(){return t.tj},get customAttributes(){return t.Yz}})),this.Ia}},{key:"Vz",get:function(){return this.Fz}},{key:"OI",get:function(){return this.Hz}},{key:"Uz",get:function(){return this.qz}},{key:"e_",get:function(){return this.WH}},{key:"Xz",get:function(){return this.Wz}},{key:"zz",get:function(){return this.Gz}},{key:"Zz",get:function(){return this.Qz}},{key:"Kz",get:function(){return this.Jz}},{key:"tj",get:function(){return this.$z}},{key:"Yz",get:function(){return this.jz}}]),n}(Av);function bN(t,n,i,r){return B(n)?t+n:r?t+(et(r.getTime())-et(i.getTime())):1/0}var TN,EN,SN,RN,IN,NN=function(t){function n(){return t.call(this,void 0,void 0,"daterange")||this}ut(n,t);var i=n.prototype;return i.qs=function(t,n){var i=this;t=function(t){for(var n=Rt(),i=[],r=0;r<t.length;r++){var e=t[r];if(n.has(e.ic)){var u=n.get(e.ic),s=Et(Et(Et({},u),Zs(e)),{Yz:Et(Et({},u.Yz),e.Yz)});n.set(e.ic,s)}else n.set(e.ic,e),i.push(e.ic)}return i.map(function(t){return n.get(t)})}(t);for(var r=this._c.Ha,e=function(n){var e=r[n],u=pn(t,function(t){return t.ic===e.ic});u?e.qs(u):i.Mb(e)},u=r.length-1;u>=0;u--)e(u);for(var s=0,o=t;s<o.length;s++){var a=o[s],c=a.OI;if(void 0!==c&&!this.Cb(a.ic)){var h=n(c);this.Bb(new AN(a,h))}}},i.Bb=function(n){this.ej(n),t.prototype.Bb.call(this,n)},i.ej=function(t){var n=this.vb.filter(function(n){return n.Vz===t.Vz}).pop();n&&n.zz&&n.qs({ic:n.ic,Uz:t.OI})},n}(oy);function DN(t){return CN(t)?{Zl:t.uj,r_:[t.r_.Jh,t.r_.$h],tw:!0}:{Zl:t.toString(),tw:!0}}function CN(t){return void 0!==t.r_}function ON(t){return t&&t.sj&&rd(t.sj)||!1}function PN(t){if(!t)return Yc.xd;if(!ON(t))return Yc.yl(t.duration);var n=t.oj||Yc.xd,i=t.aj||Yc.xd,r=Yc.yl(t.duration);return n.Jd()||i.Jd()?n.Jd()?i.Jd()?r.Jd()?Yc.xd:r:i:n:Yc.cf(n,i)}function xN(t){for(var n=0;n<t.length;n++){var i=t[n];if(i.Fb)return i}return null}function BN(t){return xN(t)||function(t){return t.filter(function(t){return t.cj})}(t)[0]||t[0]}function LN(t,n){for(var i=0;i<n.length;i++){var r=n[i];Tn(t,r)||t.push(r)}return t}function MN(t){switch(t){case RN.HR:case RN.hj:return"video";case RN.qR:return"audio"}}!function(t){t.fj="alternative",t.vj="main",t.dj="commentary",t.lj="",t.Ly="descriptions",t._j="main-desc",t.gj="translation"}(TN||(TN={})),function(t){t.fj="alternative",t.vj="main",t.dj="commentary",t.lj="",t.By="captions",t.wj="sign",t.xy="subtitles"}(EN||(EN={})),function(t){t.HR="video",t.qR="audio",t.yj="closedCaption",t.mj="variant"}(SN||(SN={})),function(t){t[t.Py=-1]="Py",t[t.qR=0]="qR",t[t.HR=1]="HR",t[t.hj=2]="hj"}(RN||(RN={})),function(t){t[t.Py=-1]="Py",t[t.pj=1]="pj",t[t.kj=2]="kj",t[t.Aj=3]="Aj",t[t.bj=4]="bj"}(IN||(IN={})),function(t){t.Tj=function(n){return n>=t.kj},t.Ej=function(n){return n===t.kj||n===t.Aj}}(IN||(IN={}));var UN=function(t){function n(){var n;return(n=t.call(this)||this).Sj=[],n.Rj=function(){return n.dispatchEvent("Ij")},n.Nj=function(){return n.dispatchEvent("Dj")},n}ut(n,t);var i=n.prototype;return i.Df=function(t){this.Sj.push(t),t.addEventListener("Dj",this.Nj),t.addEventListener("Cj",this.Rj),this.dispatchEvent("Oj"),t.disabled||this.dispatchEvent("Ij")},i.Hs=function(t){var n=this.Sj.indexOf(t);n<0||(bn(this.Sj,n),t.removeEventListener("Dj",this.Nj),t.removeEventListener("Cj",this.Rj),this.dispatchEvent("Oj"),t.disabled||this.dispatchEvent("Ij"))},i.Zu=function(){for(var t=!!this.Pj.length,n=!!this.xj.length,i=0,r=this.Sj;i<r.length;i++){r[i].removeEventListener("Cj",this.Rj)}this.Sj.length=0,t&&this.dispatchEvent("Oj"),n&&this.dispatchEvent("Ij")},i.Va=function(){this.Du(),this.Zu()},b(n,[{key:"Pj",get:function(){return this.Sj}},{key:"xj",get:function(){return this.Sj.filter(function(t){return!t.disabled})}}]),n}(lN);function FN(t){if(!t)return null;for(var n={Bj:"",Lj:"",Mj:""},i=t.toLowerCase().split(","),r=0;r<i.length;r++){var e=i[r],u=e.trim();"mp4a.40.5"===u||"mp4a.40.05"===u?n.Bj="mp4a.40.5":"mp4a.40.2"===u||"mp4a.40.02"===u?n.Bj="mp4a.40.2":"mp4a.40.29"===u?n.Bj="mp4a.40.29":0===u.indexOf("mp4a.40.3")?n.Bj=u:"ec-3"===u?n.Bj=u:0===u.indexOf("avc")?n.Lj=e:n.Mj+=","+u}return n}var VN=function(t){function n(n,i,r,e,u,s,o,a,c,h,f,v,d,l,_,g){var w;return void 0===_&&(_=TN.vj),(w=t.call(this)||this).Uj=new wN,w.Fj=NaN,w.Vj=void 0,w.Hj=void 0,w.Rb=void 0,w.qj=void 0,w.Wj=!1,w.Xj=null,w.Gj=!1,w.zj=!0,w.jj=!0,w.Yj=!0,w.Qj=void 0,w.Zj=void 0,w.Jj=void 0,w.Kj=void 0,w.$j=void 0,w.tY=void 0,w.nY=null,w.iY=void 0,w.rY=void 0,w.eY=n,w.uY=Boolean(l),w.qS=i,w.Hk=r||0===r?r:-1,w.sY=e,w.gP=u,w.oY=Boolean(s),w.aY=Boolean(o),w.cY=FN(a),w.hY=g,w.fY=c,w.qj=h,w.vY=f,w.Hj=v,w.Rb=d,w.Sb=_,w}ut(n,t),n.createFromPlaylistStream=function(t,i,r){return new n(t,i.name||i.media&&i.media.name||void 0,i.id,i["average-bandwidth"],i.uri,void 0,void 0,i.codecs,i.dz,i.audio,i.resolution,i.bandwidth,i.media?i.media.language:void 0,r,t.dY[0]?t.dY[0].ec:TN.vj)},n.createFromPlaylistMedia=function(t,i,r,e){return new n(t,i.name,i.id,void 0,i.uri,!!i.default&&"yes"===i.default.toLowerCase(),i.autoselect?"yes"===i.autoselect.toLowerCase():void 0,void 0,void 0,void 0,void 0,void 0,i.language,r,function(t){if(t.default&&"yes"===t.default.toLowerCase())return t.characteristics&&un(t.characteristics,"public.accessibility.describes-video")?TN._j:TN.vj;if(t.characteristics&&un(t.characteristics,"public.accessibility.describes-video"))return TN.Ly;return TN.fj}(i),e)},n.createFromUri=function(t,i,r){return new n(t,void 0,void 0,void 0,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,r)};var i=n.prototype;return i.lY=function(t,n){var i=ml(),r=new yN(t,this,n).compute(),e=this._Y(t.fragments),u=e.oldFragments,s=e.newFragments;this.gY(u,i),this.wY(s,i,r),this.Vj!==t&&this.yY(!0),this.Vj=t,this.dispatchEvent({type:"mY",pY:this}),this.dispatchEvent("renditionUpdated")},i.Lz=function(t){return this.Uj.yz(t)},i.kY=function(){null!==this.Xj&&c(this.Xj),this.dispatchEvent("Cj"),this.dispatchEvent("renditionUpdated")},i.AY=function(t){this.Gj=t,this.kY()},i.bY=function(){this.TY(3e4)},i.Va=function(){null!==this.Xj&&c(this.Xj),this.Du()},i.EY=function(){var t=this.zj;this.zj=this.jj&&this.Yj,t!==this.zj&&this.dispatchEvent("Dj")},i.yY=function(t){this.jj=t,this.EY()},i.SY=function(t){this.Yj=t,this.EY()},i.RY=function(t){this.cY="string"==typeof t?FN(t):t,this.dispatchEvent("renditionUpdated")},i.TY=function(t){var n=this;this.Wj=!0,this.kY(),this.Xj=a(function(){n.Wj=!1,n.kY()},t)},i.IY=function(t,n){return t?!n&&t.Bj&&t.Lj?RN.hj:t.Lj?RN.HR:t.Bj?RN.qR:RN.Py:RN.Py},i._Y=function(t){void 0===t&&(t=[]);for(var n=[],i=[],r=0,e=t;r<e.length;r++){var u=e[r];this.Uj.pz(u.dz)?n.push(u):i.push(u)}return{oldFragments:n,newFragments:i}},i.gY=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=this.Uj.yz(r.dz);e.NY=LN(e.NY,r.NY),e.DY=r.DY||e.DY,e.CY=n}},i.wY=function(t,n,i){var r=this.OY(t);!function(t,n){for(var i=0,r=t.length-1;r>=0;r--){var e=t[r];e.Fm=n-i,i+=1e3*e.duration}}(r,n),function(t,n){for(var i=0;i<t.length;i++){var r=t[i];r.xz+=n}}(r,i),this.addRenditionFragments(r)},i.OY=function(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.pY=this;var e=Et({},r);n.push(e)}return n},i.addRenditionFragments=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Uj.Df(i),y(this.Fj)&&(this.Fj=i.dz)}},b(n,[{key:"ic",get:function(){return this.Hk}},{key:"disabled",get:function(){return this.Wj||this.Gj},set:function(t){this.Wj=t,this.kY()}},{key:"UT",get:function(){return this.zj}},{key:"PY",set:function(t){this.uY=t}},{key:"I_",get:function(){return this.cY}},{key:"bandwidth",get:function(){return this.Hj},set:function(t){this.Hj=t,this.dispatchEvent("renditionUpdated")}},{key:"ec",get:function(){return this.Sb}},{key:"resolution",get:function(){return this.vY},set:function(t){this.vY=t,this.dispatchEvent("renditionUpdated")}},{key:"uri",get:function(){return this.gP||this.Vj&&this.Vj.uri},set:function(t){this.gP=t,this.dispatchEvent("renditionUpdated")}},{key:"Bz",get:function(){return this.Vj}},{key:"Pz",get:function(){return this.Uj}},{key:"xY",get:function(){return void 0!==this.hY?this.hY:this.IY(this.cY,this.uY)}},{key:"BY",get:function(){return this.Vj?this.Vj.live?this.Vj.duration<-60?IN.Aj:IN.bj:IN.pj:IN.Py}},{key:"rn",get:function(){return this.qS},set:function(t){this.qS=t,this.dispatchEvent("renditionUpdated")}},{key:"dz",get:function(){return this.fY}},{key:"sc",get:function(){return this.Rb}},{key:"Fb",get:function(){return this.oY}},{key:"cj",get:function(){return this.aY||this.oY}},{key:"Bj",get:function(){return this.qj}},{key:"LY",get:function(){return this.Fj}},{key:"MY",get:function(){return!!this.Bz}},{key:"UY",get:function(){return this.sY}},{key:"nO",get:function(){return this.eY}}]),n}(lN);var HN=function(t){function n(n,i){var r;(r=t.call(this)||this).Uj=new wN,r.Vj=void 0,r.FY=null,r.VY=function(){return r.HY()},r.eY=n,r.zo=i.type,r.Hk=i.id||0===i.id?i.id:-1,r.gP=i.uri,r.Rb=i.language,r.qS=i.name,r.oY=!!i.default&&"yes"===i.default.toLowerCase(),r.aY=!!i.autoselect&&"yes"===i.autoselect.toLowerCase();var e=function(t){if(un(t.characteristics,"public.accessibility.describes-music-and-sound"))return vf.By;return vf.xy}(i);return r.qY=new Zl(e,r.qS,r.Rb,void 0,"webvtt"),r.oY&&(r.qY.dc=oo.fc),r}ut(n,t);var i=n.prototype;return i.lY=function(t){this.Vj=t,this.gY(t.fragments),this.HY(),this.dispatchEvent({type:"mY",rendition:this}),this.dispatchEvent("renditionUpdated")},i.Va=function(){this.Du(),this.Dk=null},i.gY=function(t){for(var n=0;n<t.length;n++){var i=t[n];i.pY=this;var r=this.Uj.yz(i.dz);r?r.NY=LN(r.NY,i.NY):(r=Et({},i),this.Uj.Df(r),this.dispatchEvent({type:"WY",YW:r}))}},i.HY=function(){this.FY&&this.FY.XY(this,this.Uj)},b(n,[{key:"GY",get:function(){return this.qY}},{key:"Dk",get:function(){return this.FY},set:function(t){this.FY&&this.FY.removeEventListener("zY",this.VY),this.FY=t,this.HY(),this.FY&&this.FY.addEventListener("zY",this.VY)}},{key:"ic",get:function(){return this.Hk}},{key:"sc",get:function(){return this.Rb}},{key:"Fb",get:function(){return this.oY}},{key:"cj",get:function(){return this.aY||this.oY}},{key:"uj",get:function(){return this.gP}},{key:"uri",get:function(){return this.gP}},{key:"Bz",get:function(){return this.Vj}},{key:"Pz",get:function(){return this.Uj}},{key:"ru",get:function(){return this.zo}},{key:"BY",get:function(){return this.Vj?this.Vj.live?this.Vj.duration<-60?IN.Aj:IN.bj:IN.pj:IN.Py}},{key:"rn",get:function(){return this.qS},set:function(t){this.qS=t,this.qY.uc=this.qS}},{key:"nO",get:function(){return this.eY}},{key:"disabled",get:function(){return!1}}]),n}(lN),qN=function(t){function n(n,i){var r;(r=t.call(this)||this).jY=["renditionUpdated","mY","YY"],r.QY=null,r.ZY=null,r.JY=null,r.KY=null,r.$Y=new UN,r.tQ=new UN,r.nQ=new UN,r.qA={},r.iQ=null,r.WH=NaN,r.Eu=function(t){return r.dispatchEvent(t)},r.mo=n,r.rQ=i;var e=st(r);return r.eQ=function(){e.uQ(this)},r.sQ=function(t){e.oQ(this,t)},r}ut(n,t);var i=n.prototype;return i.aQ=function(t,n){var i=new pR(n);return i.dc=oo.hc,this.qA[i.ic]=i,this.dispatchEvent({type:"cQ",Ca:i}),i},i.hQ=function(t,n,i){var r=new oy(i,"manifest");return r.dc=oo.hc,this.qA[r.ic]=r,this.dispatchEvent({type:"cQ",Ca:r}),r},i.fQ=function(t,n){if(t){var i=t._c,r=t.vQ,e=t&&this.qA[r];e||(e=new pR(t.vc),this.qA[r]=e,e.dc=oo.hc,this.dispatchEvent({type:"cQ",Ca:e}));for(var u=0;u<i.length;u++){var s=i[u];e.Bb(s)}}},i.dQ=function(t){t&&(this.lQ||(this.lQ=new Zl(vf.By,"CC1","en",!0,"cea608"),this.qA.CC1=this.lQ,this.dispatchEvent({type:"cQ",Ca:this.lQ})),this.lQ.Bb(t))},i._Q=function(t,n,i){var r=this.qA[t];if(r){var e=[];!function(t,n,i,r){for(var e=0,u=t._c.Ha;e<u.length;e++){var s=u[e];if(s.u_>=i)break;n<s.Ck&&r.push(s)}}(r,n,i,e);for(var u=0;u<e.length;u++){var s=e[u];r.Mb(s)}}},i.gQ=function(t,n){return this.wQ(t,n)},i.yQ=function(t){var n;return(n=this.mQ(t,this.$Y))?n:(n=this.mQ(t,this.tQ))?n:n=this.mQ(t,this.nQ)},i.Va=function(){this.Pu(this.$Y),this.$Y.Va(),this.Pu(this.tQ),this.tQ.Va(),this.Pu(this.nQ),this.nQ.Va(),this.qA={},this.lQ=void 0,this.pQ&&(this.pQ.Va(),this.pQ=void 0),this.iQ=null,this.WH=NaN,this.QY=null,this.ZY=null,this.JY=null,this.KY=null,this.dispatchEvent("Va")},i.kQ=function(t){var n=VN.createFromUri(this,t.uri);this.Pu(this.tQ),this.tQ.Df(n),n.addEventListener("renditionUpdated",this.eQ)},i.uQ=function(t){var n=t.Bz,i=t.BY;if(y(this.WH)||IN.Tj(i)){if(IN.Py===i)return;if(!n)return;this.WH=n.duration,this.dispatchEvent("AQ")}y(this.WH)||IN.pj!==i||t.removeEventListener("renditionUpdated",this.eQ)},i.bQ=function(t){var n=this;this.Pu(this.$Y),this.$Y.Zu(),this.Pu(this.tQ),this.tQ.Zu(),this.nQ.Zu(),this.iQ=t;for(var i=t.streams.map(function(t){return VN.createFromPlaylistStream(n,t)}).filter(function(t){return function(t){if(!t)return!0;if(t.Bj&&!un(t.Bj,"mp4a")&&!un(t.Bj,"mp3"))return!1;if(t.Lj&&!un(t.Lj,"avc1"))return!1;return!0}(t.I_)}),r=i.some(function(t){return t.I_&&t.I_.Bj}),e=i.some(function(t){return t.I_&&t.I_.Lj}),u=0;u<i.length;u++){var s=i[u],o=Boolean(s.I_&&s.I_.Bj),a=Boolean(s.I_&&s.I_.Lj);r&&!o||e&&!a||(this.tQ.Df(s),s.addEventListener("renditionUpdated",this.eQ))}for(var c=function(t,i){var r=i[t];switch(r.type.toLowerCase()){case"subtitles":if(!n.rQ){var e=new HN(n,r);n.nQ.Df(e),n.dispatchEvent({type:"cQ",Ca:e.GY})}break;case"closed-captions":break;case"audio":var u=n.tQ.Pj.filter(function(t){return t.Bj===r["group-id"]});if(0===u.length)return"continue";r.uri&&u.forEach(function(t){return t.PY=!0});var s=r.uri?RN.qR:RN.hj,o=VN.createFromPlaylistMedia(n,r,!1,s);n.$Y.Df(o)}},h=0,f=t.media;h<f.length;h++)c(h,f);this.TQ=BN(this.dY.xj)||null,this.dispatchEvent("EQ")},i.mQ=function(t,n){for(var i=0,r=n.Pj;i<r.length;i++){var e=r[i];if(e.uri===t)return e}return null},i.oQ=function(t,n){this.dispatchEvent(Et(Et({},n),{pY:t}))},i.SQ=function(t){for(var n=0,i=t.Pj;n<i.length;n++)for(var r=i[n],e=0,u=this.jY;e<u.length;e++){var s=u[e];r.addEventListener(s,this.sQ)}},i.Pu=function(t){for(var n=0,i=t.Pj;n<i.length;n++){i[n].Va()}},i.RQ=function(t,n){0!==t.length&&this.mo.hlsDateRange&&(this.pQ||(this.pQ=new NN,this.dispatchEvent({type:"cQ",Ca:this.pQ})),this.pQ.qs(t,n))},i.IQ=function(t,n){if(this.ZY!==t){var i=this.ZY;this.ZY=t,this.dispatchEvent({type:"NQ",xY:"Bj",pY:this.ZY,DQ:i,CQ:n})}},i.wQ=function(t,n){if(this.JY!==t){var i=this.JY;this.JY=t,t&&this.dispatchEvent({type:"NQ",xY:"Lj",pY:this.JY,DQ:i,CQ:n})}},i.OQ=function(t){for(var n=0,i=t.Pj;n<i.length;n++){var r=i[n];if(r.BY!==IN.Py)return r.BY}return null},b(n,[{key:"PQ",get:function(){return this.QY},set:function(t){t&&(0===t.streams.length?this.kQ(t):this.bQ(t),this.QY=t,this.SQ(this.tQ),this.SQ(this.$Y),this.dispatchEvent("xQ"))}},{key:"BQ",get:function(){return this.iQ}},{key:"e_",get:function(){return this.WH}},{key:"fT",get:function(){var t=this,n=this.nQ.Pj.map(function(t){return t.GY}),i=l.keys(this.qA).map(function(n){return t.qA[n]});return this.lQ&&i.push(this.lQ),this.pQ&&i.push(this.pQ),n.concat(i)}},{key:"TQ",get:function(){return this.ZY},set:function(t){this.IQ(t,!0)}},{key:"LQ",get:function(){return this.JY},set:function(t){this.wQ(t,!1)}},{key:"dY",get:function(){return this.$Y}},{key:"MQ",get:function(){return this.tQ}},{key:"UQ",get:function(){return this.nQ.Pj}},{key:"BY",get:function(){var t;return null!==(t=this.ZY&&this.ZY.BY)&&t!==IN.Py?t:null!==(t=this.JY&&this.JY.BY)&&t!==IN.Py?t:null!==(t=this.OQ(this.$Y))?t:null!==(t=this.OQ(this.tQ))?t:IN.Py}}]),n}(lN);var WN=function(t){function n(n,i,r){var e,u,s,o,a;return(e=t.call(this)||this).im=[],e.FQ={},e.Eu=function(t){return e.dispatchEvent(t)},e.VQ=function(t){e.HQ(t)},e.qQ=function(t){e.handleRenditionUpdated(t)},e.WQ=function(t){for(var n=0,i=e.im;n<i.length;n++){i[n].XQ.WQ(t)}},e.GQ=n,e.zQ=i,e.jQ=r,e.zQ&&e.zQ.addEventListener("NQ",e.VQ),e.jQ&&(e.jQ.addEventListener("renditionUpdated",e.qQ),e.jQ.addEventListener("YQ",e.WQ)),e.Na=(u=st(e),s=new lN,o={get length(){return u.im.length},enable:function(t){u.um(u.QQ(t&&t.id)||t)},disable:function(t){u.sm(u.QQ(t&&t.id)||t)},item:function(t){return u.im[t]&&u.im[t].Na},getTrackByID:function(t){var n=u.QQ(t);return n&&n.Na},addEventListener:function(t,n){s.addEventListener(t,n)},removeEventListener:function(t,n){s.removeEventListener(t,n)}},a=function(t){return s.dispatchEvent(t,!0)},u.addEventListener("addtrack",a),u.addEventListener("enabledtrack",a),u.addEventListener("disabledtrack",a),o),e}ut(n,t);var i=n.prototype;return i.QQ=function(t){return this.FQ[t]},i.La=function(t){for(var n=0,i=t.XQ.oc;n<i.length;n++){var r=i[n];r.ic===this.ZQ()&&(r.qk=!0)}t.addEventListener("enabledtrack",this.Eu),t.addEventListener("disabledtrack",this.Eu),this.im.push(t),this.FQ[t.ic]=t,this.dispatchEvent({type:"addtrack",track:t.Na})},i.um=function(t){if(t){var n=this.FQ[t.ic];if(n&&!n.nc){for(var i=this.im.length-1;i>=0;i--)this.im[i].bT();n.AT()}}},i.sm=function(t){},b(n,[{key:"JQ",get:function(){return this.ZQ()}}]),n}(lN);var XN=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).KQ=NaN,e}ut(n,t);var i=n.prototype;return i.ZQ=function(){return this.KQ},i.HQ=function(t){t.$Q?this.tZ(t.nZ):t.iZ&&this.tZ(t.iZ)},i.tZ=function(t){t&&(this.KQ=t.ic),this.im.forEach(function(n){return n.rZ(t)})},i.handleRenditionUpdated=function(t){if(t.pY&&t.pY.xY===RN.qR)for(var n=0,i=this.im;n<i.length;n++){i[n].eZ(t)}},i.um=function(n){var i=n;if(!i){var r=this.im.filter(function(t){return t.Fb});r.length>0&&(i=r[0])}t.prototype.um.call(this,i)},b(n,[{key:"ru",get:function(){return"audio"}}]),n}(WN),GN=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).uZ=NaN,e}ut(n,t);var i=n.prototype;return i.ZQ=function(){return this.uZ},i.HQ=function(t){(t.sZ||t.nZ)&&(t.nZ&&(this.uZ=t.nZ.ic),this.im.forEach(function(n){return n.rZ(t.nZ)}))},i.handleRenditionUpdated=function(t){if(t.pY&&t.pY.xY===RN.HR)for(var n=0,i=this.im;n<i.length;n++){i[n].eZ(t)}},b(n,[{key:"ru",get:function(){return"video"}}]),n}(WN),zN=function(t){function n(n){var i,r,e,u;return(i=t.call(this)||this).qk=!1,i.oZ=!0,i.pY=n,i.qk=!1,i.Na=(r=st(i),e=new lN,u={get bandwidth(){return r.pY&&r.pY.bandwidth},get averageBandwidth(){return r.pY&&r.pY.averageBandwidth},get codecs(){return r.I_},get resolution(){return r.aZ},get frameRate(){return uI(r.O_,2)},get id(){return r.ic},get uri(){return r.pY&&r.pY.uri},get name(){return r.rn},set name(t){r.rn=t},get enabled(){return r.nc},set enabled(t){r.nc=Boolean(t)},addEventListener:function(t,n){e.addEventListener(t,n)},removeEventListener:function(t,n){e.removeEventListener(t,n)}},r.addEventListener("qualityupdated",function(t){return e.dispatchEvent(t,!0)}),u),i}ut(n,t);var i=n.prototype;return i.cZ=function(t){var n=!!t&&this.ic===t.ic;this.qk!==n&&(this.qk=n,this.dispatchEvent({type:"activequalitychanged",quality:this.Na}))},i.eZ=function(t){return this.pY.ic===t.pY.ic&&(this.pY=t.pY,this.dispatchEvent({type:"qualityupdated",quality:this.Na}),!0)},b(n,[{key:"nc",get:function(){return this.oZ},set:function(t){this.oZ=t,this.pY.AY(!t)}},{key:"ec",get:function(){return this.pY.ec}},{key:"aZ",get:function(){return this.pY.resolution?{width:this.pY.resolution.width,height:this.pY.resolution.height}:{width:NaN,height:NaN}}},{key:"rn",get:function(){return this.pY.rn},set:function(t){this.pY.rn=t,this.dispatchEvent({type:"qualityupdated",quality:this.Na})}},{key:"ic",get:function(){return this.pY.ic}}]),n}(lN);var jN=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"I_",get:function(){return this.pY.I_&&this.pY.I_.Lj||""}},{key:"O_",get:function(){return uI(Number(this.pY.rY),2)}}]),n}(zN),YN=function(t){function n(n){return t.call(this,n)||this}return ut(n,t),b(n,[{key:"I_",get:function(){return this.pY.I_&&this.pY.I_.Bj||""}},{key:"O_",get:function(){return uI(Number(this.pY.iY),2)}}]),n}(zN),QN=function(t){function n(n,i){var r,e,u,s,o;(r=t.call(this)||this).hZ=null,r.fZ={},r.Eu=function(t){return r.dispatchEvent(t)},r.oc=n,r.jQ=i;for(var a=r.oc.length-1;a>=0;a--){var c=r.oc[a];r.fZ[c.ic]=c}return r.oc.forEach(function(t){return t.addEventListener("activequalitychanged",r.Eu)}),r.Na=(e=st(r),u=new lN,s={item:function(t){var n=e.Ba(t);return n&&n.Na},getQualitiesByIDs:function(t){return e.vZ(t).map(function(t){return t.Na})},get length(){return e.oc.length},get activeQuality(){return e.tc&&e.tc.Na},get targetQuality(){return e.ac?1===e.ac.length?e.ac[0].Na:e.ac.map(function(t){return t.Na}):null},set targetQuality(t){if(t){var n=L(t)?t:[t];e.ac=e.vZ(n.map(function(t){return t.id}))}else e.ac=null},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}},o=function(t){return u.dispatchEvent(t,!0)},e.addEventListener("activequalitychanged",o),e.addEventListener("targetqualitychanged",o),s),r}ut(n,t);var i=n.prototype;return i.dZ=function(t){return!!t&&this.oc.some(function(n){return n.ic===t.ic})},i.lZ=function(t,n){for(var i=0,r=this.oc;i<r.length;i++){r[i].cZ(t)}},i.vZ=function(t){var n=this;return t&&t.map(function(t){return n.fZ[t]}).filter(function(t){return t})},i._Z=function(){for(var t=this.oc.length-1;t>=0;t--)this.oc[t].qk=!1},i.WQ=function(t){var n=this.jQ.gZ,i=this.vZ(n);n&&n.length>0&&i&&i.length>0?this.dispatchEvent({type:"targetqualitychanged",quality:i[0].Na}):n&&0!==n.length||this.dispatchEvent({type:"targetqualitychanged",quality:null})},i.Ba=function(t){return this.oc[t]},b(n,[{key:"tc",get:function(){for(var t=0,n=this.oc;t<n.length;t++){var i=n[t];if(i.qk)return i}return null}},{key:"ac",get:function(){return this.hZ},set:function(t){this.hZ=this.wZ(t)}}]),n}(lN);var ZN=function(t){function n(n,i){return t.call(this,n,i)||this}ut(n,t);var i=n.prototype;return i.AT=function(){this.jQ&&(this.jQ.KQ=this.oc[0].ic)},i.bT=function(t){this.jQ&&(this.jQ.KQ=null)},i.wZ=function(t){},n}(QN),JN=function(t){function n(n,i){return t.call(this,n,i)||this}ut(n,t);var i=n.prototype;return i.AT=function(){if(this.wZ(this.ac),this.jQ){var t=this.jQ.GQ;if(!t)return;var n=pn(t.yZ.dY.Pj,function(t){return!t.uri});this.jQ.KQ=n?n.ic:null}},i.lZ=function(n,i){"video"===i&&t.prototype.lZ.call(this,n,i)},i.bT=function(t){"video"===t&&this._Z()},i.wZ=function(t){if(!this.jQ)return this.ac;var n=t?this.vZ(t.map(function(t){return t.ic})):null;if(n&&n.length>0){var i=n.map(function(t){return t.ic});return this.jQ.gZ=i,n}return t?this.ac:(this.jQ.gZ=null,null)},n}(QN),KN=function(t){function n(n,i){var r,e,u;return(r=t.call(this)||this).ru=n,r.XQ=i,r.ic=i.Ba(0).ic,r.GT=r.XQ.oc.some(function(t){return t.qk}),r.rn=i.Ba(0).pY.rn,r.Na=(e=st(r),u=new lN,{get id(){return e.ic},get enabled(){return e.nc},get qualities(){return e.XQ&&e.XQ.Na},get language(){return e.sc},get default(){return e.Fb},get name(){return e.rn},set name(t){e.rn=t},addEventListener:function(t,n){u.addEventListener(t,n)},removeEventListener:function(t,n){u.removeEventListener(t,n)}}),r}ut(n,t);var i=n.prototype;return i.rZ=function(t){var n=this.XQ.dZ(t);this.YT(n),this.XQ.lZ(t,this.ru)},i.YT=function(t){this.GT!==t&&(t?(this.GT=!0,this.dispatchEvent({type:"enabledtrack",track:this.Na})):(this.GT=!1,this.dispatchEvent({type:"disabledtrack",track:this.Na})))},i.AT=function(){this.GT||this.XQ.AT()},i.bT=function(){this.GT&&this.XQ.bT(this.ru)},i.eZ=function(t){t.pY.ic===this.ic&&(this.rn=t.pY.rn);for(var n=0,i=this.XQ.oc;n<i.length;n++){i[n].eZ(t)}},b(n,[{key:"nc",get:function(){return this.GT}},{key:"sc",get:function(){return this.mZ()}},{key:"ec",get:function(){return this.pZ()}},{key:"Fb",get:function(){var t="video"===this.ru,n=this.XQ.oc&&this.XQ.oc[0].pY.Fb;return t||n}}]),n}(lN);var $N=function(t){function n(n){return t.call(this,"video",n)||this}ut(n,t);var i=n.prototype;return i.pZ=function(){return EN.vj},i.mZ=function(){return""},n}(KN),tD=function(t){function n(n){return t.call(this,"audio",n)||this}ut(n,t);var i=n.prototype;return i.pZ=function(){return this.XQ.oc[0].pY.ec},i.mZ=function(){return this.XQ.oc[0].pY.sc||""},n}(KN),nD=function(){function t(t,n,i){var r=this;this.kZ=function(){var t=r.AZ;t.removeEventListener("bZ",r.kZ);var n=t.yZ.MQ.Pj,i=t.yZ.dY.Pj,e=n.map(function(t){return new jN(t)});if(e.length>0){var u=new JN(e,r.TZ);r.EZ.La(new $N(u));var s=pn(i,function(t){return!t.uri}),o=0===i.length;if(n.length>0&&(Boolean(s)||o)){var a=new tD(u);s&&(a.rn=s.rn),r.SZ.La(a)}}for(var c=0;c<i.length;c++){var h=i[c];if(h.uri){var f=new YN(h),v=new ZN([f],r.TZ);r.SZ.La(new tD(v))}}},this.AZ=t,this.TZ=i,this.SZ=new XN(t,n,i),this.EZ=new GN(t,n,i),t&&(t.bZ?this.kZ():t.addEventListener("bZ",this.kZ))}return b(t,[{key:"cT",get:function(){return this.SZ}},{key:"hT",get:function(){return this.EZ}}]),t}(),iD=["loadedmetadata","durationchange","Vu","WP","UT","RZ"],rD=["IZ","NQ","NZ","Vu"],eD=function(t){function n(n,i,r,e,u,s,o){var a;(a=t.call(this)||this).DZ=null,a.CZ=[],a.OZ=[],a.PZ=function(t){return a.dispatchEvent(t)},a.xZ=function(t){return a.BZ(t)},a.LZ=function(t){return a.MZ(t)},a.zI=n.src,a.UZ=n.type,a.FZ=i,a.VZ=r,a.HZ=e,a.GQ=u,a.zQ=s,a.GQ&&(a.GQ.addEventListener("qZ",a.PZ),a.GQ.addEventListener("WZ",a.PZ));var c=new nD(a.GQ,a.zQ,o);return a.hT=c.hT,a.cT=c.cT,a.jI=null,a.zI&&(a.zQ&&a.zQ.Fa(),a.GQ&&(a.GQ.XZ=a.zI)),a}ut(n,t);var i=n.prototype;return i.GZ=function(t){this.zQ&&this.zQ.Vs(t),this.GQ&&this.GQ.zZ(),this.jI&&this.jZ()},i.YZ=function(){this.zQ&&this.zQ.YZ(),this.GQ&&this.GQ.QZ()},i.ZZ=function(){if(this.GQ)for(var t=0;t<iD.length;t++){var n=iD[t];this.GQ.addEventListener(n,this.xZ)}if(this.zQ)for(var i=0;i<rD.length;i++){var r=rD[i];this.zQ.addEventListener(r,this.LZ)}},i.JZ=function(){if(this.GQ)for(var t=0;t<iD.length;t++){var n=iD[t];this.GQ.removeEventListener(n,this.xZ)}if(this.zQ)for(var i=0;i<rD.length;i++){var r=rD[i];this.zQ.removeEventListener(r,this.LZ)}},i.jZ=function(){if(this.GQ&&this.CZ.length){var t=this.CZ.slice();Sn(this.CZ);for(var n=0;n<t.length;n++){var i=t[n];this.GQ.dispatchEvent(i)}}if(this.zQ&&this.OZ.length){var r=this.OZ.slice();Sn(this.OZ);for(var e=0;e<r.length;e++){var u=r[e];this.zQ.dispatchEvent(u)}}},i.BZ=function(t){this.CZ.push(t)},i.MZ=function(t){this.OZ.push(t)},i.Va=function(){this.dispatchEvent("Va"),this.Du(),this.zQ&&this.zQ.Va(),this.HZ&&this.HZ.Va(),this.GQ&&this.GQ.Va(),this.DZ=null,Sn(this.CZ),Sn(this.OZ)},b(n,[{key:"jI",get:function(){return this.DZ},set:function(t){this.JZ(),this.DZ=t,this.jI?this.dispatchEvent("Js"):this.ZZ()}}]),n}(lN),uD=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).AZ=null,n.Eu=function(t){n.dispatchEvent(t,!0)},n}return ut(n,t),b(n,[{key:"KQ",get:function(){var t=this.AZ&&this.AZ.yZ.TQ;return t?t.ic:null},set:function(t){var n;this.AZ&&(n=null===t?BN(this.AZ.yZ.dY.Pj):this.AZ.yZ.dY.Pj.filter(function(n){return t===n.ic}).shift(),this.AZ.yZ.TQ=n||null)}},{key:"gZ",get:function(){return this.AZ&&this.AZ.KZ||null},set:function(t){this.AZ&&(this.AZ.$Z(t),this.dispatchEvent("YQ"))}},{key:"GQ",get:function(){return this.AZ},set:function(t){this.AZ&&(this.AZ.yZ.removeEventListener("xQ",this.Eu),this.AZ.yZ.removeEventListener("renditionUpdated",this.Eu),this.AZ.yZ.removeEventListener("EQ",this.Eu)),this.AZ=t,this.AZ&&(this.AZ.yZ.addEventListener("xQ",this.Eu),this.AZ.yZ.addEventListener("renditionUpdated",this.Eu),this.AZ.yZ.addEventListener("EQ",this.Eu))}}]),n}(lN);var sD=function(){function t(){}var n=t.prototype;return n.tJ=function(t){return Tt.reject(oD)},n.nJ=function(t){return Tt.reject(oD)},n.zu=function(t){return Tt.resolve(!1)},n.ju=function(t,n){return Tt.resolve(void 0)},n.iJ=function(t){return Tt.resolve([])},n.rJ=function(){return Tt.resolve([])},n.eJ=function(t,n){return Tt.resolve([])},n.Hs=function(t){return Tt.reject(oD)},n.uJ=function(t){return Tt.reject(oD)},n.sJ=function(){return Tt.reject(oD)},t}(),oD="Storage disabled",aD=function(){function t(){this.oJ=new sD,this.aJ=new sD,this.cJ=new sD,this.hJ=new sD,this.fJ=new sD}return t.vz=function(){return Tt.resolve(new t)},t.prototype.vJ=function(t){return Tt.reject(cD)},t}(),cD="Storage disabled",hD=function(){function t(t){var n=this;this.ps=new kr,this.dJ=void 0,this.ps.cs(t),this.ps.as.then(function(t){n.dJ=t})}var n=t.prototype;return n.tJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.tJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.nJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.zu=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.zu(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ju=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.ju(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.iJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.iJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.rJ=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.rJ());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.eJ=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return r=t.t0,t.abrupt("return",r.eJ(n,i));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Hs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.Hs(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.uJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.abrupt("return",i.uJ(n));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.sJ=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.dJ,t.t0){t.next=5;break}return t.next=4,this.lJ;case 4:t.t0=t.sent;case 5:return n=t.t0,t.abrupt("return",n.sJ());case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(t,[{key:"lJ",get:function(){return this.ps.as}}]),t}(),fD=function(){function t(t){var n=this;this.ps=new kr,this._J=void 0,this.ps.cs(t);var i=this.ps.as;i.then(function(t){n._J=t}),this.aJ=new hD(i.then(function(t){return t.aJ})),this.oJ=new hD(i.then(function(t){return t.oJ})),this.cJ=new hD(i.then(function(t){return t.cJ})),this.hJ=new hD(i.then(function(t){return t.hJ})),this.fJ=new hD(i.then(function(t){return t.fJ}))}return t.prototype.vJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._J,t.t0){t.next=5;break}return t.next=4,this.gJ;case 4:t.t0=t.sent;case 5:return i=t.t0,t.next=8,i.vJ(n);case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),b(t,[{key:"gJ",get:function(){return this.ps.as}}]),t}(),vD=function(){function t(t){this.wJ=[],this.yJ=!0,this.mJ=t}var n=t.prototype;return n.vz=function(){return new fD(this.pJ())},n.pJ=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.yJ){t.next=4;break}return t.next=3,Tt.resolve();case 3:this.yJ=!1;case 4:n=0,i=this.wJ;case 5:if(!(n<i.length)){t.next=18;break}return r=i[n],t.prev=7,t.next=10,r();case 10:return t.abrupt("return",t.sent);case 13:t.prev=13,t.t0=t.catch(7);case 15:n++,t.next=5;break;case 18:return t.next=20,this.mJ();case 20:return t.abrupt("return",t.sent);case 21:case"end":return t.stop()}},t,this,[[7,13]])}));return function(){return t.apply(this,arguments)}}(),n.DU=function(t){if(!this.yJ)throw new v("Registration overdue");this.wJ.push(t)},t}(),dD=function(){function t(){}return t.DU=function(n){t.kJ.DU(n)},b(t,null,[{key:"$t",get:function(){return t.AJ||(t.AJ=t.kJ.vz()),t.AJ}}]),t}();function lD(t){return As(t)}function _D(t,n){return t=As(t),n?""+t+n:""+t}function gD(t,n,i,r,e,u){var s=new xh;return n&&s.set("Range","bytes="+n[0]+"-"+n[1]),new Xh({Zl:t,Zg:i,Yg:s,tw:r,Qg:"GET",ru:"segment",bs:e,nw:u})}dD.kJ=new vD(aD.vz),dD.AJ=void 0;var wD=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).NA=null,o.iO=new Rr,o.bJ=function(t,n){return o.nw(t,n)},o.Qm=n,o.uj=i,o.Zg=r,o.TJ=e,o.JP=u,o.EJ=new mD,o.$T=s,o.SJ=dD.$t.oJ,o.RJ=dD.$t.aJ,o}ut(n,t);var i=n.prototype;return i.Jh=function(){return this.IJ(this.iO.bs)},i.IJ=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return CN(i=this.uj)?(r=i.uj,e=[i.r_.Jh,i.r_.$h]):(r=i,e=void 0),this.EJ.NJ(),t.prev=3,t.next=6,this.DJ(r,e);case 6:if(u=t.sent,Dn(n),u){t.next=12;break}return t.next=11,this.CJ(r,e,n);case 11:u=t.sent;case 12:return t.next=14,u.kn();case 14:s=t.sent,Dn(n),this.OJ(s,u.IA),t.next=28;break;case 19:if(t.prev=19,t.t0=t.catch(3),!Nn(t.t0)){t.next=25;break}return t.abrupt("return");case 25:a=t.t0 instanceof $d?t.t0.NA.IA:0,o=new v('Could not load fragment: "'+this.uj+'", HTTP status '+a);case 27:return t.abrupt("return",this.PJ(o));case 28:case"end":return t.stop()}},t,this,[[3,19]])}));return function(n){return t.apply(this,arguments)}}(),i.DJ=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=_D(n,i),t.next=4,this.SJ.zu(r);case 4:if(!t.sent){t.next=11;break}return t.next=7,this.RJ.ju(r);case 7:return e=t.sent,u=gD(n,i,this.Zg,this.TJ),s=e.data.buffer,t.abrupt("return",new UA({kn:s,Yg:{},SA:u,DA:n,Zg:this.Zg,IA:200,dS:""}));case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}},t,this,[[0,13]])}));return function(n,i){return t.apply(this,arguments)}}(),i.CJ=function(t,n,i){var r=gD(t,n,this.Zg,this.TJ,i,this.bJ);return this.$T.SA(r)},i.nw=function(t,n){var i={type:"RZ",SA:this,xJ:t,BJ:n=void 0===n?NaN:n};this.EJ.LJ(t,n),this.dispatchEvent(i)},i.OJ=function(t,n){var i=this.Zg===Ch.Ug?t.byteLength:0;this.EJ.MJ(i),this.Zg===Ch.Hg?this.NA=t:this.NA=new m(t),this.UJ=n,t=null,this.PJ(),this.NA=null},i.fs=function(t){return this.iO.fs(),t||((t=new v('Aborted fragment load: "'+this.uj+'"')).aborted=!0),this.PJ(t)},i.PJ=function(t){this.EJ.FJ();var n={type:"_T",SA:this};return this.dispatchEvent(n),this.JP(t||null,this)},n}(lN);function yD(){return ml()/1e3}var mD=function(t){function n(){var n;return(n=t.call(this)||this).VJ=NaN,n.HJ=NaN,n.qJ=NaN,n.WJ=NaN,n.XJ=0,n.GJ=NaN,n.VJ=yD(),n}ut(n,t);var i=n.prototype;return i.NJ=function(){this.VJ=yD(),this.dispatchEvent("qs")},i.LJ=function(t,n){this.qJ=yD(),this.qZ||(this.HJ=this.qJ),this.XJ=t,this.GJ=n||this.GJ||NaN,this.dispatchEvent("qs")},i.MJ=function(t){this.LJ(t,t)},i.FJ=function(){this.WJ=yD(),this.dispatchEvent("qs")},b(n,[{key:"qZ",get:function(){return!y(this.HJ)}},{key:"zJ",get:function(){return!y(this.WJ)}},{key:"jJ",get:function(){return(this.HJ||yD())-this.VJ}},{key:"YJ",get:function(){return(this.WJ||this.qJ)-this.HJ}},{key:"QJ",get:function(){return(this.WJ||this.qJ)-this.VJ}}]),n}(lN),pD=function(t){function n(n,i){var r;return(r=t.call(this)||this).ZJ=[],r.JJ=null,r.KJ=function(t){return r.$J(t)},r.TJ=!(!i||i.crossOrigin!==lf.gv),r.$T=n,r}ut(n,t);var i=n.prototype;return i.Vs=function(t,n,i,r){var e=new wD(t,n,i,this.TJ,r,this.$T);return e.addEventListener("_T",this.KJ),this.ZJ.push(e),this.tK(),e},i.Zu=function(t,n){var i=function(t){return!n||t.Qm===n},r=this.ZJ.filter(i);!t&&this.JJ&&i(this.JJ)&&r.push(this.JJ);for(var e=0;e<r.length;e++){r[e].fs()}return r},i.tK=function(){if(!this.JJ){var t=this.ZJ.shift();t&&(this.JJ=t,t.Jh())}},i.$J=function(t){var n=t.SA,i=this.ZJ.indexOf(n);-1!==i&&bn(this.ZJ,i),this.JJ===n&&(this.JJ=null,this.tK())},n}(lN);function kD(n){return t.URL&&t.URL.createObjectURL?t.URL.createObjectURL(n):t.webkitURL&&t.webkitURL.createObjectURL?t.webkitURL.createObjectURL(n):t.createObjectURL?t.createObjectURL(n):null}function AD(n){return t.URL&&t.URL.revokeObjectURL?t.URL.revokeObjectURL(n):t.webkitURL&&t.webkitURL.revokeObjectURL?t.webkitURL.revokeObjectURL(n):t.revokeObjectURL?t.revokeObjectURL(n):void 0}function bD(t,n){return em([t],{type:n})}var TD="iframe.html",ED=0,SD=p&&(p.bind&&p.bind(p)||p),RD=function(t){function n(n){var i;return(i=t.call(this)||this).nK=void 0,i.iK=[],i.rK=!1,i.Eu=function(t){return i.dispatchEvent(t)},n&&i.Js(n),i}ut(n,t);var i=n.prototype;return i.postMessage=function(t){this.rK||(this.nK?this.nK.postMessage(t):this.iK.push(t))},i.Js=function(t){if(this.rK)t.terminate();else{this.nK=t,this.nK.addEventListener("message",this.Eu,!1),this.nK.addEventListener("error",this.Eu,!1);for(var n=0,i=this.iK;n<i.length;n++){var r=i[n];this.nK.postMessage(r)}this.iK.length=0}},i.terminate=function(){this.Du(),this.rK=!0,this.iK.length=0,this.nK&&(this.nK.removeEventListener("message",this.Eu,!1),this.nK.removeEventListener("error",this.Eu,!1),this.nK.terminate(),this.nK=void 0)},n}(lN);var ID=function(n){function i(i,r,e){var s,o,a;return(s=n.call(this)||this).eK=function(){return s.uK()},s.sK=function(t){return s.oK(t)},s.ic=i,s.aK=r,s.cK=(o=e+TD,(a=u.createElement("iframe")).width="0",a.height="0",a.style.display="none",a.src=o,u.body.appendChild(a),a),s.hK=s.cK.contentWindow,s.fK=Ss(e),s.cK.addEventListener("load",s.eK),t.addEventListener("message",s.sK),s}ut(i,n);var r=i.prototype;return r.uK=function(){this.cK.removeEventListener("load",this.eK),this.hK.postMessage({type:"initialize",id:this.ic,script:this.aK},"*")},r.oK=function(t){Ss(t.origin)===this.fK&&t.data.id===this.ic&&("initialized"===t.data.type?this.dispatchEvent("initialized"):"error"===t.data.type?this.dispatchEvent({type:"error",message:t.data.data.message,filename:t.data.data.filename,lineno:t.data.data.lineno}):this.dispatchEvent({type:"message",data:t.data.data}))},r.postMessage=function(t){this.hK.postMessage({type:"message",data:t},"*")},r.terminate=function(){this.cK.removeEventListener("load",this.eK),t.removeEventListener("message",this.sK),this.hK.postMessage({type:"terminate"},"*"),this.cK.parentNode.removeChild(this.cK)},i}(lN);function ND(){return(ND=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=IT.HP,t.prev=1,e=new Xh({Zl:n,Qg:"GET",Zg:Ch.Hg}),t.next=5,r.SA(e);case 5:return u=t.sent,t.next=8,u.kn();case 8:s=t.sent,i(void 0,s),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),o=new v("PLAYER_INCORRECTLY_CONFIGURED"),a=t.t0 instanceof $d?t.t0.NA.IA:-1,i({Ss:a,Vu:o});case 17:case"end":return t.stop()}},t,null,[[1,12]])}))).apply(this,arguments)}function DD(t,n){function i(i){return e(),F(r=i.data)&&"2.78.0"===r.vK?n(void 0,t):n(new v("PLAYER_INCORRECTLY_CONFIGURED"));var r}function r(i){i.preventDefault&&i.preventDefault(),e(),t.terminate(),n({message:i.message,filename:i.filename,lineno:i.lineno})}function e(){t.removeEventListener("message",i),t.removeEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)}function CD(t,n){if(void 0===t)return n({message:"Worker could not be loaded."});var i;try{i=new SD(t)}catch(t){return n({message:t.message})}return DD(i,n)}var OD=!0;function PD(t,n){var i=ED++,r=t+n,e=new RD;function s(){!function(t,n,i,r){var e;function s(){a(),DD(e,r)}function o(t){t.preventDefault&&t.preventDefault(),a(),e.terminate(),r({message:t.message,filename:t.filename,lineno:t.lineno})}function a(){e.removeEventListener("initialized",s),e.removeEventListener("error",o)}if(!u)return r({message:"Could not create Worker.",filename:"workershim.js",lineno:223});(e=new ID(t,n,i)).addEventListener("initialized",s),e.addEventListener("error",o)}(i,r,t,o)}function o(t,n,i){t?e.dispatchEvent({type:"error",message:t.message,filename:t.filename,lineno:t.lineno}):(e.Js(n),i&&e.dispatchEvent(i))}return CD(r,function(t,n,i){t?function(t,n){ND.apply(this,arguments)}(r,function(t,n){t?t.Ss>=400?o(t.Vu):s():n&&function(t,n){if(!OD)return n({message:"Could not create Worker.",filename:"workershim.js",lineno:196});CD(kD(bD(t,"application/javascript")),function(t,i,r){return t&&(OD=!1),n(t,i,r)})}(n,function(t,n,i){t?s():o(t,n,i)})}):o(t,n,i)}),e}function xD(t,n){if(n<0)throw new v("The index provided ("+n+") must be non-negative");if(n>=t.length)throw new v("The index provided ("+n+") is greater than the maximum bound ("+t.length+")")}function BD(t){return{get length(){return t.length},start:function(n){return xD(t,n|=0),t.start(n)},end:function(n){return xD(t,n|=0),t.end(n)}}}function LD(t,n){return t.Jh-n.Jh}var MD=function(){function t(t){this.tX=t}var n=t.prototype;return n.start=function(t){return this.tX[t].Jh},n.end=function(t){return this.tX[t].$h},n.dK=function(){return this.tX},b(t,[{key:"length",get:function(){return this.tX.length}}]),t}(),UD=new MD([]),FD=new MD([{Jh:-1/0,$h:1/0}]);function VD(t,n){return function(t,n){var i=t.length;if(n=+n||0,i<2)return t;for(var r=[],e=t.start(0),u=t.end(0),s=1;s<i;s++){var o=t.start(s),a=t.end(s);e<=o&&u>=a||(u+n>=o?u=a:(r.push({Jh:e,$h:u}),e=o,u=a))}return r.push({Jh:e,$h:u}),new MD(r)}(function(t){var n=GD(t);return n.sort(LD),new MD(n)}(t),n)}function HD(t,n){for(var i=[],r=0,e=0;r<t.length&&e<n.length;){var u=_.max(t.start(r),n.start(e)),s=_.min(t.end(r),n.end(e));u<s&&i.push({Jh:u,$h:s}),t.end(r)<n.end(e)?r+=1:e+=1}return new MD(i)}function qD(t){var n=t.length;if(!n)return FD;var i=[],r=t.start(0);r!==-1/0&&i.push({Jh:-1/0,$h:r});for(var e=0;e<n-1;e+=1)i.push({Jh:t.end(e),$h:t.start(e+1)});var u=t.end(n-1);return u!==1/0&&i.push({Jh:u,$h:1/0}),new MD(i)}function WD(t,n){return-1!==XD(t,n)}function XD(t,n){return function(t,n,i,r){n+=r=+r||0,i-=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<=n&&i<=t.end(e))return e;return-1}(t,n,n)}function GD(t){if(t instanceof MD)return t.dK();var n=[];if(!t)return n;for(var i=0;i<t.length;i++)n.push({Jh:t.start(i),$h:t.end(i)});return n}function zD(t,n){return i=[t,n],e=(r=e=[]).concat.apply(r,i.map(GD)),VD(new MD(e));var i,r,e}var jD=.001;function YD(t,n,i){return i=+i||0,t.Jh-i<=n.$h&&n.Jh<=t.$h+i}function QD(t){var n={Jh:NaN,$h:NaN,Pz:t};return ZD(n),n}function ZD(t){var n=t.Pz;n.length?(n.sort(LD),t.Jh=n[0].Jh,t.$h=n[n.length-1].$h):(t.Jh=NaN,t.$h=NaN)}function JD(t){return void 0!==t.Pz}function KD(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=_.max(u.Jh,n),o=_.min(u.$h,i);if(s<o){var a=void 0;a=u.Jh===s&&u.$h===o?u:{Jh:s,$h:o,np:u.np},r.push(a)}}return r}function $D(t,n){var i=_.min(t.Jh,n.Jh),r=_.max(t.$h,n.$h),e=t.Pz,u=n.Pz,s=e.concat(u),o=e.length?e[e.length-1]:null,a=u.length?u[0]:null;return o&&a&&o.np===a.np&&YD(o,a,jD)&&s.splice(e.length-1,2,function(t,n){var i=t.np||n.np;return{Jh:_.min(t.Jh,n.Jh),$h:_.max(t.$h,n.$h),np:i}}(o,a)),QD(s=KD(s,i,r))}var tC,nC=function(){function t(t,n){this.tX=function(t){for(var n=[],i=0;i<t.length;i+=1){var r=t[i],e=void 0;JD(r)?ZD(e=r):e=QD([r]),e.Pz.length&&e.Jh<e.$h&&n.push(e)}return n}(t),n||this.lK()}var n=t.prototype;return n.start=function(t){return this.tX[t]&&this.tX[t].Jh},n.end=function(t){return this.tX[t]&&this.tX[t].$h},n.Pz=function(t){return this.tX[t]&&this.tX[t].Pz},n._K=function(t,n){return this.gK(t,t,n)},n.gK=function(t,n,i){t+=i=+i||0,n-=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<=t&&n<=this.end(r))return r;return-1},n.wK=function(t,n,i){t-=i=+i||0,n+=i;for(var r=0;r<this.length;r+=1)if(this.start(r)<n&&t<this.end(r))return r;return-1},n.yK=function(t,n){t+=n=+n||0;for(var i=this.length-1;i>=0;i-=1)if(this.start(i)<=t)return i;return-1},n.mK=function(t,n){t-=n=+n||0;for(var i=0;i<this.length;i+=1)if(t<=this.end(i))return i;return-1},n.lb=function(t){return-1!==this._K(t)},n.Bf=function(t,n,i){return-1!==this.gK(t,n,i)},n.Mf=function(t,n,i){return-1!==this.wK(t,n,i)},n.Tf=function(t){for(var n=[],i=0,r=0;i<this.length&&r<t.length;){var e=_.max(this.start(i),t.start(r)),u=_.min(this.end(i),t.end(r));if(e<u){var s=KD(this.Pz(i),e,u);n.push(QD(s))}this.end(i)<t.end(r)?i+=1:r+=1}return this.vz(n,!0)},n.Hf=function(t){return this.length&&t.length?this.Tf(qD(t)):this},n.Cf=function(t){return this.length?t.length?this.vz(this.tX.concat(t.tX)):this:t},n.pK=function(t){for(var n=[],i=0,r=this.tX;i<r.length;i++)for(var e=0,u=r[i].Pz;e<u.length;e++){var s=t(u[e]);s&&n.push(s)}return this.vz(n)},n.Vf=function(t){return this.pK(function(n){return t(n)?n:null})},n.kK=function(){if(!this.length)return this;for(var t=this.tX.slice(),n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&this.AK(i,r)&&(t.splice(n,2,$D(i,r)),n-=1)}return this.vz(t,!0)},n.AK=function(t,n){var i=t.Pz,r=n.Pz,e=i.length?i[i.length-1]:null,u=r.length?r[0]:null;return e&&u&&this.bK(e,u)},n.lK=function(){var t=this.tX;t.sort(LD);for(var n=0;n<t.length-1;n+=1){var i=t[n],r=t[n+1];r&&YD(i,r,jD)&&(t.splice(n,2,$D(i,r)),n-=1)}},b(t,[{key:"length",get:function(){return this.tX.length}}]),t}(),iC=function(t){function n(n,i){return t.call(this,n,i)||this}ut(n,t);var i=n.prototype;return i.vz=function(t,i){return new n(t,i)},i.bK=function(t,n){return n.np.pY===t.np.pY&&n.np.dz===t.np.dz+1},n}(nC);function rC(t,n){for(var i=[],r=0;r<n.length;r++){var e=n[r],u=t.TK(e),s=t.EK(e,u);i.push({Jh:u.nl(),$h:s.nl(),np:e})}return new iC(i).kK()}function eC(t){return t.SK!==tC.RK}function uC(t){return 0===t.SK}function sC(t){return t.SK>=0}function oC(t,n){for(var i=[],r=0;r<n.length;r++)for(var e=!1,u=0,s=n.Pz(r);u<s.length;u++){var o=s[u];if(!e){var a=o.np;if(ON(a)&&eC(a)){if((e=sC(a))&&!uC(a)){var c=t.IK(a,a.NK).nl();o={Jh:_.max(o.Jh,c),$h:o.$h,np:a}}}else e=!0;0}e&&i.push(o)}return new iC(i)}function aC(t,n){return{audio:t.audio?_C(t.audio,n):void 0,video:t.video?mC(t.video,n):void 0,DK:t.DK?(i=t.DK,{CK:i.CK,vQ:i.vQ,vc:i.vc,PK:i.PK,xK:i.xK,BK:i.BK,LK:i.LK.map(cC),_c:[]}):void 0,MK:t.MK?t.MK.map(fC):t.MK,UK:t.UK.Rl()};var i}function cC(t){return{xm:t.xm,Zk:{Ql:t.Zk.Ql,FK:t.Zk.QW.Rl()},eF:t.eF}}function hC(t){return{xm:t.xm,Zk:{Ql:t.Zk.Ql,QW:Zc(t.Zk.FK)},eF:t.eF}}function fC(t){return{QW:t.QW.Rl(),Qp:t.Qp,VW:t.VW,FW:t.FW,ru:t.ru,VK:t.VK,HW:t.HW,qW:t.qW}}function vC(t){return{QW:Zc(t.QW),Qp:t.Qp,VW:t.VW,FW:t.FW,ru:t.ru,VK:t.VK,HW:t.HW,qW:t.qW}}function dC(t){return{CK:t.CK,eF:[],HK:t.HK,qK:t.qK,duration:t.duration,WK:t.WK,XK:t.XK.Rl(),GK:t.GK,zK:t.zK.Rl(),jK:t.jK,YK:t.YK.Rl(),QK:t.QK.Rl(),ZK:t.ZK.Rl(),JK:t.JK.Rl(),KK:t.KK.Rl(),$K:t.$K.Rl(),t$:t.t$.Rl()}}function lC(t){return{CK:t.CK,eF:[],HK:t.HK,qK:t.qK,duration:t.duration,WK:t.WK,XK:Zc(t.XK),GK:t.GK,zK:Zc(t.zK),jK:t.jK,YK:Zc(t.YK),QK:Zc(t.QK),ZK:Zc(t.ZK),JK:Zc(t.JK),KK:Zc(t.KK),$K:Zc(t.$K),t$:Zc(t.t$)}}function _C(t,n){switch(t.HK){case"aac-lc":case"he-aac":return function(t,n){return Et(Et({},wC(t)),{HK:t.HK,eF:t.eF.map(function(t){return function(t,n){var i=(r=t.Zk,Et(Et({},AC(r)),{n$:r.n$,i$:r.i$,r$:r.r$}));var r;return t.ns(i).Rl(n)}(t,n)}),nY:t.nY,e$:t.e$})}(t,n);case"mp3":return function(t,n){return Et(Et({},wC(t)),{HK:t.HK,eF:t.eF.map(function(t){return function(t,n){var i=(r=t.Zk,Et(Et({},AC(r)),{Em:r.Em,Zm:r.Zm,u$:r.u$,s$:r.s$,o$:r.o$}));var r;return t.ns(i).Rl(n)}(t,n)})})}(t,n)}}function gC(t){switch(t.HK){case"aac-lc":case"he-aac":return function(t){return Et(Et({},yC(t)),{HK:t.HK,eF:t.eF.map(function(t){return function(t){var n=PI.dX(t),i=(r=n.Zk,Et(Et({},bC(r)),{n$:r.n$,i$:r.i$,r$:r.r$}));var r;return n.ns(i)}(t)}),nY:t.nY,e$:t.e$})}(t);case"mp3":return function(t){return Et(Et({},yC(t)),{HK:t.HK,eF:t.eF.map(function(t){return function(t){var n=PI.dX(t),i=(r=n.Zk,Et(Et({},bC(r)),{Em:r.Em,Zm:r.Zm,u$:r.u$,s$:r.s$,o$:r.o$}));var r;return n.ns(i)}(t)})})}(t)}}function wC(t){return Et(Et({},dC(t)),{eF:[],HK:t.HK,a$:t.a$,c$:t.c$,h$:t.h$,f$:t.f$})}function yC(t){return Et(Et({},lC(t)),{eF:[],HK:t.HK,a$:t.a$,c$:t.c$,h$:t.h$,f$:t.f$})}function mC(t,n){return Et(Et({},dC(t)),{HK:t.HK,eF:t.eF.map(function(t){return function(t,n){t.Rl(n);var i=(r=t.Zk,Et(Et({},pC(r)),{e_:r.e_,v$:r.v$.Rl(),d$:r.d$,l$:r.l$,_$:r._$&&r._$.Rl(),g$:r.g$&&r.g$.Rl(),w$:r.w$,y$:r.y$,MK:r.MK,m$:r.m$}));var r;return t.ns(i).Rl(n)}(t,n)}),p$:t.p$,k$:t.k$,xp:t.xp,width:t.width,height:t.height,A$:t.A$,b$:t.b$,T$:t.T$,Qj:t.Qj,Zj:t.Zj,Up:t.Up,Fp:t.Fp})}function pC(t){var n;return Et(Et({},{Ql:(n=t).Ql,FK:n.FK.Rl()}),{lX:t.lX.Rl(),_X:t._X.Rl()})}function kC(t){var n;return Et(Et({},{Ql:(n=t).Ql,FK:Zc(n.FK)}),{lX:Zc(t.lX),_X:Zc(t._X)})}function AC(t){return Et({},pC(t))}function bC(t){return Et({},kC(t))}function TC(t){var n=t.video,i=n&&n.eF;if(!n)return 0;if(!i)return NaN;for(var r=0;r<i.length;r+=1){if(i[r].Zk.w$)return r}return NaN}function EC(t){var n=t.E$.video,i=n&&n.eF;if(!n)return 0;if(!i)return NaN;for(var r=i.length-1;r>=0;r-=1){if(i[r].Zk.w$)return r}return NaN}function SC(t){if(!t)return null;switch(t.HK){case"h.264":return function(t){return t.xp?"avc1."+(t.A$<16?"0":"")+((t.A$<<16)+(t.b$<<8)+t.T$).toString(16):null}(t);case"mp3":return"mp4a.40.34";case"aac-lc":return t.e$?"mp4a.40.5":"mp4a.40.2";case"he-aac":return"mp4a.40.5";default:return null}}function RC(t,n){var i=t.info,r=i.pY,e=t.E$,u=r.Lz(t.info.dz-1),s=e.audio||void 0,o=e.video||void 0,a=s&&SC(s),c=o&&SC(o),h=(!s||a)&&(!o||c)?{Bj:a,Lj:c}:null,f=s&&!y(s.jK)?s.jK:null,v=o&&!y(o.jK)?o.jK:null,d=ad(s&&s.QK,o&&o.QK),l=ad(s&&s.ZK,o&&o.ZK),g=cd(s&&s.$K,o&&o.$K),w=cd(s&&s.t$,o&&o.t$),m=o&&o.XK.Df(Yc.yl(o.duration)),p=s&&s.XK.Df(Yc.yl(s.duration)),k=ON(u),A=k&&u.width||r.resolution&&r.resolution.width,b=k&&u.width||r.resolution&&r.resolution.height;t.metadata={start:_.max(null===f?v||0:null===v?f:_.min(f,v),0),S$:i,duration:m&&p?Yc.cf(m,p).nl():(m||p||Yc.xd).nl(),R$:d,I$:l,N$:g,D$:w,audio:{start:_.max(0,f||0),duration:s&&s.WK||0,HK:a,O_:s&&s.GK,R$:s&&s.QK,I$:s&&s.ZK,N$:s&&s.$K,D$:s&&s.t$},video:{start:_.max(0,v||0),duration:o&&o.WK||0,HK:c,O_:o&&o.GK,R$:o&&o.QK,I$:o&&o.ZK,N$:o&&o.$K,D$:o&&o.t$},ZM:o?{width:o.width||A,height:o.height||b}:null,dz:i.dz,size:n,quality:r,I_:h,C$:i.C$,O$:i.O$}}function IC(t,n){var i,r,e,u,s={start:0,duration:0,HK:null,O_:null,R$:null,I$:null,N$:null,D$:null};return"Bj"===n?(r=s,e=i=Et(Et({},s),t.video),u=t.ZM):(r=i=Et(Et({},s),t.audio),e=s,u=null),{start:i.start,S$:t.S$,duration:i.duration,R$:i.R$,I$:i.I$,N$:i.N$,D$:i.D$,audio:r,video:e,ZM:u,dz:t.dz,size:t.size,quality:t.quality,I_:t.I_,C$:t.C$,O$:t.O$}}function NC(t,n){return t+"P$"+n.dz+"x$"+n.uri}!function(t){t.RK=-1,t.B$=-2}(tC||(tC={}));var DC=function(t){function n(n){var i;return(i=t.call(this)||this).L$=Rt(),i.M$=void 0,i.U$=void 0,i.F$=function(t){var n=t.data,r=n.V$;if(i.L$.get(r))switch(n.H$){case"q$":0;var e=n.W$;i.X$(r,e);break;case"G$":var u=n.z$;i.j$(r,new BI("PLAYBACK_ISSUE",{code:u}));default:0}},i.Y$=function(t){var n,r,e,u,s=t.data,o=s.Q$;if(i.L$.get(o))switch(s.Z$){case"J$":0;var a=s.K$;i.n0(o,{audio:(n=a).audio?gC(n.audio):void 0,video:n.video?(e=n.video,u=lC(e),Et(Et({},u),{HK:e.HK,eF:e.eF.map(function(t){return function(t){var n,i=PI.dX(t),r=Et(Et({},kC(n=i.Zk)),{e_:n.e_,v$:Zc(n.v$),d$:n.d$,l$:n.l$,_$:n._$&&Zc(n._$),g$:n.g$&&Zc(n.g$),w$:n.w$,y$:n.y$,MK:n.MK,m$:n.m$});return i.ns(r)}(t)}),p$:e.p$,k$:e.k$,xp:e.xp,width:e.width,height:e.height,A$:e.A$,b$:e.b$,T$:e.T$,Qj:e.Qj,Zj:e.Zj,Up:e.Up,Fp:e.Fp})):void 0,DK:n.DK?(r=n.DK,{CK:r.CK,vQ:r.vQ,vc:r.vc,PK:r.PK,xK:r.xK,BK:r.BK,LK:r.LK.map(hC),_c:[]}):void 0,MK:n.MK?n.MK.map(vC):n.MK,UK:Zc(n.UK)});break;case"i0":var c=s.r0;i.j$(o,new BI("PLAYBACK_ISSUE",{code:c}));default:0}},i.e0=function(t){if("PLAYER_INCORRECTLY_CONFIGURED"===t.message){var n={type:"Vu",Vu:new BI("PLAYER_INCORRECTLY_CONFIGURED",{code:"THEOplayer workers could not be loaded. Please check the configuration of the libraryLocation"})};nt(n.Vu.info.code),i.dispatchEvent(n)}else 0},i.mo=n,i.U$=i.u0(),i}ut(n,t);var i=n.prototype;return i.fs=function(t){var n=[];this.L$.forEach(function(i,r){t&&i.Qm!==t||n.push(r)}),this.s0(n)},i.s0=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.L$.delete(i)}if(t.length){if(this.M$){var r={o0:"a0",c0:t};this.M$.postMessage(r)}if(this.U$){var e={h0:"a0",f0:t};this.U$.postMessage(e)}}},i.j$=function(t,n){var i=this.L$.get(t);if(i){var r=i.JP;this.L$.delete(t),r(n)}},i.v0=function(t,n,i,r){this.M$||(this.M$=this.d0());var e={o0:"l0",_0:t,g0:n,w0:i,y0:r};this.M$.postMessage(e)},i.m0=function(t,n){this.U$||(this.U$=this.u0());var i={h0:"p0",k0:t,A0:n,b0:this.L$.get(t).T0};this.U$.postMessage(i)},i.X$=function(t,n){this.m0(t,n)},i.d0=function(){var t=PD(this.mo.libraryLocation,"theoplayer.d.js");return t.addEventListener("message",this.F$),t.addEventListener("error",this.e0),t},i.E0=function(t){var n=t.E$.video,i=n&&n.eF&&n.eF[0];i&&i.Zk.w$},i.n0=function(t,n){var i=this.L$.get(t),r=i.JP,e=i.S0,u={E$:n,info:i.R0,metadata:null};this.E0(u),function(t){var n=t.info.pY.Lz(t.info.dz-1),i=t.E$;t.info.O$=t.info.Mz,n&&(i.audio||i.video?i.video&&!i.video.k$&&!i.video.p$&&i.video.GK&&n.rY&&i.video.GK!==n.rY?t.info.O$=!0:i.video&&(i.video.height&&n.height&&i.video.height!==n.height||i.video.width&&n.width&&i.video.width!==n.width)&&(t.info.O$=!0):t.info.O$=!0)}(u),RC(u,e),function(t){var n=t.info,i=n.pY,r=t.metadata,e=t.E$;if(n.I0=Yc.yl(r.duration),n.oj=e.audio&&e.audio.XK.Df(Yc.yl(e.audio.duration))||Yc.xd,n.aj=e.video&&e.video.XK.Df(Yc.yl(e.video.duration))||Yc.xd,n.N0=e.audio&&e.audio.XK||Yc.xd,n.D0=e.video&&e.video.XK||Yc.xd,n.C0=r.audio.R$,n.O0=r.audio.I$,n.P0=r.video.R$,n.x0=r.video.I$,n.sj=r.R$,n.B0=r.I$,n.L0=r.audio.N$,n.M0=r.audio.D$,n.U0=r.video.N$,n.F0=r.video.D$,n.N$=r.N$,n.D$=r.D$,e.video){var u=TC(t.E$),s=e.video.eF&&e.video.eF[u];s?(n.SK=u,n.NK=s.Zk.lX,n.V0=s.Zk._X):n.SK=tC.B$}else n.SK=tC.RK;n.rY=e.video&&e.video.GK||0,n.width=e.video&&e.video.width||0,n.height=e.video&&e.video.height||0,i.dispatchEvent({type:"YY",R0:t.info}),!i.resolution&&r.ZM&&(i.resolution=r.ZM),i.bandwidth||(i.bandwidth=8*r.size/r.duration),!r.I_||i.I_&&!i.I_.Bj==!r.I_.Bj&&!i.I_.Lj==!r.I_.Lj||i.RY(r.I_),e.audio&&void 0!==e.audio.nY&&(i.nY=e.audio.nY),i.Qj=e.video&&e.video.Qj||i.Qj,i.Zj=e.video&&e.video.Zj||i.Zj,i.Jj=e.audio&&e.audio.CK||void 0,i.Kj=e.video&&e.video.CK||void 0,i.$j=e.audio&&e.audio.HK||void 0,i.tY=e.video&&e.video.HK||void 0,i.iY=e.audio&&e.audio.GK||void 0,i.rY=e.video&&e.video.GK||void 0}(u),this.L$.delete(t),r(null,u)},i.u0=function(){var t=PD(this.mo.libraryLocation,"theoplayer.e.js");return t.addEventListener("message",this.Y$),t.addEventListener("error",this.e0),t},i.H0=function(t,n,i,r){var e=this;t.getKey(r).then(function(t){var u=i;i=void 0,e.L$.has(n)&&e.v0(n,u,t,r.iv)}).catch(function(t){i=void 0,e.L$.has(n)&&e.j$(n,t)})},i.q0=function(t,n,i,r,e,u){var s=NC(t,r),o=r.pY;this.L$.set(s,{Qm:t,R0:r,T0:{W0:r.duration,I_:o.I_,Qj:o.Qj,Zj:o.Zj,Jj:o.Jj,Kj:o.Kj,$j:o.$j,tY:o.tY,nY:!this.mo.skipImplicitHEAACDetection&&o.nY,X0:e},S0:i.length,JP:u}),r.key?this.H0(n,s,i,r.key):this.m0(s,i)},i.G0=function(t){var n=[];return this.L$.forEach(function(i){i.Qm===t&&n.push(i.R0)}),n},i.z0=function(t,n){var i=NC(t,n);return this.L$.has(i)},i.Va=function(){this.fs(),this.M$&&(this.M$.terminate(),this.M$=void 0),this.U$&&(this.U$.terminate(),this.U$=void 0)},n}(lN);function CC(t,n){return t+"j0"+n}function OC(t){return CC(t.pY.ic,t.dz)}function PC(t){return!(!t||!t.E$)}var xC=function(){function t(t,n,i){this.Y0=[],this.Q0=Rt(),this.Z0=1,this.Dk=t,this.J0=n,this.K0=i}var n=t.prototype;return n.$0=function(t){var n=OC(t.info);if(this.Q0.has(n))this.n1(t.info,t);else{this.Y0.push(n),this.Q0.set(n,t);for(var i=this.J0.i1+10;this.Y0.length>8*this.e1&&this.u1>i*this.e1;){var r=this.Q0.get(this.Y0[0]),e=this.K0.s1,u=null==r?void 0:r.info;if(u){var s=u.start,o=s+u.duration,a=new Ca([s,o]),c=e,h=c+this.J0.i1;if(new Ca([c,h]).Tf(a).qa>0)break}this.Q0.delete(this.Y0.shift())}}},n.o1=function(t,n){var i=CC(t,n),r=this.Q0.get(i),e=this.Y0.indexOf(i);return!(!r||-1===e)&&(bn(this.Y0,e),this.Q0.delete(i),!0)},n.Zu=function(){this.Y0.length=0,this.Q0.clear()},n.a1=function(){for(var t={},n=0,i=this.Y0;n<i.length;n++){var r=i[n],e=this.Q0.get(r);PC(e)&&(t[e.info.pY.ic]=(t[e.info.pY.ic]||0)+1)}return t},n.c1=function(t,n){var i=[],r=this.h1(t,n);if(!PC(r))return i;do{i.push(r),n+=1,r=this.h1(t,n)}while(PC(r));return i},n.f1=function(t,n){return!!this.h1(t,n)},n.v1=function(t,n){return PC(this.h1(t,n))},n.h1=function(t,n){return this.Q0.get(CC(t,n))},n.n1=function(t,n){var i=OC(t),r=this.Y0.indexOf(i);return-1!==r&&(bn(this.Y0,r),this.Y0.push(i),n&&this.Q0.set(i,n),!0)},n.d1=function(){for(var t=[],n=0,i=this.Y0;n<i.length;n++){var r=i[n],e=this.Q0.get(r);t.push(e.info)}return t},n.l1=function(){for(var t=[],n=0,i=this.Y0;n<i.length;n++){var r=i[n],e=this.Q0.get(r);e&&PC(e)&&t.push(e.info)}return t},b(t,[{key:"u1",get:function(){for(var t=rC(this.Dk,this.d1()),n=0,i=0;i<t.length;i++)n+=t.end(i)-t.start(i);return n}},{key:"e1",get:function(){return this.Z0},set:function(t){t>0&&(this.Z0=_.max(t,1))}}]),t}();function BC(t,n,i){var r,e=t.length,u=Yc.xd;r=function(t,n){return xI(t.Zk,n.Zk).rf(Yc.xd)},t=yn(t.slice(),r);for(var s=1;s<e;s+=1){var o=t[s-1].Zk,a=t[s].Zk,c=xI(a,o);c.af(Yc.xd)&&(c=n),u=u.Df(c),o.v$=c,o.e_=c.nl()}if(e>0){var h=t[e-1].Zk,f=Yc.hf(Yc.yl(_.round(i-u.nl())),n);h.v$=f,h.e_=f.nl()}}function LC(t,n,i){for(var r=n[0].Zk.FK,e=t[t.length-1].Zk.FK,u=r.Hf(e),s=od(r,e).Hf(u),o=0;o<n.length;o++){i(n[o].Zk,s)}}function MC(t,n){t._X=t._X.Df(n),t.lX=t.lX.Df(n),t.FK=t.FK.Df(n)}function UC(t,n){MC(t,n),t.v$=t.v$.Df(n),t.g$=FC(t.g$,n),t._$=FC(t._$,n)}function FC(t,n){if(t)return t.Df(n)}function VC(t,n){return n.Df(od(t,n))}function HC(t,n){var i={audio:void 0,video:void 0,UK:t.UK};if("video"===n){if(!t.audio)return i;i.audio={HK:t.audio.HK,GK:t.audio.GK,zK:t.audio.zK,duration:t.audio.duration,WK:t.audio.WK,XK:Yc.xd,jK:t.audio.jK,YK:t.audio.YK,QK:t.audio.QK,ZK:t.audio.ZK,JK:t.audio.JK,KK:t.audio.KK,$K:t.audio.$K,t$:t.audio.t$,eF:t.audio.eF,f$:t.audio.f$,h$:t.audio.h$,qK:t.audio.qK,a$:t.audio.a$,c$:t.audio.c$}}if("audio"===n){if(!t.video)return i;i.video={HK:t.video.HK,A$:t.video.A$,T$:t.video.T$,b$:t.video.b$,GK:t.video.GK,zK:t.video.zK,p$:t.video.p$,k$:t.video.k$,width:t.video.width,height:t.video.height,Qj:t.video.Qj,Zj:t.video.Zj,Up:t.video.Up,Fp:t.video.Fp,xp:t.video.xp,duration:t.video.duration,WK:t.video.WK,XK:Yc.xd,jK:t.video.jK,YK:t.video.YK,QK:t.video.QK,ZK:t.video.ZK,JK:t.video.JK,KK:t.video.KK,$K:t.video.$K,t$:t.video.t$,eF:t.video.eF,qK:t.video.qK}}return i}function qC(t,n,i,r){var e=function(t,n){if(!t)return n;if(!n)return t;var i;if((t.HK===n.HK||!t.HK||!n.HK)&&t.GK===n.GK&&t.zK.if(n.zK)&&t.h$===n.h$)return t.eF?n.eF?(i=t.eF.concat(n.eF),LC(t.eF,n.eF,MC)):i=t.eF:i=n.eF,{HK:t.HK,GK:t.GK,zK:t.zK,duration:t.duration+n.duration,WK:t.WK+n.WK,XK:t.XK,jK:t.jK,YK:t.YK,QK:t.QK,ZK:t.ZK,JK:VC(n.JK,t.JK),KK:VC(n.KK,t.KK),$K:VC(n.$K,t.$K),t$:VC(n.t$,t.t$),eF:i,h$:t.h$,f$:t.f$,qK:t.qK||n.qK,a$:t.a$,c$:t.c$}}(t.audio?t.audio:void 0,i.audio?i.audio:void 0);if(!t.audio&&!i.audio||e){var u=function(t,n,i,r){if(!t)return i;if(!i)return t;if(t.HK===i.HK){var e,u,s=t.p$||i.p$;if(s)u=1/(e=t.zK.Df(i.zK).gl(2)).nl();else{if(t.GK!==i.GK)return;if(!t.zK.if(i.zK))return;e=t.zK,u=t.GK}if(t.width===i.width&&t.height===i.height){var o,a=t.k$||i.k$||!t.zK.if(i.zK);return t.eF?i.eF?r?(o=t.eF.concat(i.eF),LC(t.eF,i.eF,UC)):(BC(n.eF.concat(i.eF),e,n.duration+i.duration),o=t.eF.concat(i.eF),LC(t.eF,i.eF,UC)):o=t.eF:o=i.eF,{HK:t.HK,A$:t.A$,T$:t.T$,b$:t.b$,GK:u,zK:e,p$:s,k$:a,width:t.width,height:t.height,Qj:t.Qj,Zj:t.Zj,xp:t.xp,duration:t.duration+i.duration,WK:t.WK+i.WK,XK:t.XK,jK:t.jK,YK:t.YK,QK:t.QK,ZK:t.ZK,JK:VC(i.JK,t.JK),KK:VC(i.KK,t.KK),$K:VC(i.$K,t.$K),t$:VC(i.t$,t.t$),eF:o,qK:t.qK||i.qK,Up:t.Up,Fp:t.Fp}}}}(t.video?t.video:void 0,n.video,i.video,r);if(!t.video&&!i.video||u)return{audio:e,video:u,UK:t.UK}}}function WC(t){return HC(t,"audio")}function XC(t){return HC(t,"video")}var GC=function(){function t(t){this.$O=0,this._1=0,this.g1=_.exp(_.log(.5)/t)}var n=t.prototype;return n.KO=function(t,n){var i=_.pow(this.g1,t),r=n*(1-i)+i*this.$O;y(r)||(this.$O=r,this._1+=t)},n.w1=function(){var t=1-_.pow(this.g1,this._1);return this.$O/t},t}(),zC=function(){function t(t,n,i){void 0===t&&(t=2),void 0===n&&(n=5),void 0===i&&(i=128e3),this.m1=0,this.A1=5e5,this.b1=new GC(t),this.T1=new GC(n),this.E1=i}var n=t.prototype;return n.KO=function(t,n){var i=8e3*n/t,r=t/1e3;this.m1+=n,this.b1.KO(r,i),this.T1.KO(r,i)},n.w1=function(){return this.vP()?_.min(this.b1.w1(),this.T1.w1()):this.A1},n.vP=function(){return this.m1>=this.E1},t}(),jC=function(){function t(){this.b1=new GC(2),this.T1=new GC(5),this.S1=0,this.R1=1,this.A1=100}var n=t.prototype;return n.KO=function(t){this.S1+=1,this.b1.KO(1,t),this.T1.KO(1,t)},n.w1=function(){return this.vP()?_.min(this.b1.w1(),this.T1.w1()):this.A1},n.vP=function(){return this.S1>=this.R1},t}(),YC=function(){function t(t,n){var i=this;this.I1=!1,this.N1=0,this.D1=0,this.C1=function(){return i.O1()},this.P1=t,this.SA=n,this.EJ=n.EJ,this.EJ.addEventListener("qs",this.C1)}return t.prototype.O1=function(){var t=this.EJ.XJ,n=1e3*this.EJ.YJ,i=1e3*this.EJ.jJ;this.EJ.qZ&&(this.I1||(this.P1.B1(i),this.I1=!0),n>this.D1&&(this.P1.L1(n-this.D1,t-this.N1),this.N1=t,this.D1=n))},t}(),QC=function(){function t(){this.M1=new zC,this.U1=new jC}var n=t.prototype;return n.F1=function(t){new YC(this,t)},n.L1=function(t,n){this.M1.KO(t,n)},n.B1=function(t){this.U1.KO(t)},n.Va=function(){},b(t,[{key:"V1",get:function(){return this.U1.w1()/1e3}},{key:"H1",get:function(){return this.M1.w1()}}]),t}(),ZC=function(){function t(){this.q1=Rt()}var n=t.prototype;return n.W1=function(t,n){var i,r,e=this.q1.get(t);return Boolean(e&&(i=e.uj,r=n,V(i)?i===r:function(t,n){return t.uj===n.uj&&t.r_.Jh===n.r_.Jh&&t.r_.$h===n.r_.$h}(i,r)))},n.X1=function(t,n){if(this.W1(t,n))return this.q1.get(t).kn},n.G1=function(t,n,i){this.q1.set(t,{uj:n,kn:i})},n.Zu=function(){this.q1.clear()},t}(),JC=5,KC=5;function $C(t){if(!t.E$.video)return[];for(var n=[],i=0;i<t.E$.video.eF.length;i++){var r=t.E$.video.eF[i].Zk;r.w$&&n.push({o_:i,z1:r.lX})}return n}var tO=Yc.yl(.04),nO=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).j1=Rt(),u.Y1=Rt(),u.Q1=1,u.mo=n,u.Z1=i,u.$T=r,u.J1=new ZC,u.J0=e,u.K1=new pD(r,n),u.n2=new QC,u.i2=new DC(n),u.i2.addEventListener("Vu",function(t){u.dispatchEvent(t)}),u}ut(n,t);var i=n.prototype;return i.e2=function(t){this.i2.fs(t),this.K1.Zu(!1,t)},i.Zu=function(t){this.e2(t),t?this.j1.get(t).Zu():this.j1.forEach(function(t){return t.Zu()})},i.Va=function(){this.Du(),this.K1.Zu(),this.j1.forEach(function(t){return t.Zu()}),this.j1.clear(),this.i2.Va()},i.La=function(t,n,i){if(!this.j1.has(t)){var r=new xC(n,this.J0,i);r.e1=this.e1,this.j1.set(t,r)}},i.u2=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.J1.W1(i,r)){t.next=2;break}return t.abrupt("return",this.J1.X1(i,r));case 2:return t.next=4,this.s2(n,r);case 4:return e=t.sent,this.J1.G1(i,r,e),t.abrupt("return",e);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.s2=function(t,n){var i=this;return new Tt(function(r,e){i.K1.Vs(t,n,Ch.Ug,function(t,n){t&&e(t),r(new m(n.NA))})})},i.o2=function(t,n,i,r){var e=this.j1.get(t),u=e.h1(n.pY.ic,n.dz);if(e.v1(n.pY.ic,n.dz))e.n1(n),this.dispatchEvent({type:"a2",Qm:t,YW:u});else{if(!u)return this.c2(t,n,i,r);e.n1(n),this.h2(t,n,i,u.f2)}return r&&r(),null},i.c2=function(t,n,i,r){var e=this,u=this.j1.get(t),s=function(t,n){return t+"v2"+n.dz+"x$"+n.uri}(t,n);if(this.Y1.has(s))return null;this.Y1.set(s,!0);var o=this.K1.Vs(t,n.uri,Ch.Ug,function(a,c){return e.Y1.delete(s),a?r&&r(a):(e.dispatchEvent({type:"d2",Qm:t}),u.v1(n.pY.ic,n.dz)||u.$0({info:n,f2:o.NA}),e.o2(t,n,i),r&&r(a,c))});return this.n2.F1(o),o},i.h2=function(t,n,i,r){var e=this,u=this.j1.get(t);this.i2.z0(t,n)||(n&&n.key&&this.Z1.getKey(n.key).catch(G),this.i2.q0(t,this.Z1,r,n,i,function(n,i){if(n)return e.dispatchEvent({type:"Vu",Vu:n});u.$0(i),e.dispatchEvent({type:"a2",Qm:t,YW:i})}))},i.l2=function(t,n,i){var r=i.length,e="Bj"===t?rO:eO;if(!iO(n,i))return null;if(r<=1)return i;for(var u=1;u<r;u+=1){var s=i[u],o=i[u-1];if(s.metadata.O$){if("_2"===this.mo.g2||e(s,o)){var a=i.splice(0,u);return iO(n,a)?a:this.l2(t,n,i)}0}}return i},i.w2=function(t,n,i,r){for(var e=this.j1.get(t).l1(),u=r.m2,s=function(t){var r=i[t],s=e.filter(function(t){return t.pY===r}),o=rC(n,s),a=o._K(u.nl(),tO.nl());if(a>=0&&Yc.yl(o.end(a)).Hf(u).Sd(tO))return{v:!0}},o=0;o<i.length;o++){var a=s(o);if("object"==typeof a)return a.v}return!1},i.A2=function(t,n,i,r,e){if(!O.Ft)return!0;if(e.b2||this.w2(t,n,i,e))return!0;var u=Yc.hf(r,e.T2);return e.m2.Hf(u).Sd(Yc.yl(2))},i.E2=function(t,n,i,r,e,u,s,o){var a=n.c1(e.ic,u),c=this.l2(t,u,a);if(!c||0===c.length)return null;var h,f=c[0],v=r.TK(f.info),d=wO(t,r,f);if("Lj"!==t||function(t,n,i){return!!t&&t.np.pY===n&&i.Sd(Yc.yl(t.$h))&&i.af(Yc.yl(t.$h).Df(tO))}(i,e,d))return{Pz:c,S2:Yc.cf(v,d)};f.E$.video&&(f=(c=hO(c,function(t,n,i,r){for(var e=0,u=0,s=0;s<t.length;s+=1)for(var o=t[s],a=$C(o),c=0;c<a.length;c++){var h=a[c];if(n.IK(o.info,h.z1).Id(i.Hf(r)))return{R2:e,I2:u};e=s,u=h.o_}return{R2:e,I2:u}}(c,r,s,o)))[0]);if(d=wO(t,r,f),function(t){var n=t.E$.video,i=n&&n.eF,r=i&&i[0],e=r&&r.Zk.w$;if(!n)return!0;return!!e}(f))return{Pz:c,S2:Yc.cf(v,d)};var l=function(t){for(var n=0;n<t.length;n++){var i=TC(t[n].E$);if(!y(i))return{R2:n,I2:i}}return null}(c),_=Yc.hf(s,lO(t,r,e.Lz(u)));if(f.info.dz===u){if(l&&(d=wO(t,r,(h=hO(c,l))[0]),_.Hf(d).Sd(o)))return{Pz:h,S2:Yc.cf(v,d)};for(var g=u-1;n.v1(e.ic,g);){var w=n.c1(e.ic,g);if((f=(h=this.l2(t,u,w))&&h[0]&&cO(h[0],EC(h[0])))&&(d=wO(t,r,f),_.Hf(d).Sd(o)))return h[0]=f,{Pz:h,S2:Yc.cf(v,d)};g-=1}}return function(t){var n=t.pY;if(n.Bz&&n.Bz.live)return!1;if(!n.Lz(t.dz-1))return!1;return!0}(c[0].info)?null:l?{Pz:c=hO(c,l),S2:v}:null},i.N2=function(t,n,i,r,e,u,s,o,a,c,h){var f=u.D2(o,a,n),v=f&&f.np;if(!v)return null;var d=v.dz;do{var l=d,_=o.Lz(l),g=lO(n,u,_);if(!_O(n,u,_).sf(a)||_.C$){if(g.Df(tO).Id(c))break;if(Yc.hf(Yc.xd,a.Hf(g)).sf(h)&&i.v1(o.ic,l-1)&&i.v1(o.ic,l))i.h1(o.ic,l).metadata.O$||(l-=1);var w=this.C2(t,n,i,r,e,u,s,o,l,a,h);if(w&&(aO(w,a,c)||w.b2))return w}}while(i.v1(o.ic,++d));return null},i.C2=function(t,n,i,r,e,u,s,o,a,c,h){var f=o.Lz(a),v=this.E2(n,i,r,u,o,a,c,h),d=v&&v.Pz,l=v&&v.S2,g=d&&d[d.length-1],w=g&&g.metadata.C$;if(!(d=function(t,n){if(!n||!n.length)return n;var i="Bj"===t?uO:sO;return n.map(i).filter(oO)}(n,d))||!d.length){if(w){var y=[],m=u.TK(g.info);return y.FV=m,y.O2=m,y.T2=m,y.P2=m,y.m2=m,y.b2=w,y}return null}var p=d="Lj"===n?function(t,n,i){var r=i[0].E$.video;return i[0].info.Mz?function(t,n,i,r){var e=kn(r.eF,function(t){return t.Zk.w$});if(e<0)return i;var u=r.eF[e].Zk,s=n.IK(i[0].info,u.lX),o=t.yK(s.nl()),a=Yc.yl(t.end(o));if(a.Vd())return i;var c=s.Hf(a).Rd($v,2);if(c.af(Yc.xd))return i;var h=pO(r.eF.slice(e),c);return i[0]=vO(i[0],h),i}(t,n,i,r):function(t,n,i,r){var e=r.zK.vl(JC),u=r.eF[0].Zk,s=n.IK(i[0].info,u._X),o=yO(t,s,e);if(o.Vd())return i;var a=s.Hf(o).Rd($v,2);if(a.af(Yc.xd)||a.Id(e))return i;var c=pO(r.eF,a);return i[0]=vO(i[0],c),i}(t,n,i,r)}(e,u,d):function(t,n,i){var r;if("mp3"===(null===(r=i[0].E$.audio)||void 0===r?void 0:r.HK))return i;var e=i[0].E$.audio,u=e.eF[0].Zk;return i[0].info.Mz?function(t,n,i,r,e){var u=n.IK(i[0].info,e.lX),s=t.yK(u.nl()),o=Yc.yl(t.end(s));if(o.Vd())return i;var a=u.Hf(o).nl(),c=_.floor(a/r.zK.nl());if(c<=0)return i;var h=mO(r,c);return i[0]=fO(i[0],h),i}(t,n,i,e,u):function(t,n,i,r,e){var u=n.IK(i[0].info,e._X),s=yO(t,u,r.zK.vl(KC));if(s.Vd())return i;var o=(a=u.Hf(s).nl()/r.zK.nl(),a<0?_.ceil(a):_.floor(a));var a;if(0===o||_.abs(o)>KC)return i;var c=mO(r,o);return i[0]=fO(i[0],c),i}(t,n,i,e,u)}(e,u,d),k=p[0];if(f.dz<k.info.dz&&(l=u.TK(f)),p.FV=l,p.O2=function(t,n,i){return n.IK(i.info,gO(t,i).I$)}(n,u,k),p.T2=wO(n,u,k),p.P2=function(t,n,i){return n.IK(i.info,gO(t,i).D$)}(n,u,p[p.length-1]),p.m2=function(t,n,i){return n.IK(i.info,gO(t,i).N$)}(n,u,p[p.length-1]),p.b2=w,!this.A2(t,u,s,c,p))return null;var A=k.E$.video;return!A||(A.Qj=A.Qj||o.Qj,A.Zj=A.Zj||o.Zj,A.Qj&&A.Zj)?p:null},i.B2=function(t,n,i,r,e,u,s,o,a,c){for(var h=null,f=s.length-1;f>=0;f-=1){var v=s[f],d=this.N2(t,n,i,r,e,u,s,v,o,a,c);d&&(h&&!d.T2.sf(h.T2)||(h=d))}return h},i.L2=function(t,n,i,r,e,u,s,o,a){for(var c=Yc.yl(s),h=Yc.yl(o),f=Yc.yl(a),v=this.j1.get(t),d=new MD([{Jh:c.nl(),$h:c.Df(h).nl()}]),l=e.Tf(d),_=function(t){if(0===t.length)return null;var n=t.Pz(t.length-1),i=n[n.length-1];if(!i.np.M2)return null;return i}(e),g=HD(qD(l),d),w=0;w<g.length;w++){var y=Yc.yl(g.start(w)),m=Yc.yl(g.end(w)),p=kO(l,y,m),k=y.Df(p).Rd($v,2),A=m.Rd($v,2);if(k.sf(A)){if(_&&k.Sd(Yc.yl(_.$h)))continue;var b=this.B2(t,n,v,u,e,i,r,k,A,f);if(b)return b}}return null},i.l1=function(t){return this.j1.get(t).l1()},i.G0=function(t){return this.i2.G0(t)},b(n,[{key:"e1",get:function(){return this.Q1},set:function(t){t>0&&(this.Q1=t,this.j1.forEach(function(n){return n.e1=t}))}},{key:"V1",get:function(){return this.n2.V1}},{key:"H1",get:function(){return this.n2.H1}}]),n}(lN);function iO(t,n){for(var i=0;i<n.length;i++){if(n[i].info.dz===t)return!0}return!1}function rO(t,n){return t.metadata.audio.HK!==n.metadata.audio.HK||(t.metadata.audio.O_!==n.metadata.audio.O_||(!(!t.E$.audio||!n.E$.audio||t.E$.audio.h$===n.E$.audio.h$)||!ud(t.metadata.audio.R$,t.metadata.audio.I$).if(ud(n.metadata.audio.N$,n.metadata.audio.D$))))}function eO(t,n){return t.metadata.video.HK!==n.metadata.video.HK||(!(!t.metadata.ZM||!n.metadata.ZM||t.metadata.ZM.height===n.metadata.ZM.height&&t.metadata.ZM.width===n.metadata.ZM.width)||(!(!n.E$.video||n.E$.video.k$||t.metadata.video.O_===n.metadata.video.O_)||ud(t.metadata.video.R$,t.metadata.video.I$)!==ud(n.metadata.video.N$,n.metadata.video.D$)))}function uO(t){return t.E$.video&&(t={E$:XC(t.E$),info:t.info,metadata:IC(t.metadata,"Lj")}),t}function sO(t){return t.E$.audio&&(t={E$:WC(t.E$),info:t.info,metadata:IC(t.metadata,"Bj")}),t}function oO(t){return Boolean(t&&(t.E$.audio||t.E$.video))}function aO(t,n,i){var r=Yc.hf(n,t.T2),e=Yc.cf(i,t.m2),u=tO;return O.Bt&&(r.af(t.T2)?u=u.Df(t.T2).Hf(t.O2):e.Sd(t.m2)&&(u=u.Df(t.m2).Hf(t.P2))),e.Hf(r).Sd(u)}function cO(t,n){return y(n)?null:0===n?t:vO(t,t.E$.video.eF.slice(n))}function hO(t,n){return(t=t.slice(n.R2))[0]=cO(t[0],n.I2),t}function fO(t,n){var i={info:t.info,E$:{audio:XC(t.E$).audio,video:null,UK:t.E$.UK},metadata:null},r=i.E$.audio;r.eF=n;var e=n[0].Zk;return r.YK=e.FK,r.jK=r.YK.nl(),dO(r,i.E$.UK,r.zK),RC(i,t.metadata.size),i.metadata=IC(i.metadata,"Lj"),i}function vO(t,n){var i={info:t.info,E$:{audio:null,video:WC(t.E$).video,UK:t.E$.UK},metadata:null},r=i.E$.video;r.eF=n;var e=n[0].Zk;r.YK=e.FK,r.jK=r.YK.nl();var u=n[n.length-1].Zk.v$;return dO(r,i.E$.UK,u),RC(i,t.metadata.size),i.metadata=IC(i.metadata,"Bj"),i}function dO(t,n,i){for(var r=Yc.pl,e=Yc.pl,u=Yc.kl,s=Yc.kl,o=0,a=t.eF;o<a.length;o++){var c=a[o].Zk;r=Yc.cf(c._X,r),e=Yc.cf(c.lX,e),u=Yc.hf(c._X,u),s=Yc.hf(c.lX,s)}t.QK=e,t.ZK=r,t.JK=s,t.KK=u,t.XK=Yc.hf(od(t.YK,n),Yc.xd),t.$K=sd(t.JK,i),t.t$=sd(t.KK,i),t.WK=ud(t.$K,t.QK).nl(),t.duration=t.WK}function lO(t,n,i){if(ON(i)){var r="Bj"===t?i.C0:i.P0;return rd(r)||(r=i.sj),n.IK(i,r)}return i&&n.TK(i)}function _O(t,n,i){if(ON(i)){var r="Bj"===t?i.L0:i.U0;return rd(r)||(r=i.sj),n.IK(i,r)}return i&&n.TK(i).Df("Bj"===t?function(t){return ON(t)?t.oj||Yc.xd:t&&Yc.yl(t.duration)||Yc.xd}(i):function(t){return ON(t)?t.aj||Yc.xd:t&&Yc.yl(t.duration)||Yc.xd}(i))}function gO(t,n){return"Bj"===t?n.metadata.audio:n.metadata.video}function wO(t,n,i){return n.IK(i.info,gO(t,i).R$)}function yO(t,n,i){var r=t._K(n.nl(),i.nl());if(-1!==r)for(var e=t.Pz(r),u=e.length-1;u>=0;u--){var s=e[u];if(n.Hf(Yc.yl(s.$h)).Md().af(i))return Yc.yl(s.np.P2);if(n.Hf(Yc.yl(s.Jh)).Md().af(i))return Yc.yl(s.np.U2)}return Yc.ml}function mO(t,n){var i;if(n<0)i=t.eF.slice(-n);else{0;var r=new PI,e=function(t,n){if(t)switch(n){case 1:return new m([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);case 2:case 3:return new m([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}else switch(n){case 1:return new m([0,200,0,128,35,128]);case 2:return new m([33,0,73,144,2,25,0,35,128]);case 3:return new m([0,200,0,128,32,132,1,38,64,8,100,0,142]);case 4:return new m([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);case 5:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);case 6:return new m([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}return null}(t.e$,t.h$);r.iX(e,0,e.length),i=t.eF.slice();for(var u=0;u<n;u++){var s=i[0].Zk,o=r.ns(Et(Et({},r.Zk),{FK:ud(s.FK,t.zK),Ql:s.Ql-t.zK.nl(),_X:ud(s._X,t.zK),lX:ud(s.lX,t.zK)}));i.unshift(o)}}return i}function pO(t,n){var i=t[0].Zk,r=t.slice();return r[0]=t[0].ns(Et(Et({},i),{FK:ud(i.FK,n),Ql:i.Ql-n.nl(),_X:ud(i._X,n),l$:i.l$-n.nl(),lX:ud(i.lX,n),d$:i.d$-n.nl(),v$:Yc.hf(Yc.xd,i.v$.Df(n)),e_:_.max(0,i.e_+n.nl())})),r}function kO(t,n,i){for(var r=0;r<t.length-1;r++){var e=t.Pz(r),u=t.Pz(r+1);if(e.length&&u.length&&Yc.yl(e[0].Jh).af(n)&&Yc.yl(u[u.length-1].$h).Sd(i)&&u[0].np.Pz[0].us.S$.Mz)return tO.vl(5)}return t.lb(n.nl())?tO:Yc.xd}function AO(t){return new bO(t.K_,t.kn)}var bO=function(){function t(t,n){this.F2=n,this.K_=t}return t.prototype.V2=function(t){AD(t)},b(t,[{key:"kn",get:function(){return this.F2}},{key:"H2",get:function(){return kD(bD(this.F2,this.K_))}}]),t}(),TO=function(){function t(t,n,i){this.uj="data:"+t+";"+n+","+i}return t.prototype.V2=function(t){},b(t,[{key:"H2",get:function(){return this.uj}}]),t}(),EO=function(){function t(t,n,i,r,e,u,s,o,a,c){this.q2=0,this.W2=t,this.X2=n,this.Qm=i,this.K_=r,this.YW=e,this.G2=u,this.Rk=s,this.z2=o,this.j2=a,this.JP=c}return t.Y2=function(t,n,i,r,e,u,s,o,a,c){switch(n){case"Q2":return new SO(t,i,r,e,u,s,o,a,c);case"Z2":return new RO(t,i,r,e,u,s,o,a,c)}},t}(),SO=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,"Q2",n,i,r,e,u,s,o,a,c)||this}return ut(n,t),n.prototype.J2=function(){return{K2:"t3",n3:this.X2,i3:"r3",e3:"u3",s3:this.K_,o3:aC(this.YW,[]),a3:this.j2,c3:this.z2.Rl(),h3:this.G2.Rl(),f3:this.Rk.Rl()}},n}(EO),RO=function(t){function n(n,i,r,e,u,s,o,a,c){return t.call(this,"Z2",n,i,r,e,u,s,o,a,c)||this}return ut(n,t),n.prototype.J2=function(){return{K2:"t3",n3:this.X2,i3:"audio/mpeg"===this.K_?"v3":"d3",e3:Mw?"l3":"u3",s3:this.K_,o3:aC(this.YW,[])}},n}(EO),IO=function(){function t(){this._3=Rt(),this.g3=1}var n=t.prototype;return n.w3=function(){return(this.g3++).toString()},n.Y2=function(t,n,i,r,e,u,s,o,a){var c=this.w3(),h=EO.Y2(c,n,t,i,r,e,u,s,o,a);return this.y3(h),h},n.m3=function(t){return this._3.get(t)},n.y3=function(t){this._3.set(t.X2,t)},n.A3=function(t){this._3.delete(t)},n.b3=function(t){this.m3(t).q2=1,this.A3(t)},n.T3=function(t,n){var i=this.m3(t).JP;this.m3(t).q2=2,this.A3(t),i(n)},n.E3=function(t,n){var i=this.m3(t).JP;this.m3(t).q2=3,this.A3(t),i(null,n)},n.Zu=function(t){var n=[];this._3.forEach(function(i,r){t&&i.Qm!==t||n.push(r)});for(var i=0;i<n.length;i++){var r=n[i];this.b3(r)}},t}();var NO,DO=function(){function t(n){var i=this;this.S3=function(t){var n=t.data.R3,r=t.data.I3,e=t.data.N3,u=t.data.D3,s=i._3.m3(r);if(s&&1!==s.q2)switch(n){case"C3":i.O3(s,e);break;case"P3":i._3.T3(r,new BI("PLAYBACK_ISSUE",{code:u}));break;default:0}},this.x3=function(t){0},this._3=new IO,this.mo=n,this.B3=t.L3(n.g2),this.M3()}t.L3=function(t){switch(t){case"_2":return"Q2";case"U3":return"Z2"}};var n=t.prototype;return n.t3=function(t,n,i,r,e,u,s){var o={metadata:null,Bj:null,Lj:null,Vu:null};i&&i.length||s(new BI("PLAYBACK_ISSUE",{code:"SP154"}));var a=i[0],c=i[i.length-1],h=a.info.dz+1,f=a.info.pY,v=a.metadata,d=v.audio.HK?v.audio:void 0,l=v.video.HK?v.video:void 0,_=c.metadata,g=_.audio.HK?_.audio:void 0,w=_.video.HK?_.video:void 0,m=r.Df(od(v.I$,v.R$)),p=r.Df(od(v.R$,v.R$)),k=r.Df(d?od(d.I$,v.R$):Yc.xd),A=r.Df(d?od(d.R$,v.R$):Yc.xd),b=r.Df(l?od(l.I$,v.R$):Yc.xd),T=r.Df(l?od(l.R$,v.R$):Yc.xd),E=r.Df(od(_.D$,v.R$)),S=r.Df(od(_.N$,v.R$)),R=r.Df(g?od(g.D$,v.R$):Yc.xd),I=r.Df(g?od(g.N$,v.R$):Yc.xd),N=r.Df(w?od(w.D$,v.R$):Yc.xd),D=r.Df(w?od(w.N$,v.R$):Yc.xd);k=Yc.hf(Yc.xd,k),b=Yc.hf(Yc.xd,b);var C,O,P,x,B,L=IN.Tj(n.BY)?Yc.yl(100079991719):Yc.yl(n.e_),M=function(t){for(var n=t[0].E$,i=n,r=1;r<t.length;r++){if(!(n=qC(i,t[r-1].E$,t[r].E$,t[r].info.O$)))return i;i=n}return i}(i);if(M.audio){O=(C=XC(M)).audio.duration;P=this._3.Y2(t,this.B3,"mp3"===C.audio.HK?"audio/mpeg":"audio/mp4",C,k,A,L,h,function(t,n){if(o.Vu=o.Vu||t,o.Bj=n,C=!0,x)return s(o.Vu,o)}),this.F3(P),C=null}else C=!0;if(M.video){B=(x=WC(M)).video.duration;P=this._3.Y2(t,this.B3,"video/mp4",x,b,T,L,h,function(t,n){if(o.Vu=o.Vu||t,o.Lj=n,x=!0,C)return s(o.Vu,o)}),this.F3(P),x=null}else x=!0;var U,F,V,H=i.map(function(t){return t.metadata}),q=Yc.yl(O),W=Yc.yl(B),X=a.E$.audio&&a.E$.video?Yc.cf(a.E$.audio.XK.Df(q),a.E$.video.XK.Df(W)):a.E$.audio?a.E$.audio.XK.Df(q):a.E$.video?a.E$.video.XK.Df(W):Yc.xd;if(X.Jd()&&tt("Segment with no valid audio or video track detected",a.info.uri),M.video){var G=TC(M);if(y(G))tt("Segment without keyframes detected",a.info.uri),U=Yc.ml,F=Yc.ml,V=X.vl(1.5);else{var z=M.video.eF[G].Zk;U=r.Df(od(z._X,v.R$)),F=r.Df(od(z.lX,v.R$)),V=Yc.yl(z.d$-a.metadata.start)}}else U=k,F=A,V=Yc.xd;var j=Yc.hf(V,Yc.hf(a.E$.audio&&a.E$.audio.XK||Yc.xd,a.E$.video&&a.E$.video.XK||Yc.xd));o.metadata={dz:h,Jh:r.nl(),U2:m.nl(),FV:p.nl(),P2:E.nl(),m2:S.nl(),V0:U.nl(),NK:F.nl(),S2:Yc.cf(r,e).nl(),e_:X.nl(),Pz:H,rs:j.nl(),Bj:d&&{Jh:A.nl(),U2:k.nl(),$h:I.nl(),P2:R.nl(),e_:O,HK:d.HK},Lj:l&&{Jh:T.nl(),U2:b.nl(),$h:D.nl(),P2:N.nl(),e_:B,HK:l.HK,q_:v.ZM.width,P_:v.ZM.height},I_:v.I_,O$:v.O$,pY:f,C$:u},i=null,M=null},n.Va=function(){this._3.Zu(),this.V3&&(this.V3.terminate(),this.V3=null)},n.fs=function(t){this._3.Zu(t)},n.O3=function(t,n){switch(t.W2){case"Q2":var i=n;this._3.E3(t.X2,{initializer:AO(i.H3),m4s:AO(i.q3)});break;case"Z2":var r=n;this._3.E3(t.X2,(e=r,Mw?new TO(e.K_,"base64",e.kn):new bO(e.K_,e.kn)));break;default:0}var e},n.M3=function(){this.V3||(this.V3=PD(this.mo.libraryLocation,"theoplayer.p.js"),this.V3.addEventListener("message",this.S3),this.V3.addEventListener("error",this.x3))},n.F3=function(t){this.V3||this.M3(),this.V3.postMessage(t.J2())},t}();function CO(t,n){return/^https?:\/\//.exec(t)?t:/^:\/\//.exec(t)?t:0===t.indexOf("/")?n.substr(0,n.indexOf("/",8))+t:n+t}function OO(t,n){return t.length>=n.length&&0===t.lastIndexOf(n,0)}function PO(t){var n=t.indexOf(":");return-1!==n&&t.length>n+1?t.substring(n+1):null}function xO(t){for(var n={},i=/(:|,) ?([A-Z0-9\-]+)=((0(X|x)([0-9a-fA-F]+))|(([0-9]+(\.[0-9]+)?)x([0-9]+(\.[0-9]+)?))|([0-9]+(\.[0-9]+)?)|([A-Za-z\-]+[A-Za-z\-0-9]*)|("(([^"]*\\")*[^"]*)"))/g,r=i.exec(t);null!==r;){var e=r[2],u=void 0;u=void 0!==r[6]?pr(r[6]):void 0!==r[7]?{width:w(r[8]),height:w(r[10])}:void 0!==r[12]?w(r[12]):void 0!==r[14]?r[14]:void 0!==r[16]?r[16]:null,n[e.toLowerCase()]=u,r=i.exec(t)}return n}var BO,LO="x-";function MO(t,n,i,r){var e=t.split("@"),u=CO(n,i),s=g(e[0],10),o=e[1]?g(e[1],10):r;return{uj:u,toString:function(){return u},indexOf:function(t){return u.indexOf(t)},r_:{Jh:o,$h:o+s-1}}}function UO(t,n,i){var r,e,u,s,o,a=0,c=0,h=0,f=null,v=0,d=!1,l=[],y=null,p=0,k=t.match(/[^\r\n]+/g);if(!k||"#EXTM3U"!==k[0].trim())throw new BI("INVALID_HLS_MANIFEST",{code:"HMP2670",uri:n});for(var A={live:!0,hasEnd:!1,isEvent:!1,streams:[],fragments:[],media:[],dateRanges:[],isMasterPlaylist:!1,uri:n,metadata:null,duration:NaN,estimateDuration:NaN},b=1;b<k.length;b+=1){var T=k[b].trim();if(l.push(T+""),OO(T,"#EXT")){if(OO(T,"#EXTINF"))h=(h=w(PO(T)))||.5;else if(OO(T,"#EXT-X-BYTERANGE"))f=PO(T);else if(OO(T,"#EXT-X-KEY"))(u=xO(T)).method&&"NONE"===u.method?u=null:u.absoluteURI=CO(u.uri,i);else if(OO(T,"#EXT-X-DISCONTINUITY")&&!OO(T,"#EXT-X-DISCONTINUITY-"))d=!0,v+=1;else if(OO(T,"#EXT-X-STREAM-INF"))(e=xO(T)).dz=c++,(b+=1)<k.length&&(e.uri=CO(k[b].trim(),i),A.streams.push(e));else if(OO(T,"#EXT-X-MEDIA")&&!OO(T,"#EXT-X-MEDIA-"))(s=xO(T)).uri&&(s.uri=CO(s.uri,i)),A.media.push(s);else if(OO(T,"#EXT-X-PROGRAM-DATE-TIME"))y=new Date(PO(T));else if(OO(T,"#EXT-X-DISCONTINUITY-SEQUENCE"))A.Iz=!0,A.Nz=g(PO(T),10);else if(OO(T,"#EXT-X-MEDIA-SEQUENCE"))a=g(PO(T),10),A.W3=!0,A.X3=a;else if(OO(T,"#EXT-X-TARGETDURATION"))A.targetDuration=g(PO(T),10),A.hasTargetDuration=!0;else if(OO(T,"#EXT-X-PLAYLIST-TYPE:EVENT"))A.isEvent=!0;else if(OO(T,"#EXT-X-ENDLIST"))A.live=!1,A.hasEnd=!0;else if(OO(T,"#EXT-X-MAP")){var E=xO(T),S=E.uri,R=E.byterange;o=R?MO(R,S,i,0):CO(S,i)}else if(OO(T,"#EXT-X-VERSION"))A.version=g(PO(T),10);else if(OO(T,"#EXT-X-DATERANGE")){var I=FO(T);A.dateRanges.push(I)}}else if(OO(T,"#"));else if(0!==T.length){f?p=(r=MO(f,T,i,p)).r_.$h+1:r=CO(T,i);var N,D=u&&Et({},u);u&&void 0===u.iv&&(N=a%4294967295,D.iv=new m([0,0,0,0,0,0,0,0,0,0,0,0,N>>24,N>>16,N>>8,255&N])),A.fragments.push({start:0,duration:h,uri:r,dz:a,Mz:d,xz:v,key:D,DY:y,NY:l,C$:!1,G3:o}),a+=1,h=0,f=null,d=!1,y=null,l=[]}}return A.hasEnd&&A.fragments.length&&(A.fragments[A.fragments.length-1].C$=!0),A.isMasterPlaylist=0!==A.streams.length,A.metadata=function(t){var n=t&&t.fragments&&t.fragments.length,i=t.targetDuration,r=0,e=0;if(!n)return null;for(var u=0,s=t.fragments;u<s.length;u++){var o=s[u];e+=o.duration,i=_.min(i,o.duration),r=_.max(r,o.duration)}return{z3:i,j3:r,Y3:n?t.fragments[n-1].duration:0,Q3:e/n,Z3:e}}(A),function(t){if(!t.isMasterPlaylist){t.duration=0;for(var n=0,i=t.fragments;n<i.length;n++){var r=i[n];t.duration+=r.duration}t.estimateDuration=t.duration/t.fragments.length,t.targetDuration||(t.targetDuration=t.estimateDuration),t.live&&(t.fragments.length<10?t.duration=-.001:t.duration=-(t.duration-3*t.targetDuration))}}(A),function(t){for(var n=0,i=0,r=t.fragments;i<r.length;i++){var e=r[i];e.start=n,n+=e.duration}}(A),function(t){t.streams.sort(function(t,n){return t.bandwidth&&n.bandwidth&&t.bandwidth!==n.bandwidth?t.bandwidth-n.bandwidth:t.resolution&&n.resolution&&t.resolution.width!==n.resolution.width&&t.resolution.height!==n.resolution.height?t.resolution.height*t.resolution.width-n.resolution.height*n.resolution.width:t.dz-n.dz})}(A),function(t,n){for(var i={},r=0;r<t.media.length;r+=1){var e=t.media[r];e.type===n&&e.uri&&(i[e["group-id"]]=(i[e["group-id"]]||0)+1)}for(var u=t.media.length-1;u>=0;u-=1){var s=t.media[u];s.type!==n||i[s["group-id"]]||bn(t.media,u)}}(A,"VIDEO"),function(t){for(var n=0,i=0,r=t.streams;i<r.length;i++)r[i].id=n,n+=1;for(var e=0,u=t.media;e<u.length;e++)u[e].id=n,n+=1}(A),function(t){for(var n=function(n,i){var r=i[n];"video"in r&&(r.media=function(t,n){for(var i,r=t.length>>>0,e=arguments[1],u=0;u<r;u++)if(i=t[u],n.call(e,i,u,t))return i}(t.media,function(t){return t["group-id"]==r.video}))},i=0,r=t.streams;i<r.length;i++)n(i,r)}(A),A}function FO(t){var n=xO(t),i=function(t){for(var n={},i=0,r=l.keys(t);i<r.length;i++){var e=r[i];sn(e,LO)&&(n[e.substr(LO.length)]=t[e])}return n}(n),r=n["start-date"]?new Date(n["start-date"]):void 0,e=n["end-date"]?new Date(n["end-date"]):void 0,u="YES"===n["end-on-next"]||void 0,s=n["scte35-cmd"]?n["scte35-cmd"].buffer:void 0,o=n["scte35-out"]?n["scte35-out"].buffer:void 0,a=n["scte35-in"]?n["scte35-in"].buffer:void 0;return{ic:n.id,Vz:n.class,OI:r,Uz:e,e_:n.duration,Xz:n["planned-duration"],zz:u,Yz:i,Zz:s,Kz:o,tj:a}}!function(t){t.NO_EXTM3U="HMP2670",t[t.DATERANGE_INVALID_1=101]="DATERANGE_INVALID_1",t[t.DATERANGE_INVALID_2=102]="DATERANGE_INVALID_2",t[t.DATERANGE_INVALID_3=103]="DATERANGE_INVALID_3",t[t.DATERANGE_INVALID_4=104]="DATERANGE_INVALID_4",t[t.DATERANGE_INVALID_5=105]="DATERANGE_INVALID_5",t[t.DATERANGE_INVALID_6=106]="DATERANGE_INVALID_6"}(BO||(BO={}));(NO={})[BO.NO_EXTM3U]="The manifest does not contain a EXTM3U tag.",NO[BO.DATERANGE_INVALID_1]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST have a CLASS attribute.",NO[BO.DATERANGE_INVALID_2]="Other EXT-X-DATERANGE tags with the same CLASS attribute MUST NOT specify Date Ranges that overlap.",NO[BO.DATERANGE_INVALID_3]="An EXT-X-DATERANGE tag with an END-ON-NEXT=YES attribute MUST NOT contain DURATION or END-DATE attributes.",NO[BO.DATERANGE_INVALID_4]="If a Playlist contains an EXT-X-DATERANGE tag, it MUST also contain at least one EXT-X-PROGRAM-DATE-TIME tag.",NO[BO.DATERANGE_INVALID_5]="If a Playlist contains two EXT-X-DATERANGE tags with the same ID attribute value, then any AttributeName that appears in both tags MUST have the same AttributeValue.",NO[BO.DATERANGE_INVALID_6]="If a Date Range contains a START-DATE attribute and a DURATION attribute and an END-DATE attribute, the value of the END-DATE attribute MUST be equal to the value of the START-DATE attribute plus the value of the DURATION attribute.";var VO=function(){function t(){}return t.prototype.Nm=function(t,n,i){return UO(t,n,i)},t}(),HO=3,qO=function(){function t(t,n,i){void 0===i&&(i=HO),this.$T=t,this.J3=n,this.K3=i}var n=t.prototype;return n.t4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.n4(n,i,!0,r));case 1:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.i4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.n4(n,i,!1,r));case 1:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.n4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o,a,c,h,f,v;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=100,o=0;case 2:if(!(o<this.K3)){t.next=31;break}if(!(o>0)){t.next=7;break}return t.next=6,Pr(s,e);case 6:s<1e4&&(s=_.min(2*s,1e4));case 7:a=0;case 8:if(!(a<n.length)){t.next=28;break}return c=n[a],t.prev=10,h=new Xh({Zl:c,Zg:Ch.Hg,Yg:i,tw:this.J3,Qg:"GET",ru:"manifest",Kg:"",bs:e}),t.next=14,this.$T.SA(h);case 14:return f=t.sent,t.next=17,f.kn();case 17:return v=t.sent,t.abrupt("return",{r4:v,e4:c,DA:f.DA});case 22:t.prev=22,t.t0=t.catch(10),u=t.t0;case 25:a++,t.next=8;break;case 28:o++,t.next=2;break;case 31:throw u;case 32:case"end":return t.stop()}},t,this,[[10,22]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),WO=function(){function t(t){this.u4=t}return t.prototype.s4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=!1),s=0,o=this.u4;case 2:if(!(s<o.length)){t.next=17;break}return a=o[s],t.prev=4,t.next=7,a.s4(n,i,r,e);case 7:return t.abrupt("return",t.sent);case 10:t.prev=10,t.t0=t.catch(4),Cn(t.t0),u=t.t0;case 14:s++,t.next=2;break;case 17:throw u;case 18:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),XO=function(){function t(t){this.o4=t}return t.prototype.s4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,this.o4.a4(n);case 3:if(!(u=t.sent)){t.next=8;break}return t.abrupt("return",{r4:u.data,e4:u.locationURL,DA:u.responseURL});case 8:throw new v("Manifest fetch from cache unsuccesful");case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}(),GO=function(){function t(t){this.c4=t}return t.prototype.s4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===r&&(r=!1),!r){t.next=7;break}return t.next=4,this.c4.t4(n,i,e);case 4:return t.abrupt("return",t.sent);case 7:return t.next=9,this.c4.i4(n,i,e);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function zO(t,n){return new WO([new XO(n),new GO(t)])}var jO=function(){function t(t,n,i){this.h4=t,this.f4=n,this.v4=i}var n=t.prototype;return n.s4=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===r&&(r=!1),t.next=3,this.h4.s4(n,i,r,e);case 3:return u=t.sent,t.next=6,this.d4(u);case 6:return t.abrupt("return",u);case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.d4=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.f4.tJ({key:lD(n.e4),locationURL:As(n.e4),responseURL:As(n.DA),data:n.r4,references:[this.v4.ic]});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),t}(),YO=function(){function t(t,n,i,r){this.l4=t,this._4=n,this.g4=i,this.w4=r}var n=t.prototype;return n.a4=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.l4.iJ(n.map(lD));case 2:return i=t.sent,t.abrupt("return",i.shift());case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.y4=function(t,n){var i=_D(t,n);return this._4.zu(i)},n.m4=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=_D(n,i),t.next=3,this.g4.ju(e);case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=r.data;case 12:return t.abrupt("return",t.t2);case 13:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.kM=function(t){return this.w4.ju(t)},t}();function QO(t){return-1===(t=t.split("#")[0].split("?")[0]).indexOf("/")?t:t.substring(0,t.lastIndexOf("/")+1)}var ZO=function(){function t(t,n,i){this.A4=new VO,this.mo=t,this.$T=i;var r=this.mo&&this.mo.crossOrigin===lf.gv,e=new qO(i,r,1);this.h4=zO(e,new YO(dD.$t.cJ,dD.$t.oJ,dD.$t.aJ,dD.$t.fJ))}var n=t.prototype;return n.Vs=function(t,n,i){var r=this.zO(t,n);return i&&r.then(function(t){return i(null,t)},function(t){return i(t)}),r},n.zO=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.h4.s4([n],i);case 3:return r=t.sent,n=r.DA,e=this.A4.Nm(r.r4,n,QO(n)),t.abrupt("return",{PQ:e,b4:r.r4});case 10:if(t.prev=10,t.t0=t.catch(0),!(t.t0 instanceof Kd)){t.next=16;break}throw new BI("MANIFEST_NOT_FOUND",{code:"MFL8600",uri:n});case 16:if(!(t.t0 instanceof $d)){t.next=24;break}if(0!==t.t0.NA.IA){t.next=21;break}throw new BI("MANIFEST_CORS_ERROR",{code:"MFL3900",uri:n,status:t.t0.NA.IA});case 21:throw new BI("MANIFEST_NOT_FOUND",{code:"MFL4100",uri:n,status:t.t0.NA.IA});case 22:t.next=25;break;case 24:throw new BI("ERROR",{error:t.t0,uri:n});case 25:case"end":return t.stop()}},t,this,[[0,10]])}));return function(n,i){return t.apply(this,arguments)}}(),t}(),JO=function(t){function n(n,i){var r;return(r=t.call(this)||this).T4=new ZO(i||{},dD.$t.cJ,n),r}ut(n,t);var i=n.prototype;return i._T=function(){void 0!==this.E4&&(c(this.E4),this.E4=void 0),this.S4&&this.S4.SA&&(this.S4=void 0)},i.R4=function(t){if(this.QY)for(var n=0,i=this.QY.fragments;n<i.length;n++){var r=i[n];if(r.uri===t)return r}},n.I4=function(t,n,i,r){var e,u=t.targetDuration,s=t.metadata;return e=t.fragments.length&&s&&(!u||s.Z3<3*u)?1e3*s.z3:u?1e3*u:1e4,i===n&&(e/=2),e=_.max(e-r,1e3)},i.N4=function(t){if(t.fragments.length>0)for(var n=this.R4(t.fragments[0].uri),i=n&&n.dz||0,r=0,e=t.fragments;r<e.length;r++){e[r].dz+=i}},i.D4=function(t,i,r,e,u,s){var o=this;if(this.S4&&r===this.S4.SA){var c=ml()-i;if(e){this.S4=void 0,this.GR=e;var h={type:"Vu",Vu:e};return this.dispatchEvent(h),u&&u(e)}this.S4=void 0;var f=s.PQ,v=s.b4;f.W3||this.N4(f),t===this.C4&&(this.iQ=f),this.QY=f;var d=n.I4(f,v,this.O4,c);f.live?f.isMasterPlaylist||(this.E4=a(function(){return o.zO(t)},d)):this._T(),u&&u(e,s);var l={type:"P4",manifest:f,manifestText:v};this.dispatchEvent(l),this.O4=v}},i.zO=function(t,n){var i=this,r=ml(),e=t;c(this.E4),this.E4=void 0;var u=this.T4.Vs(e,{},function(e,s){return i.D4(t,r,u,e,n,s)});this.S4={SA:u,Zl:t}},i.Jh=function(t,n){var i,r,e,u=this,s=!1;(e=t||(this.QY?this.QY.uri:this.C4))&&(this.S4&&this.S4.Zl===t?n&&(i=function(t){u.removeEventListener("Vu",r),u.removeEventListener("P4",i);var e=t;n(null,{PQ:e.manifest,b4:e.manifestText})},r=function(t){u.removeEventListener("Vu",r),u.removeEventListener("P4",i),n(t.Vu)},this.addEventListener("Vu",r),this.addEventListener("P4",i)):(this._T(),this.zO(e,function(t,i){if(!s)return s=!0,n&&n(t,i)})))},i.x4=function(t){t&&(this.O4=void 0,this.iQ&&this.iQ.isMasterPlaylist?this.Jh(t.uri):this.QY&&!this.B4()&&this.Jh(this.QY.uri))},i.Va=function(){this._T(),this.Du()},i.B4=function(){return!!this.S4||!!this.E4||!(!this.QY||this.QY.live)},b(n,[{key:"PQ",get:function(){return this.QY}},{key:"BQ",get:function(){return this.iQ}},{key:"XZ",get:function(){return this.C4},set:function(t){this._T(),this.O4=void 0,this.iQ=void 0,this.QY=void 0,this.C4=t}}]),n}(lN),KO=function(t){function n(n,i){var r;return(r=t.call(this)||this).mo=i,r.xa=Rt(),r.C4=null,r.L4=null,r.$T=n,r}ut(n,t);var i=n.prototype;return i.Jh=function(){var t=this,n=this.XZ;if(n&&!this.L4){var i=new JO(this.$T,this.mo);i.addEventListener("Vu",function(i){var r=i.Vu;t.dispatchEvent({type:"M4",Vu:r}),t.xa.has(n)&&t.dispatchEvent({type:"Vu",Vu:r,U4:n})}),i.addEventListener("P4",function n(r){i.removeEventListener("P4",n),i===t.L4&&t.dispatchEvent({type:"F4",PQ:r.manifest})}),i.addEventListener("P4",function(i){t.xa.has(n)&&t.dispatchEvent({type:n,PQ:i.manifest})}),this.L4=i,i.Jh(n)}},i.V4=function(t,n){this.H4(t),this.q4(n)},i.q4=function(t){var n,i=this;this.xa.has(t)||(t===this.XZ?(this.Jh(),(n=this.L4).PQ&&this.dispatchEvent({type:t,PQ:n.PQ},!0)):((n=new JO(this.$T,this.mo)).addEventListener("Vu",function(n){i.dispatchEvent({type:n.type,Vu:n.Vu,U4:t})}),n.addEventListener("P4",function(n){i.dispatchEvent({type:t,PQ:n.manifest})})),this.xa.set(t,n))},i.H4=function(t){if(this.xa.has(t)){var n=this.xa.get(t);n!==this.L4&&n.Va(),this.xa.delete(t),this.removeEventListener(t)}},i.W4=function(t){if(this.xa.has(t)){var n=this.xa.get(t);n.B4()||n.Jh(t)}},i.X4=function(){var t=this;this.xa.forEach(function(n,i){return t.W4(i)})},i.Fa=function(){this.xa.forEach(function(t){return t.Va()}),this.xa.clear(),this.L4&&(this.L4.Va(),this.L4=null),this.C4=null},b(n,[{key:"XZ",get:function(){return this.L4&&this.L4.PQ?this.L4.PQ.uri:this.C4},set:function(t){this.Fa(),this.C4=t}}]),n}(lN),$O=function(t){function n(){var n;return(n=t.call(this)||this).G4=NaN,n}ut(n,t);var i=n.prototype;return i.z4=function(t,n){for(var i=t.length?_.min.apply(_,t):0,r=0;r<t.length;r++)t[r]-=i;for(var e=0;e<n.length;e++){n[e].rs=Yc.yl(t[e]||0)}var u=t.length?_.max.apply(_,t):0;this.G4=u,this.dispatchEvent({type:"j4",Y4:u})},i.Q4=function(t,n){var i=[];if(n.length<2)return this.z4(i,n),!0;for(var r=n[0],e=0;e<n.length;e++){var u=n[e];if(!u.Z4(t))return!1;i[e]=u.rs.Df(u.J4(r,t)).nl()}return this.z4(i,n),!0},i.K4=function(t,n){return this.Q4(t.xz,n)},i.t5=function(t,n){if(n.length<2)return this.z4([],n),!0;var i=n[0].n5(t);if(y(i))return!1;for(var r=0;r<n.length;r++){if(n[r].n5(t)!==i)return!1}return this.Q4(i,n)},i.Fa=function(){this.G4=NaN},i.Va=function(){this.Du()},b(n,[{key:"Y4",get:function(){return this.G4}}]),n}(lN),tP=.001;function nP(t){return t.metadata.pY.ic+"i5"+t.metadata.dz+"r5"+t.metadata.Jh+"e5"+t.metadata.e_}var iP=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.vz=function(t,i){return new n(t,i)},i.bK=function(t,n){return!1},n}(nC);function rP(t,n){var i=new iP([n]);return t.Hf(i).Cf(i)}function eP(t,n){var i=function(t,n){var i=t.FV,r=t.NK;if(!y(r)&&r===i)return!0;return!t.O$&&!!n&&n.np.pY===t.pY&&i>=n.$h&&i<=n.$h+tP}(t,n);return i||!y(t.NK)?{Jh:i?t.FV:t.NK,$h:t.m2,np:t}:null}var uP=function(t){function n(n,i){var r;return(r=t.call(this)||this).u5=null,r.s5=function(){return r.o5()},r.a5=[],r.xT=[],r.c5=new iP([]),r.h5=null,r.f5=n,r.Dk=i,r}ut(n,t);var i=n.prototype;return i.v5=function(t){var n=t.metadata,i=n&&n.Pz;if(!i||!i.length)return Tt.resolve();for(var r=[],e=n.Jh,u=0;u<i.length;u++){var s=i[u],o=e+s.duration;r.push({Jh:e,e_:s.duration,$h:o,dz:s.dz,us:s}),e=o}var a={ic:nP(t),Jh:t.metadata.Jh,U2:n.U2,FV:n.FV,d5:i[0].S$.DY?new Date(i[0].S$.DY.getTime()):null,e_:t.metadata.e_,$h:t.metadata.Jh+t.metadata.e_,P2:n.P2,m2:n.m2,V0:n.V0,NK:n.NK,Pz:r,pY:t.metadata.pY,M2:t.metadata.C$,O$:n.O$};return this.a5.push(a),this.l5(this.f5.v5(t),a)},i.l5=function(t,n){var i=this;return t.then(function(){if(An(i.a5,n)){i.xT.push(n);var t=i.h5,r=eP(n,t);r&&(i.c5=rP(i.c5,r)),i.h5=r}i.o5(),i._5(n)}).catch(function(){An(i.a5,n)})},i._5=function(t){var n=t.Pz[0],i=t.Pz[t.Pz.length-1],r=t.pY,e=r.Lz(n.dz-1),u=IN.Tj(r.BY);if(!e||u){var s=r.Lz(n.dz),o=this.Dk.TK(s).nl();o<n.Jh&&this.f5.hV(o,n.Jh)}for(var a=0,c=this.xT;a<c.length;a++){var h=c[a];if(h.pY===t.pY){var f=h.Pz[0],v=h.Pz[h.Pz.length-1];v.dz+1===n.dz&&v.$h!==n.Jh?this.f5.hV(v.$h,n.Jh):f.dz-1===i.dz&&i.$h!==f.Jh&&this.f5.hV(i.$h,f.Jh)}}},i.Zu=function(){this.a5.length=0,this.xT.length=0,this.c5=new iP([]),this.h5=null},i.o5=function(){if(this.g5&&!this.g5.Wx){var t=this.g5.xT||UD;t=function(t,n){for(var i=GD(t),r=0;r<i.length;r++){var e=i[r],u=n.yK(e.$h,tP);if(u>=0){var s=n.Pz(u),o=s[s.length-1],a=o.np.P2,c=o.np.m2;a-tP<e.$h&&e.$h<c&&(e.$h=c)}}return new MD(i)}(t,this.c5),this.xT=this.xT.filter(function(n){return function(t,n,i,r){n-=r=+r||0,i+=r;for(var e=0;e<t.length;e+=1)if(t.start(e)<i&&n<t.end(e))return e;return-1}(t,n.Jh,n.$h)>=0}),this.c5=this.c5.Tf(t)}},i.Va=function(){this.Du(),this.Zu(),this.g5=null},i.w5=function(t){var n=this.y5(t);if(n)for(var i=0,r=n.Pz;i<r.length;i++){var e=r[i];if(e.Jh<=t&&e.$h>t)return e}return null},i.y5=function(t){for(var n=0,i=this.xT;n<i.length;n++){var r=i[n];if(r.Jh<=t&&r.$h>t)return r}return null},i.m5=function(t){for(var n=0,i=this.xT;n<i.length;n++){var r=i[n];if(r.pY.ic===t.pY.ic)for(var e=0,u=r.Pz;e<u.length;e++){if(u[e].dz===t.dz)return!0}}return!1},i.p5=function(){return this.k5()[0]},i.k5=function(){for(var t=this.c5,n=this.h5,i=0,r=this.a5;i<r.length;i++){var e=eP(r[i],n);e&&(t=rP(t,e)),n=e}return[t,n]},b(n,[{key:"qa",get:function(){return this.a5.length+this.xT.length}},{key:"g5",get:function(){return this.u5},set:function(t){this.u5&&this.u5.removeEventListener("updateend",this.s5),this.u5=t,this.u5&&(this.u5.addEventListener("updateend",this.s5),this.o5())}}]),n}(lN);function sP(t,n,i){!function(t,n,i){for(var r=i.LK,e=[],u=0;u<r.length;u++)for(var s=r[u],o=n.IK(t,s.Zk.QW).nl(),a=0,c=s.eF;a<c.length;a++){var h=c[a];e.push(new fy(o,h))}i._c=e}(t,n,i)}function oP(t,n){return t&&n?_.abs(t.dz-n.dz)<=1?Yc.xd:Yc.Gd(n.Fm-t.Fm,1e3):Yc.xd}var aP=function(){function t(t,n,i,r,e){this.rs=Yc.xd,this.A5=!1,this.b5=null,this.Mz=t,this.R2=t.pY.Pz.gz(n.dz),this.o_=this.R2,this.T5=i,this.E5=r,this.ru=e||null}var n=t.prototype;return n.S5=function(){if(this.b5)return this.b5;var t=this.R5();return(t.I5||t.Vu)&&(this.b5=t),t},n.N5=function(){return{I5:!1,Vu:!1,A5:this.A5,u_:Yc.ml}},n.I5=function(t){return t.Vd()?{I5:!1,Vu:!0,A5:this.A5,u_:Yc.ml}:{I5:!0,Vu:!1,A5:this.A5,u_:t}},t}();function cP(t,n){switch(n){case"Bj":return rd(t.C0)?t.C0:t.sj;case"Lj":return rd(t.P0)?t.P0:t.sj;default:return t.sj}}var hP=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.R5=function(){var t=this.Mz,n=t.pY,i=n.Pz,r=i.wz(this.o_);if(t.lb(r)){if(this.E5&&t.D5&&ON(r)){var e=cP(r,this.ru),u=t.C5(e,r.O5);return this.I5(u.Hf(this.rs))}if(this.T5&&r===t.P5){var s=t.Ck.Hf(PN(r));return this.I5(s.Hf(this.rs))}this.o_+=1;var o=oP(r,i.wz(this.o_));return this.A5=this.A5||o.Id(Yc.xd),this.rs=this.rs.Df(o).Df(PN(r)),this.N5()}return this.I5(Yc.ml)},n}(aP),fP=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.R5=function(){var t=this.Mz,n=t.pY,i=n.Pz,r=i.wz(this.o_);if(t.lb(r)){if(this.E5&&t.D5&&ON(r)){var e=cP(r,this.ru),u=t.C5(e,r.O5);return this.I5(u.Df(this.rs))}if(this.T5&&r===t.x5){var s=t.u_;return this.I5(s.Df(this.rs))}this.o_-=1;var o=i.wz(this.o_),a=oP(o,r);return this.A5=this.A5||a.Id(Yc.xd),this.rs=this.rs.Df(a).Df(PN(o)),this.N5()}return this.I5(Yc.ml)},n}(aP);var vP=function(){function t(t,n){this.u_=Yc.xd,this.Ck=Yc.xd,this.x5=null,this.P5=null,this.B5=!1,this.L5=Yc.ml,this.M5=Yc.ml,this.U5=!1,this.dz=t,this.pY=n}var n=t.prototype;return n.lb=function(t){return t&&t.xz===this.dz},n.C5=function(t,n){var i=t.Hf(this.L5).Df(this.M5);if(void 0!==n){var r=i.Hf(n);if(r.Md().Id(id)){var e=_.round(r.nl()/nd.nl());i=i.Hf(nd.vl(e))}}return i},n.F5=function(t,n){return this.V5(t),this.H5(n),this.q5()||t===this.P5&&this.W5()},n.V5=function(t){if(this.D5&&Qc(t.B0,this.L5)>=0)return!1;var n;if(n=this.D5?this.X5(t,!0,!1):this.G5(t,!0,!1),this.L5.Vd())this.L5=t.B0;else{var i=od(t.B0,this.L5);this.L5=this.L5.Df(i)}return this.M5=n,!0},n.H5=function(t){if(!t)return!1;if(!this.z5())return!1;var n=this.pY.Pz,i=this.x5,r=n.yz(i.dz-1);if(ON(i)&&ON(r)){var e=function(t,n,i){var r=t.IK(n,n.N$);if(!rd(i.x0)||!rd(i.P0))return r;var e,u=rd(i.C0),s=ud(i.P0,i.x0);if(u){var o=ed(ud(i.P0,i.C0),Yc.xd);e=ed(ud(s,o),Yc.xd)}else e=s;return ud(r,e)}(t,r,i);return this.U5=!0,this.j5(e)}return!1},n.j5=function(t){if(t.if(this.u_))return!1;var n=t.Hf(this.u_);return this.u_=t,this.Ck=this.Ck.Df(n),this.M5=this.M5.Df(n),!0},n.q5=function(){var t=this.P5;if(!t)return!1;var n,i=new fP(this,t,!1,!0);do{n=i.S5()}while(!n.I5&&!n.Vu&&!n.A5);if(n.I5&&!n.A5){var r=n.u_.Df(PN(t));if(!r.if(this.Ck))return this.Ck=r,!0}return!1},n.Y5=function(t){var n=!1;return n=this.H5(t)||n,n=this.Q5(t)||n},n.Q5=function(t){if(!t)return!1;if(this.U5)return!1;var n=t.Ck.Df(oP(t.P5,this.x5));return this.j5(n)},n.Z5=function(t){var n=!1;return(!this.x5||this.x5.dz>t.dz)&&(this.u_=this.u_.Hf(oP(t,this.x5)),this.x5=t,n=!0),(!this.P5||this.P5.dz<t.dz)&&(this.Ck=this.Ck.Df(oP(this.P5,t)).Df(PN(t)),this.P5=t,n=!0),n},n.J5=function(t){if(!this.D5||!t.D5)return Yc.ml;if(this.L5.af(t.L5)){var n=this.C5(t.L5,t.M5);return t.M5.Hf(n)}return t.C5(this.L5,this.M5).Hf(this.M5)},n.z5=function(){var t=this.x5;return!!t&&function(t,n){return n.xz===t&&n.Mz}(this.dz,t)},n.W5=function(){var t=this.P5;if(!t)return!1;var n=this.pY.Pz.yz(t.dz+1);return function(t,n,i){return n.xz===t&&(!i||i.Mz)}(this.dz,t,n)},n.K5=function(t,n){return this.X5(t,!0,!0,n)},n.G5=function(t,n,i){if(!this.lb(t))return Yc.ml;var r,e=new fP(this,t,n,i);do{r=e.S5()}while(!r.I5&&!r.Vu);if(!r.I5)return Yc.ml;var u=r.u_;return u.sf(this.u_)?this.u_:u},n.X5=function(t,n,i,r){if(!this.lb(t))return Yc.ml;var e,u,s,o,a,c=new hP(this,t,n,i,r),h=new fP(this,t,n,i,r);do{e=c.S5(),u=h.S5()}while(!(e.I5||u.I5||e.Vu&&u.Vu));if(u.I5)s=u,o=e,a=c;else{if(!e.I5)return Yc.ml;s=e,o=u,a=h}if(s.u_.sf(this.u_)){for(;!o.I5&&!o.Vu;)o=a.S5();return o.I5?Yc.hf(this.u_,o.u_):this.u_}if(s.A5){for(;!o.A5&&!o.I5&&!o.Vu;)o=a.S5();if(o.I5&&!o.A5&&this.u_.af(o.u_))return o.u_}return s.u_},n.IK=function(t,n){return this.lb(t)&&this.D5?this.C5(n,t.O5):Yc.ml},n.k5=function(){0},b(t,[{key:"D5",get:function(){return!this.L5.Vd()}}]),t}();function dP(t,n){return n.sf(t.u_)?1:n.Sd(t.Ck)?-1:0}var lP=function(){function t(){this.t6=new wN}var n=t.prototype;return n.yz=function(t){return this.t6.yz(t)},n.wz=function(t){return this.t6.wz(t)},n.n6=function(t){var n=this.t6.gz(t);return n<0?null:this.t6.wz(n-1)},n.S5=function(t){var n=this.t6.gz(t);return n<0?null:this.t6.wz(n+1)},n.i6=function(){return this.t6.wz(0)},n.r6=function(){var t=this.t6.qa;return 0===t?null:this.t6.wz(t-1)},n.e6=function(t){var n=this.t6,i=this.r6();if(i&&function(t,n){return t.u_.af(n)&&n.sf(t.Ck)}(i,t))return i;var r=ul(this.t6.kz(),t,z,dP);return n.wz(r)},n.Df=function(t){var n=this.t6.Df(t);if(n&&!this.S5(t.dz)){t.B5=!0;var i=this.n6(t.dz);i&&(i.B5=!1)}return n},n.Hs=function(t){var n=this.t6.Hs(t);if(n&&t.B5){t.B5=!1;var i=this.n6(t.dz);i&&(i.B5=!0)}return n},n.Tz=function(t){this.t6.Tz(t)},n.k5=function(){},b(t,[{key:"qa",get:function(){return this.t6.qa}}]),t}();var _P=Yc.yl(10),gP=function(){function t(t,n){this.u6=!1,this.s6=!1,this.o6=new lP,this.a6=Yc.xd,this.c6=void 0,this.h6=null,this.f6=null,this.pY=t,this.c6=n.liveOffset}var n=t.prototype;return n.v6=function(t){var n=this.pY,i=t?t.fragments:null,r=n.Pz;if(!t||!i||!i.length)return!1;this.u6=!0;var e,u=!1;if(!this.o6.qa){var s=r.yz(i[0].dz).xz,o=new vP(s,n);o.j5(this.rs),this.o6.Df(o),u=!0}if(this.f6){var a=r.gz(this.f6.dz);e=a<0?0:a+1}else e=0;for(var c=e,h=r.wz(c),f=null,v=!1;h;){var d=h.xz;if(f&&f.dz===d||(f&&v&&this.d6(f),f=this.o6.yz(d),u=u||v,v=!1),!f){f=new vP(d,n),this.o6.Df(f);var l=this.o6.n6(d);f.Y5(l||void 0)}v=f.Z5(h)||v,h=r.wz(++c)}return f&&v&&this.d6(f),(u=u||v)&&this.l6(),this.o6.r6()&&this.XY(n.Pz),this.h6=r.yz(i[0].dz),this.f6=r.yz(i[i.length-1].dz),u},n.F5=function(t){var n=this.o6.yz(t.xz);if(!n)return!1;this.s6=!0;var i=this.o6.n6(n.dz),r=n.F5(t,i);return r&&this.d6(n),r},n.d6=function(t){for(var n=t,i=this.o6.S5(t.dz),r=!0;r&&i;)r=i.Y5(n),n=i,i=this.o6.S5(i.dz)},n.l6=function(){for(var t=!1,n=this.o6.i6(),i=n&&this.o6.S5(n.dz);n&&i;)n.Ck.Id(i.u_)&&(i.j5(n.Ck),t=!0),n=i,i=this.o6.S5(n.dz);return t},n._6=function(t){var n=this.o6.r6();if(n&&this.g6(t,n.dz))return!0;var i=t.o6.r6();return!(!i||!this.g6(t,i.dz))||(this.w6?!(!n||!this.y6(t,n.dz))||(!(!i||!this.y6(t,i.dz))||(!(!n||!this.m6(t,n.dz))||(!(!i||!this.m6(t,i.dz))||this.p6(t)))):this.k6(t))},n.k6=function(t){var n=this.o6.i6(),i=t.o6.i6();return!(!n||!i)&&(this.$u(i.u_.Hf(n.u_)),!0)},n.g6=function(t,n){var i=this.o6.yz(n);if(!i||!i.D5)return!1;var r=t.o6.yz(n);return!(!r||!r.D5)&&(this.$u(i.J5(r)),!0)},n.y6=function(t,n){var i=this.o6.yz(n);if(!i||!i.z5())return!1;var r=t.o6.yz(n);return!(!r||!r.z5())&&(this.$u(r.u_.Hf(i.u_)),!0)},n.m6=function(t,n){var i=this.o6.yz(n);if(!i)return!1;var r=this.A6(i.P5.dz);if(!r)return!1;var e=t.o6.yz(n);if(!e)return!1;var u=t.A6(e.P5.dz);if(!u)return!1;var s=i.K5(i.P5),o=e.K5(e.P5),a=Yc.bl(r).Hf(Yc.bl(u)),c=s.Hf(o);return this.$u(a.Hf(c)),!0},n.p6=function(t){if(!this.s6&&!t.s6)return!1;var n=this.o6.r6(),i=t.o6.r6();if(n&&n.P5&&i&&i.P5){var r=Yc.Gd(n.P5.Fm-i.P5.Fm,1e3),e=n.Ck.Hf(i.Ck);return this.$u(r.Hf(e)),!0}return!1},n.XY=function(t){var n=this.o6.r6();if(n)for(var i=n.Ck,r=t.qa-1;r>=0;r--){var e=t.wz(r);if(i=i.Hf(Yc.yl(e.duration)),void 0!==e.O5){0;break}e.O5=i}},n.n5=function(t){var n=this.o6.e6(t);return n?n.dz:NaN},n.TK=function(t,n){var i=this.o6.yz(t.xz);return i?i.K5(t,n):Yc.ml},n.EK=function(t,n){var i=this.pY.Pz.yz(t.dz+1);if(i){var r=this.TK(i);return r}return n.Df(function(t){if(!t)return Yc.xd;if(!ON(t))return Yc.yl(t.duration);var n=t.oj||Yc.xd,i=t.aj||Yc.xd,r=Yc.yl(t.duration);return n.Jd()||i.Jd()?n.Jd()?i.Jd()?r.Jd()?r:Yc.xd:i:n:Yc.hf(n,i)}(t))},n.IK=function(t,n){var i=this.o6.yz(t.xz);return i&&i.D5?i.IK(t,n):Yc.ml},n.D2=function(t,n){var i=this.pY.Pz;return i.qa?function(t,n,i,r,e){var u,s,o=t.pY.Pz,a={},c=function(n){var i=a[n];return void 0!==i?i:a[n]=t.TK(o.wz(n),e)},h=i,f=c(h),v=r,d=c(v);if(n.sf(f))return{np:u=o.wz(h),b6:f};if(n.Sd(d)&&(u=o.wz(v)).C$)return{np:u,b6:d};for(;f.af(n)&&n.af(d);){var l=void 0,g=void 0,w=void 0;if(h===v?(l=h,g=f):(l=h+_.round(n.Hf(f).nl()*(v-h)/d.Hf(f).nl())||0,g=c(l)),g.Id(n))d=c(v=l-1);else{if(u=o.wz(l),!(w=(s=l)===r?c(s).Df(PN(o.wz(s))):c(s+1)).af(n))return u&&n.af(g.Df(PN(u)))?{np:u,b6:g}:(u=o.wz(l+1))&&{np:u,b6:w};h=l+1,f=w}}if(d.af(n)){if((u=o.wz(v))&&n.af(d.Df(PN(u))))return{np:u,b6:d};if(v<r&&(u=o.wz(v+1),d=c(v+1),u&&n.sf(d)))return{np:u,b6:d}}return null}(this,t,0,i.qa-1,n):null},n.A6=function(t){var n=this.pY.Pz,i=n.gz(t),r=n.wz(i),e=r,u=Yc.xd;if(r.DY)return r.DY;for(var s=i-1;s>=0;s--){var o=n.wz(s);if(u=u.Df(PN(o)).Df(oP(o,e)),o.DY)return new Date(o.DY.getTime()+1e3*u.nl());e=o}return null},n.T6=function(t){for(var n=this.pY.Pz,i=void 0,r=0;r<n.qa;r++){var e=n.wz(r);if(e.DY){if(!(e.DY.getTime()<=t.getTime())){i=i||e;break}i=e}}if(!i)return Yc.ml;var u=Yc.bl(t).Hf(Yc.bl(i.DY));return this.TK(i).Df(u)},n.$u=function(t){if(!t.if(Yc.xd))for(var n=this.o6.qa,i=0;i<n;i++){var r=this.o6.wz(i);r.j5(r.u_.Df(t))}},n.Z4=function(t){var n=this.o6.yz(t);return n&&n.D5},n.J4=function(t,n){if(this===t)return Yc.xd;var i=this.o6.yz(n),r=t.o6.yz(n);return i&&r?i.J5(r):Yc.ml},n.k5=function(){0},b(t,[{key:"w6",get:function(){var t=this.pY.Bz;return!!t&&t.live}},{key:"E6",get:function(){var t=this.pY.Bz;return!!t&&t.isEvent}},{key:"S6",get:function(){var t=this.h6;return t?this.TK(t):Yc.xd}},{key:"R6",get:function(){var t=this.o6.r6();return t?t.Ck:Yc.xd}},{key:"I6",get:function(){if(!this.w6)return Yc.xd;var t=this.R6.Hf(this.N6);return Yc.hf(this.S6,t)}},{key:"N6",get:function(){return this.c6&&Yc.yl(this.c6)||this.D6.vl(3)}},{key:"C6",get:function(){return this.w6&&this.f6?Yc.Gd(ml()-this.f6.Fm,1e3):Yc.xd}},{key:"D6",get:function(){var t=this.pY.Bz;return t&&t.targetDuration?Yc.yl(t.targetDuration):_P}},{key:"rs",get:function(){return this.a6},set:function(t){var n=t.Hf(this.a6);this.a6=t,this.$u(n)}}]),t}(),wP=function(t){function n(n){var i;return(i=t.call(this)||this).O6=[],i.P6={},i.x6=null,i.B6=null,i.a6=Yc.xd,i.L6=n,i}ut(n,t);var i=n.prototype;return i.M6=function(t){return t&&this.P6[t.ic]||null},i.U6=function(t){var n=this.M6(t);return n||((n=new gP(t,this.L6)).rs=this.a6,this.O6.push(n),this.P6[t.ic]=n),n},i.v6=function(t,n){var i=this.M6(this.x6),r=i?i.S6:Yc.xd,e=i?i.R6:Yc.xd,u=this.U6(t),s=u.u6,o=u.v6(n);if(!s&&u.u6&&(u.$u(this.F6(t)),o=!0),o=this.V6(u)||o,this.H6(u,r,e)){var a=new BI("MANIFEST_SEQUENCE_RESET_ERROR",{code:"MFU0166"});this.dispatchEvent({type:"Vu",Vu:a})}else this.x6=t,o&&this.dispatchEvent("zY")},i.F5=function(t,n){if(ON(n)){0;var i=this.U6(t),r=i.F5(n);r=this.V6(i)||r,this.B6=t,r&&this.dispatchEvent("zY")}},i.V6=function(t){var n=!1,i=!1,r=this.M6(this.B6);r&&(r===t?n=!0:i=(n=t._6(r))||i);var e=this.M6(this.x6);return e&&e!==t&&(i=n?e._6(t)||i:t._6(e)||i),i},i.F6=function(t){var n=this.M6(t),i=!n.w6,r=t.Bz&&t.Bz.isEvent;return i||r?Yc.xd:n.D6.vl(3)},i.H6=function(t,n,i){if(!t.w6)return!1;var r=t.S6,e=t.R6,u=Yc.cf(e,i).Hf(Yc.hf(r,n)),s=Yc.hf(t.D6.vl(3),u.gl(2));return r.Df(s).sf(n)},i.XY=function(t,n){var i=this.M6(t)||this.M6(this.x6);return i&&i.XY(n)},i.n5=function(t){var n=this.x6&&this.M6(this.x6);return n?n.n5(t):NaN},i.q6=function(t,n){var i=t.Lz(n);return this.TK(i)},i.TK=function(t){if(!t)return Yc.ml;var n=this.M6(t.pY)||this.M6(this.x6);return n?n.TK(t):Yc.ml},i.EK=function(t,n){if(!t)return Yc.ml;var i=this.M6(t.pY)||this.M6(this.x6);return i?i.EK(t,n):Yc.ml},i.IK=function(t,n){if(!t||!n)return Yc.ml;var i=this.M6(t.pY)||this.M6(this.x6);return i?i.IK(t,n):Yc.ml},i.D2=function(t,n,i){var r=this.M6(t);if(!r)return null;var e=r.D2(n,i);return e?{np:e.np,b6:e.b6}:null},i.A6=function(t,n){var i=this.M6(t)||this.M6(this.x6);return i?i.A6(n):null},i.T6=function(t,n){var i=this.M6(t)||this.M6(this.x6);return i?i.T6(n):Yc.ml},i.Z4=function(t){return void 0!==this.W6(t)},i.J4=function(t,n){if(this===t)return Yc.xd;var i=this.W6(n),r=t.W6(n);return i&&r?i.J4(r,n):Yc.ml},i.W6=function(t){return pn(this.O6,function(n){return n.Z4(t)})},i.Va=function(){this.Du(),this.O6.length=0,this.P6={},this.x6=null,this.B6=null,this.a6=Yc.xd},i.k5=function(){0},b(n,[{key:"X6",get:function(){return this.S6.Hf(this.D6.vl(3))}},{key:"N6",get:function(){var t=this.L6.liveOffset;return Yc.yl(t||3*this.D6.nl())}},{key:"w6",get:function(){var t=this.M6(this.x6);return!!t&&t.w6}},{key:"HT",get:function(){return this.x6?new MD([{Jh:this.S6.nl(),$h:this.R6.nl()}]):UD}},{key:"S6",get:function(){if(!this.x6)return Yc.xd;var t=this.M6(this.x6);return t.E6?t.S6:t.S6.Df(t.C6)}},{key:"R6",get:function(){if(!this.x6)return Yc.xd;var t=this.M6(this.x6);return t.R6.Df(t.C6)}},{key:"I6",get:function(){if(!this.x6)return Yc.xd;var t=this.M6(this.x6);return t.I6.Df(t.C6)}},{key:"D6",get:function(){return this.x6?this.M6(this.x6).D6:_P}},{key:"rs",get:function(){return this.a6},set:function(t){if(!this.a6.if(t)){this.a6=t;for(var n=0,i=this.O6;n<i.length;n++){i[n].rs=t}this.dispatchEvent("zY")}}}]),n}(lN),yP=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.F6=function(t){return Yc.xd},n}(wP),mP=.25,pP=1/60;function kP(t,n){return Bc(t,n,pP)}var AP,bP=function(t,n,i){this.G6=NaN,this.z6=NaN,this.j6=0,this.pY=t.pY,this.u_=n,this.Ck=i,this.e_=i-n,this.np=t},TP=function(t,n,i){this.G6=NaN,this.z6=NaN,this.j6=0,this.pY=t,this.u_=n,this.Ck=i,this.e_=i-n};function EP(t){return!(!t||!t.np)}function SP(t,n,i){return r=n,e=i,u=t.u_,s=t.Ck,kP(r,s)<=0&&kP(u,e)<=0;var r,e,u,s}function RP(t,n){return kP(t.u_,n)<=0?t.Ck:t.u_}function IP(t,n,i){return(t-n)/i-mP}function NP(t,n){return n.Hf(t).Cf(t)}function DP(t,n){var i=_.min(pP,t.e_/2);return n.Bf(t.u_,t.Ck,i)}function CP(t,n){var i=n._K(t);return-1===i?t:n.end(i)}function OP(t){return t.z6<=t.G6}function PP(t,n){if(!OP(n))return!1;for(var i=0;i<t.length;i++){var r=t[i];if(r.j6+n.z6>r.G6)return!1}return!0}function xP(t,n){for(var i=0;i<t.length;i++){t[i].j6+=n.z6}n.j6=n.z6,t.push(n)}!function(t){t[t.Y6=0]="Y6",t[t.Q6=1]="Q6",t[t.Z6=2]="Z6",t[t.nd=3]="nd"}(AP||(AP={}));var BP=function(){function t(t,n,i,r){this.Qm=t,this.Dk=n,this.J6=i,this.K6=r,this.t9=dD.$t.cJ,this.RJ=dD.$t.aJ}var n=t.prototype;return n.n9=function(){return this.J6.Pj.reduce(function(t,n){return _.max(t,n.Bz&&n.Bz.targetDuration||0)},0)},n.i9=function(t,n){void 0===n&&(n=this.Dk.TK(t).nl());var i=this.Dk.EK(t,Yc.yl(n));return new bP(t,n,i.nl())},n.r9=function(t,n){var i=t.Pz.wz(n);return i&&this.i9(i)||null},n.e9=function(t){var n=t.pY,i=n.Pz.gz(t.dz);return i>=0&&this.r9(n,i-1)||null},n.u9=function(t){var n=t.pY,i=n.Pz.gz(t.dz);return i>=0&&this.r9(n,i+1)||null},n.s9=function(t,n){var i=this.Dk.D2(t,Yc.yl(n));return i&&this.i9(i.np,i.b6.nl())||null},n.o9=function(t){var n=t.Pz.qa-1;return n>=0&&this.r9(t,n)||null},n.a9=function(t,n,i){var r=t.Bz&&t.Bz.targetDuration||this.n9()||10,e=_.max(0,n-r),u=e+r;return i&&SP(i,e,u)&&(u=(e=i.Ck)+r),new TP(t,e,u)},n.c9=function(t,n,i){var r=this.K6.V1,e=.8*this.K6.H1,u=(n.bandwidth||0)*t.e_;return i&&i.qZ?((u=8*i.GJ||u)-8*i.XJ)/e:r+u/e},n.h9=function(){for(var t=this.K6.l1(this.Qm),n=this.K6.G0(this.Qm),i=0;i<n.length;i++){var r=n[i];-1===t.indexOf(r)&&t.push(r)}return t},n.f9=function(t,n){var i=n.filter(function(n){return n.pY===t});return rC(this.Dk,i).kK()},n.v9=function(t){return"audio"===this.Qm&&t?[t]:this.J6.Pj},n.d9=function(t){for(var n=new iC([]),i=new iC([]),r=this.h9(),e={l9:{},_9:{},g9:{},w9:{}},u=t.length-1;u>=0;u-=1){var s=t[u],o=this.f9(s,r),a=oC(this.Dk,o);e.l9[s.ic]=o,e._9[s.ic]=a,e.g9[s.ic]=n=NP(n,o),e.w9[s.ic]=i=NP(i,a)}return e},n.y9=function(t,n,i,r,e){for(var u,s,o,a,c=[],h=0;h<r.length;h++)for(var f=e[r[h].ic],v=0;v<f.length;v+=1){var d=f.start(v),l=f.end(v)-i;d<l&&c.push({Jh:d,$h:l})}return 0===(u=HD(u=VD(new MD(c)),new MD([{Jh:t,$h:n}]))).length||kP(u.start(0),t)>0?t:1===u.length&&(s=u.start(0),o=u.end(0),a=n,kP(s,t)<=0&&kP(a,o)<=0)?NaN:u.end(0)},n.m9=function(t,n,i){var r=null,e=i.l9[t.ic],u=i.g9[t.ic],s=i.w9[t.ic],o=u._K(n);if(-1!==o){for(var a=_.max(n,u.start(o)),c=u.end(o),h=new MD([{Jh:a,$h:c}]),f=u.Tf(h).Hf(s),v=0;v<f.length;v++){var d=f.start(v),l=f.Pz(v)[0];if(l.np.pY===t){if(r=this.e9(l.np))return r}else{for(r=this.s9(t,d);r&&DP(r,e);)r=this.e9(r.np);if(r)return r}}var g=u.Pz(o),w=g[g.length-1];if(w.np.pY===t&&(r=this.u9(w.np)))return r}var y=this.o9(t);if(!y||kP(y.Ck,n)<=0){if(!y||!y.np.C$)return r=this.a9(t,n,y);r=y}for(r||(r=this.s9(t,n));r&&DP(r,u);)r=this.u9(r.np);return r},n.p9=function(t,n){var i=this.o9(t);return i&&i.np.C$&&kP(i.Ck,n)<=0?i:this.s9(t,n)},n.k9=function(t,n,i,r,e,u,s,o){var a=t.pY,c=s.g9[a.ic],h=!DP(t,c),f=h?n:RP(t,r);t.G6=IP(f,r,u),t.z6=this.c9(t,a);var v=o&&this.i9(o);if(v&&!DP(v,c)){var d=RP(v,r);if(v.G6=IP(d,r,u),v.z6=this.c9(v,a,i&&i.EJ),OP(v)&&(!h||function(t,n){var i=[];return!!PP(i,n)&&(xP(i,n),!(!EP(t)||!EP(n)||t.np!==n.np)||!!PP(i,t))}(t,v)))return v}if(h&&!OP(t))return null;var l=this.A9(t,r,e,u,c);return l.length&&l[l.length-1]||null},n.A9=function(t,n,i,r,e){for(var u=[],s=t.pY,o=t;o&&n<o.Ck&&i<=o.u_;){if(!DP(o,e)){if(y(o.G6)){var a=RP(o,n);o.G6=IP(a,n,r),o.z6=this.c9(o,s)}PP(u,o)&&xP(u,o)}o=EP(o)&&this.e9(o.np)}return u},n.b9=function(t,n){return t.u_<n?{ec:AP.Z6}:EP(t)?{ec:AP.Y6,np:t.np,u_:t.u_}:{ec:AP.Q6,pY:t.pY}},n.f1=function(t){if(CN(t.uri)){var n=t.uri,i=_D(n.uj,[n.r_.Jh,n.r_.$h]);return this.RJ.zu(i)}var r=_D(t.uri);return this.RJ.zu(r)},n.T9=function(t){return this.t9.zu(t.uri)},n.E9=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u,s,o,a,c){var h,f,v,d,l,_,g,w,m,p,k,A,b;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(h=this.v9(e),f=this.d9(h),v=this.Dk.X6.nl(),d=this.y9(n,i,u,h,f._9),g=null,m=!1,!y(d)){t.next=3;break}return t.abrupt("return",{ec:AP.nd});case 3:if(!(d<v)){t.next=5;break}return t.abrupt("return",{ec:AP.Z6});case 5:p=a.length-1;case 6:if(!(p>=0)){t.next=27;break}if(l=a[p],_=CP(d,f._9[l.ic]),!(g=this.m9(l,_,f))){t.next=24;break}if(k=!1,!EP(g)){t.next=18;break}return t.next=15,this.f1(g.np);case 15:k=t.sent,t.next=22;break;case 18:if(l.MY){t.next=22;break}return t.next=21,this.T9(l);case 21:k=t.sent;case 22:if(!k){t.next=24;break}return t.abrupt("return",this.b9(g,v));case 24:p-=1,t.next=6;break;case 27:if(!(d<=n+mP&&c.length)){t.next=33;break}if(l=c[0],_=CP(d,f._9[l.ic]),!(g=this.m9(l,_,f))){t.next=33;break}return t.abrupt("return",this.b9(g,v));case 33:A=c.length-1;case 34:if(!(A>=0)){t.next=48;break}if(l=c[A],_=CP(d,f._9[l.ic]),(g=this.m9(l,_,f))?w=g:(m=!0,w=this.p9(l,_)),!w){t.next=45;break}if(!(b=this.k9(w,_,s,n,v,r,f,o))){t.next=45;break}return t.abrupt("return",this.b9(b,v));case 45:A-=1,t.next=34;break;case 48:if(!m){t.next=50;break}return t.abrupt("return",{ec:AP.nd});case 50:if(!g){t.next=52;break}return t.abrupt("return",this.b9(g,v));case 52:if(a.length){t.next=54;break}return t.abrupt("return",{ec:AP.nd});case 54:if(l=a[0],_=CP(d,f._9[l.ic]),!(g=this.m9(l,_,f))){t.next=61;break}return t.abrupt("return",this.b9(g,v));case 61:return t.abrupt("return",{ec:AP.nd});case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u,s,o,a,c){return t.apply(this,arguments)}}(),t}(),LP=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n)||this).S9=i,o.R9=r,o.Qp=e,o.Qm=u,o.$g=s,o}return ut(n,t),n}(Un),MP=function(t){function n(n,i,r,e,u){return t.call(this,"I9",n,i,r,e,u)||this}return ut(n,t),n}(LP),UP=function(t){function n(n,i,r,e,u,s,o){var a;return(a=t.call(this,"D9",n,i,r,e,u)||this).N9=s,a.Nv=o,a}return ut(n,t),n}(LP),FP=Yc.yl(.1),VP=function(t){function n(n){var i;return(i=t.call(this)||this).C9=[],i.FY=n,i}ut(n,t);var i=n.prototype;return i.O9=function(t,n,i){var r=this.P9(t),e=this.x9(r);this.B9(e,n,i)},i.P9=function(t){if(0===t.length)return[];for(var n=t[0].YW,i=this.L9(t[0]),r=[],e=0;e<t.length;e++){var u=t[e];n!==u.YW&&(n=u.YW,i=this.L9(u)),r.push(Et(Et({},u),{ZW:u.QW.Df(i)}))}return r},i.L9=function(t){var n=this.FY.IK(t.YW,t.QW),i=n.Hf(t.QW);return od(n,t.QW).Hf(i)},i.x9=function(t){var n,i,r,e,u,s=t.slice().sort(OI),o=this.C9;if(o.length)if(s.length){var a=1/s[0].YW.rY,c=s[0].ZW,h=o[0].ZW,f=o[o.length-1].ZW,v=(e=o[0].YW,u=s[0].YW,e.pY===u.pY);if(f.Hf(c).sf(Yc.yl(2.5*a))&&v)n=o.concat(s).sort(OI);else if(c.Sd(h)){for(var d=0;d<o.length&&o[d].ZW.sf(c);)d++;for(var l=!1,_=!1,g=d,w=0;g<o.length&&w<s.length;g++,w++)i=o[g],r=s[w],i.QW.if(r.QW)&&i.ru===r.ru&&i.HW===r.qW?l=!0:_=!0;var y=l&&!_,m=l&&_;!l&&_?n=o.concat(s).sort(OI):y?n=o.slice(0,d).concat(s):(n=s,m&&this.Fa())}else n=s,this.Fa()}else n=o;else n=s;return n},i.B9=function(t,n,i){if(0!==t.length){for(var r=t[0],e=n.Hf(r.ZW),u=od(n,r.ZW).Hf(e),s=n.Df(u),o=FP.Rd(s.bd),a=0;a<t.length;a+=1){var c=t[a];if(!i&&s.Hf(c.ZW).sf(o))return void(this.C9=t.slice(a));var h=this.FY.IK(c.YW,c.QW);this.UW(h,c)}this.C9=[]}},n}(CI);var HP=function(t){function n(n,i,r,e,u,s,o,a,c,h){var f;return(f=t.call(this)||this).M9=!1,f.U9=!1,f.F9=!1,f.V9=!1,f.H9=!1,f.q9=null,f.ZY=void 0,f.W9=void 0,f.X9=null,f.Ck=-1,f.G9=null,f.z9=!1,f.j9=!1,f.Y9=1/0,f.Q9=void 0,f.Z9=null,f.J9=0,f.Eu=function(t){f.dispatchEvent(t)},f.K9=function(){!f.F9&&!f.V9&&f.t8&&f.M9&&(f.V9=f.n8("Bj",f.i8,function(){f.V9=!1}))},f.r8=function(){!f.F9&&!f.H9&&f.e8&&f.U9&&(f.H9=f.n8("Lj",f.u8,function(){f.H9=!1}))},f.s8=function(t){return f.o8()},f.a8=function(t){if(t.Qm===f.Qm){var n=t.YW,i=n.E$;i.DK&&f.c8(i.DK,n.info),i.MK&&f.h8(i.MK,n.info),f.o8(f.J0.i1,!0)}},f.VQ=function(t){var n=t;f.f8(n.xY,n.pY)},f.v8=function(t){if(f.X9)for(var n=0;n<f.X9.wp;n++){var i="CC"+(n+1);f.yZ._Q(i,t.cue.u_,t.cue.Ck)}f.yZ.dQ(t.cue)},f.vN=c,f.yZ=i,f.d8=r,f.K6=e,f.l8=u,f.f5=s,f.Cp=o,f.J0=h,f.Dk=new wP(o),f._8=f.g8(i),e.La(n,f.Dk,f.f5),f.i8=new uP(s,f.Dk),f.u8=new uP(s,f.Dk),f.X9=f.w8(f.Dk),f.y8=new BP(n,f.Dk,f._8,e),e.addEventListener("a2",f.a8),f.Dk.addEventListener("Vu",f.Eu),i.addEventListener("NQ",f.VQ),f}ut(n,t);var i=n.prototype;return i.n8=function(t,n,i){var r=this,e=this.f5.s1,u=5*this.f5.Zy,s=this.m8(),o="audio"===this.Qm?[this.p8]:this._8.Pj,a=n.k5(),c=a[0],h=a[1],f=this.K6.L2(this.Qm,t,this.Dk,o,c,h||void 0,e,u,s);return f&&!f.length&&f.b2?(this.f5.k8("Bj"===t,"Lj"===t),!1):!(!f||!f.length)&&(this.l8.t3(this.Qm,this.yZ,f,f.T2,f.FV,f.b2,function(t,e){if(i(),t)r.dispatchEvent({type:"Vu",Vu:t});else{var u=e;n.v5(u).then(function(){return r.dispatchEvent("RZ")}).catch(function(t){0})}}),!0)},i.A8=function(){this.l8.fs(this.Qm),this.V9=!1,this.H9=!1},i.b8=function(){var t=this.f5.s1,n=this.i8.w5(t)||this.u8.w5(t);!n||this.q9&&this.q9.dz===n.dz||(this.o8(this.J0.i1),this.q9=n,this.dispatchEvent({type:"T8",Zk:this.q9.us.S$}))},i.E8=function(){this.S8()},i.R8=function(){this.E8()},i.I8=function(){this.o8(this.J0.i1)},i.N8=function(t,n){this.i8.w5(t)||this.u8.w5(t)||(this.q9=null)},i.D8=function(t){var n=!1;this.i8.p5().lb(t)||(this.K9(),n=!0),this.u8.p5().lb(t)||(this.r8(),n=!0),n&&this.o8(this.J0.i1,!0)},i.C8=function(){this.i8.Zu()},i.O8=function(){this.u8.Zu()},i.m8=function(){return 0===this.i8.qa+this.u8.qa?0:"_2"===this.Cp.g2?0:1*this.K6.e1},i.S8=function(){this.K9(),this.r8()},i.dZ=function(t){return-1!==this._8.Pj.indexOf(t)},i.P8=function(t){t&&this.dZ(t)&&(this.HY(t),this.RQ(t))},i.HY=function(t){this.Dk.v6(t,t.Bz)},i.RQ=function(t){var n=this;if(t&&t.Bz&&this.Cp.hlsDateRange){this.yZ.RQ(t.Bz.dateRanges,function(i){return n.Dk.T6(t,i).nl()})}},i.x8=function(t){this.dZ(t.pY)&&this.Dk.F5(t.pY,t)},i.B8=function(t){var n,i,r,e=t,u=this.i8.w5(e)||this.u8.w5(e);if(u)i=u.us.quality,r=u.dz,n=u.Jh;else{var s=this.p8;if(!s)return null;var o=this.Dk.D2(s,Yc.yl(e));if(!o)return null;i=s,r=o.np.dz,n=o.b6.nl()}var a=this.Dk.A6(i,r);if(!a)return null;var c=e-n;return new Date(a.getTime()+1e3*c)},i.T6=function(t){var n=this.p8;return this.Dk.T6(n,t).nl()},i.o8=function(t,n){var i=this,r=this.L8(),e=this.f5.s1;t&&(this.Ck=e+t,n&&(this.Z9=null,this.J9=0)),this.L8()||e>=this.Ck?this.M8(r):this.G9||this.z9||!this.nc||(this.U8(),this.F8(function(t){return i.V8(e,i.f5.Zy,t)}))},i.H8=function(t){t&&this.d8.removeEventListener(t.uri,this.s8)},i.q8=function(t){t&&this.d8.addEventListener(t.uri,this.s8)},i.L8=function(){return-1===this.Ck},n.W8=function(t){return IN.Tj(t.pY.BY)&&ml()-t.Fm>2e3*t.pY.Bz.metadata.Z3},i.F8=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=!1,this.G9=new Rr,r=this.G9,t.prev=3,t.next=6,n(r.bs);case 6:i=t.sent,Dn(r.bs),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),On(t.t0);case 13:return t.prev=13,this.G9===r&&(this.G9=null),t.finish(13);case 16:i&&this.o8();case 17:case"end":return t.stop()}},t,this,[[3,10,13,16]])}));return function(n){return t.apply(this,arguments)}}(),i.U8=function(){this.G9&&(this.G9.fs(),this.G9=null)},i.X8=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}(),i.G8=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!jP.W8(n)){t.next=2;break}return t.abrupt("return",this.dispatchEvent("z8"));case 2:if(i=_.min(16e3,1e3*_.pow(2,this.J9)),this.J9+=1,this.U8(),!(this.J9>2)){t.next=8;break}return n.pY.SY(!1),t.abrupt("return",n.pY.bY());case 8:this.F8(function(t){return Pr(i,t).then(function(){return!0})});case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.c8=function(t,n){var i,r;r=eI((i=t).CK,4),i.vQ="0000.0000.0000."+r,function(t){var n=eI(t.PK,4),i=eI(t.xK,3),r=eI(t.BK,2*t.xK);t.vc=(n+i+r).toUpperCase()}(t),sP(n,this.Dk,t),this.yZ.fQ(t,this.Dk)},i.h8=function(t,n){for(var i=0;i<t.length;i++){t[i].YW=n}this.X9&&this.X9.O9(t,n.U0,n.C$)},i.j8=function(t){this.Q9&&this.Q9.YW===t&&this.o8()},i.Y8=function(t,n){if(n){if(n.aborted)return;if(this.Z9===t)return this.G8(t)}else t.pY.SY(!0);return this.o8()},i.Q8=function(t){var n=MN(t.pY.xY);n&&this.dispatchEvent(new MP(DN(t.uri),t.pY.bandwidth||0,t.dz,t.pY.dz,n))},i.Z8=function(t,n){var i=this.Q9&&this.Q9.SA.UJ||200,r=MN(t.pY.xY);r&&this.dispatchEvent(new UP(DN(t.uri),t.pY.bandwidth||0,t.dz,t.pY.dz,r,i,n&&n.EJ.XJ||0))},i.M8=function(t){this.Ck=-1,t||this.dispatchEvent("J8")},i.K8=function(t){this.j9=!0,this.M8(t),this.dispatchEvent("WZ")},i.V8=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(r),e=this.p8,u=this.L8(),this.H8(e||void 0),!(n>=this.Ck)){t.next=7;break}return this.M8(u),t.abrupt("return",!1);case 7:return t.next=9,this.y8.E9(n,this.Ck,i,e||void 0,this.m8(),this.Q9&&this.Q9.SA,this.Q9&&this.Q9.YW,this.t7,this.n7);case 9:if(s=t.sent,Fa.vv(this.K6.H1/8),Dn(r),s.ec!==AP.Z6){t.next=18;break}return this.U8(),this.dispatchEvent("z8"),t.abrupt("return",!1);case 18:if(s.ec!==AP.Q6){t.next=29;break}if(s.pY!==e){t.next=24;break}return this.q8(e),t.abrupt("return",!1);case 24:return t.next=26,this.X8(s.pY,null);case 26:return t.abrupt("return",t.sent);case 27:t.next=33;break;case 29:if(s.ec!==AP.nd){t.next=33;break}return this.q8(e||void 0),!IN.Tj(e.BY)&&e.Bz&&this.K8(u),t.abrupt("return",!1);case 33:if(o=s.np,!this.Q9||this.Q9.YW!==o){t.next=36;break}return t.abrupt("return",!1);case 36:if(o.pY===e){t.next=40;break}return t.next=39,this.X8(o.pY,o);case 39:return t.abrupt("return",t.sent);case 40:if(this.Q9&&(this.Q9.SA.fs(),this.Q9=void 0),!(s.u_>this.Y9)){t.next=46;break}return this.K8(u),t.abrupt("return",!1);case 46:if(!(s.u_>this.Ck)){t.next=49;break}return this.M8(u),t.abrupt("return",!1);case 49:if(this.j9=!1,this.Q9=void 0,o!==this.Z9&&(this.J9=0),this.Z9=o,this.dispatchEvent("qZ"),this.Q8(o),!o.G3){t.next=59;break}return t.next=58,this.K6.u2(this.Qm,String(o.pY.ic),o.G3);case 58:a=t.sent;case 59:return(c=this.K6.o2(this.Qm,o,a,function(t,n){h.U8(),h.Z8(o,n),h.Q9=void 0,r&&r.pu||h.Y8(o,t)}))&&(this.Q9={YW:o,SA:c},c.addEventListener("RZ",function(){r&&r.pu||h.j8(o)})),t.abrupt("return",!1);case 62:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.i7=function(t){this.o8(t||this.J0.i1,!0)},i.r7=function(){var t=this.L8();this.Ck=-1,this.Q9&&this.Q9.SA.fs(),this.Q9=void 0,this.H8(),this.j9=!1,this.Z9=null,this.J9=0,this.U8(),this.M8(t),this.X9=this.w8(this.Dk)},i.e7=function(){this.z9=!0,this.H8(),this.U8()},i.u7=function(){this.z9=!1,this.o8()},i.s7=function(){this.F9=!0},i.o7=function(){this.F9=!1,this.S8()},i.Va=function(){this.Du(),this.r7(),this.A8(),this.t8=null,this.e8=null,this.i8.Va(),this.u8.Va(),this.l8.fs(this.Qm),this.Dk.Va(),this.yZ.removeEventListener("NQ",this.VQ),this.K6.removeEventListener("a2",this.a8),this._8=null,this.a7()},i.Fa=function(){this.q9=null,this.ZY=void 0,this.W9=void 0,this.a7(),this.X9=this.w8(this.Dk)},i.w8=function(t){var n=new VP(t);return n.Iu("$q",this.v8),n},i.a7=function(){this.X9&&(this.X9.Cu("$q",this.v8),this.X9.Va(),this.X9=null)},b(n,[{key:"Gy",get:function(){return this.f5.s1}},{key:"c7",get:function(){return this.M9}},{key:"Qm",get:function(){return this.h7()}},{key:"MY",get:function(){return this.f7()}},{key:"t7",get:function(){return this.v7()}},{key:"n7",get:function(){return this.d7()}},{key:"t8",get:function(){return this.i8.g5},set:function(t){var n=this.i8.g5;n&&n.removeEventListener("updateend",this.K9),this.i8.g5=t,t&&(t.addEventListener("updateend",this.K9),this.K9())}},{key:"e8",get:function(){return this.u8.g5},set:function(t){var n=this.u8.g5;n&&n.removeEventListener("updateend",this.r8),this.u8.g5=t,t&&(t.addEventListener("updateend",this.r8),this.r8())}},{key:"J8",get:function(){return this.L8()}},{key:"WZ",get:function(){return this.j9}},{key:"l7",get:function(){return this.Y9},set:function(t){this.Y9=t}},{key:"p8",get:function(){return this._7()}},{key:"g7",get:function(){return this.w7()},set:function(t){this.y7(t)}},{key:"nc",get:function(){return this.lV()}},{key:"UT",get:function(){return this.m7()}}]),n}(lN);function qP(t,n){if(t.bandwidth!==n.bandwidth)return!1;if(t.resolution){if(!n.resolution)return!1;if(t.resolution.width!==n.resolution.width||t.resolution.height!==n.resolution.height)return!1}else if(n.resolution)return!1;return!0}function WP(t){for(var n=[],i=0;i<t.length;i++){for(var r=t[i],e=!1,u=0;u<n.length;u++){qP(r,n[u])&&(e=!0)}e||n.push(r)}return n}function XP(t){var n=t&&t.uri||"",i=n.indexOf("?"),r=n.indexOf("#"),e=n.length;-1!==r&&(e=r),-1!==i&&(e=i);var u=n.indexOf(".aac",e-4);return 0<=u&&u<e}var GP=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this)||this).p7=null,o.k7=null,o.A7=null,o.b7=null,o.T7=null,o.E7=null,o.S7=null,o.R7=!1,o.GT=!0,o.zj=!0,o.I7=null,o.N7=function(){o.I7&&o.I7.disabled&&o.D7(o.Cp.initialRendition||"default"),o.C7(!0)},o.O7=function(){var t=o.yZ.MQ.xj.some(function(t){return t.UT});o.P7(t)},o.x7=function(t){"variant"===t.Qm&&(o.K6.removeEventListener("d2",o.x7),o.I7&&(o.I7=null,o.C7(!1)))},o.vN=s,o.yZ=n,o.Dk=i,o.K6=r,o.Cp=e,o.B7=e.L7||[],o.M7=new ZO(e,dD.$t.cJ,u),o.p7=null,o.K6.addEventListener("d2",o.x7),o.U7(),o.F7(),o.D7(e.initialRendition||"default"),o}ut(n,t);var i=n.prototype;return i.V7=function(t,n){var i=xN(t);if(i&&!i.disabled)return i;var r=this.H7(t,null);switch(r.length?"first"!==n&&(n="high"):r=t,n){case"first":return r.reduce(function(t,n){return t.dz<=n.dz?t:n});case"high":var e=WP(r);return e[e.length-1];case"low":default:return WP(t)[0]}},i.q7=function(t,n){var i=this.W7||this.I7&&[this.I7],r=i&&i.filter(function(n){return Tn(t,n)});return r&&r.length>0?WP(r):WP(this.H7(t,n))},i.H7=function(t,n){var i=this.Cp,r=this.B7,e=this.X7();return t.filter(function(t){for(var u=0;u<r.length;u++){if(!r[u].G7(t,n,e,i))return!1}return!0})},i.z7=function(t,n){var i=this.q7(t,n);return i.length?i[i.length-1]:t[0]},i.j7=function(t,n){var i=this.W7;return i&&i.length>0?i.filter(function(n){return Tn(t,n)}):t},i.Y7=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.b7,e=this.T7,!r||n!==this.E7||i!==this.S7){t.next=4;break}return t.abrupt("return",r);case 4:return u=new Rr,s=this.Q7(n,i,u.bs),r&&e&&e.fs(),this.b7=s,this.T7=u,this.S7=i,t.prev=10,t.next=13,s;case 13:return t.abrupt("return",t.sent);case 14:return t.prev=14,s===this.b7&&(this.b7=null,this.T7=null,this.S7=null),t.finish(14);case 17:case"end":return t.stop()}},t,this,[[10,,14,17]])}));return function(n,i){return t.apply(this,arguments)}}(),i.Q7=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.yZ,u=this.Dk,s=e.LQ,t.next=5,this.Z7(n,r);case 5:if(t.sent){t.next=8;break}return t.abrupt("return",!1);case 8:if(!i){t.next=14;break}if(o=u.q6(s,i.dz),a=u.D2(n,o),IN.Tj(s.BY)||a){t.next=14;break}return n.disabled="isUnsynced",t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Z7=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.k7,e=this.A7,!r||n!==this.E7){t.next=4;break}return t.abrupt("return",r);case 4:return(u=new Rr).ks(i),s=this.J7(n,u.bs),r&&e&&e.fs(),this.k7=s,this.A7=u,this.E7=n,t.prev=11,t.next=14,s;case 14:return t.abrupt("return",t.sent);case 15:return t.prev=15,s===this.k7&&(this.k7=null,this.A7=null,this.E7=null),t.finish(15);case 18:case"end":return t.stop()}},t,this,[[11,,15,18]])}));return function(n,i){return t.apply(this,arguments)}}(),i.J7=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.yZ,e=r.LQ,!this.nc||e!==n){t.next=4;break}return t.abrupt("return",!1);case 4:if(this.K7(n)){t.next=8;break}u=n.Bz,t.next=22;break;case 8:return t.prev=8,t.next=11,this.M7.Vs(n.uri,{});case 11:s=t.sent,Dn(i),u=s.PQ,t.next=21;break;case 16:return t.prev=16,t.t0=t.catch(8),n.yY(!1),n.bY(),t.abrupt("return",!1);case 21:n.lY(u,e);case 22:if(!XP(u.fragments[0])){t.next=25;break}return n.disabled="isAAC",t.abrupt("return",!1);case 25:return t.abrupt("return",!0);case 26:case"end":return t.stop()}},t,this,[[8,16]])}));return function(n,i){return t.apply(this,arguments)}}(),i.K7=function(t){var n=t.Bz;return!n||!!n.live&&(!t.Pz.qa||t.Pz.wz(t.Pz.qa-1).Fm+1e3*n.targetDuration<ml())},i.YT=function(t){t?this.GT||(this.GT=!0,this.dispatchEvent("nc")):this.GT&&(this.GT=!1)},i.P7=function(t){t&&!this.zj?(this.zj=!0,this.dispatchEvent("UT")):!t&&this.zj&&(this.zj=!1,this.dispatchEvent("WP"))},i.C7=function(t){var n=this,i=this.yZ,r=i.LQ,e=i.MQ.xj,u=this.j7(e,r),s=this.z7(u,r);s?this.Y7(s,null).then(function(r){r&&(i.gQ(s,t),n.YT(!0))}):this.YT(!1)},i.ttt=function(){this.I7=null,this.C7(!0)},i.F7=function(){this.yZ.MQ.addEventListener("Dj",this.O7)},i.ntt=function(){this.yZ.MQ.removeEventListener("Dj",this.O7)},i.U7=function(){this.yZ.MQ.addEventListener("Ij",this.N7)},i.itt=function(){this.yZ.MQ.removeEventListener("Ij",this.N7)},i.D7=function(t){var n=this.yZ,i=n.MQ.xj;if(Boolean(n.LQ&&!n.LQ.disabled))this.I7=null;else{if(i&&i.length){var r;switch(this.vN.zB.type){case"performance":r="low";break;case"quality":r="high";break;case"bandwidth":r=t}this.I7=this.V7(i,r),this.R7=!0}var e=this.j7(i,null),u=this.z7(e,null);u&&(n.LQ=u)}},i.X7=function(){return this.R7?{H1:this.K6.H1}:{H1:this.vN.$B}},i.fs=function(){this.b7&&this.T7&&(this.T7.fs(),this.b7=null,this.T7=null,this.S7=null),this.k7&&this.A7&&(this.A7.fs(),this.k7=null,this.A7=null,this.E7=null)},i.Va=function(){this.K6.removeEventListener("d2",this.x7),this.itt(),this.ntt(),this.fs(),this.p7=null,this.I7=null},i.rtt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.yZ,n){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,this.Y7(n,i);case 5:return(e=t.sent)&&(r.LQ=n),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),b(n,[{key:"nc",get:function(){return this.GT}},{key:"UT",get:function(){return this.zj}},{key:"n7",get:function(){var t=this.yZ,n=t.LQ,i=this.j7(t.MQ.xj,n);return this.q7(i,n)}},{key:"t7",get:function(){return this.j7(this.yZ.MQ.xj,this.yZ.LQ)}},{key:"W7",get:function(){return this.p7},set:function(t){this.p7=t,this.ttt()}}]),n}(lN),zP=function(){function t(t,n){this.ett=-1,this.Ca=t,this.Dk=n}return t.prototype.qs=function(t){for(var n=t.Pz,i=n.gz(this.ett),r=i<0?0:i+1;r<n.qa;r++){var e=n.wz(r);if(e.dz>this.ett){var u=this.Dk.TK(e),s=this.Dk.EK(e,u),o=new Av(u.nl(),s.nl(),[].concat(e.NY),!1);o.ic=""+e.dz,this.Ca.Bb(o),this.ett=e.dz}}},t}(),jP=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,SN.mj,n,i,r,e,u,s,o,a,c)||this).utt=null,h.stt=null,h.ott=new GP(n,h.Dk,r,s,o,a),h.ott.addEventListener("nc",h.Eu),h.ott.addEventListener("UT",h.Eu),h.ott.addEventListener("WP",h.Eu),s.manifestMetadataTrack&&(h.utt=n.hQ("",h.Dk,""),h.stt=new zP(h.utt,h.Dk)),h.M9=!h.yZ.TQ||!h.yZ.TQ.uri,h.U9=Boolean(h.yZ.LQ),h}ut(n,t);var i=n.prototype;return i.f8=function(t,n){if("Bj"===t){var i=n?n.uri:void 0;this.M9=!i}},i.h7=function(){return SN.mj},i.f7=function(){return this.p8&&this.p8.MY||!1},i._7=function(){return this.yZ.LQ},i.v7=function(){return this.ott.t7},i.d7=function(){return this.ott.n7},i.w7=function(){var t=this.ott.W7;return t&&t.map(function(t){return t.ic})},i.y7=function(t){if(t&&t.length>0){var n=this._8.Pj.filter(function(n){return-1!==t.indexOf(n.ic)});if(!(n.length>0))return void 0;this.ott.W7=n}else this.ott.W7=null},i.lV=function(){return this.ott.nc},i.m7=function(){return this.ott.UT},i.X8=function(){var n=Tt.coroutine(bt.mark(function n(i,r){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.ott.rtt(i,r);case 2:return n.abrupt("return",t.prototype.X8.call(this,i,r));case 3:case"end":return n.stop()}},n,this)}));return function(t,i){return n.apply(this,arguments)}}(),i.r7=function(){t.prototype.r7.call(this),this.ott.fs()},i.HY=function(n){t.prototype.HY.call(this,n),this.stt&&this.stt.qs(n)},i.Va=function(){t.prototype.Va.call(this),this.ott.Va(),this.ott.removeEventListener("UT",this.Eu),this.ott.removeEventListener("WP",this.Eu)},i.g8=function(t){return t.MQ},i.att=function(){var t=this.Gy,n=this.c7?this.i8.y5(t):void 0,i=n?n.pY:void 0,r=this.u8.y5(t),e=r?r.pY:void 0,u=this.ZY;this.ZY=i;var s=this.W9;return this.W9=e,!u&&i?{DQ:u,ctt:i}:!s&&e?{DQ:s,ctt:e}:s&&e&&s.ic!==e.ic?{DQ:s,ctt:e}:void 0},n}(HP),YP=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return(h=t.call(this,SN.qR,n,i,r,e,u,s,o,a,c)||this).M9=!!h.yZ.TQ&&!!h.yZ.TQ.uri,h.U9=!1,h}ut(n,t);var i=n.prototype;return i.f8=function(t,n){if("Bj"===t){var i=n?n.uri:void 0;this.M9=!!i}},i.h7=function(){return SN.qR},i.f7=function(){return this.p8&&this.p8.MY||!1},i._7=function(){return this.yZ.TQ},i.v7=function(){var t=this._7();return t?[t]:[]},i.d7=function(){return this.v7()},i.g8=function(t){return t.dY},i.w7=function(){return null},i.y7=function(t){},i.lV=function(){return!0},i.m7=function(){return!0},i.att=function(){var t=this.c7?this.i8.y5(this.Gy):void 0,n=t?t.pY:void 0,i=this.ZY;return this.ZY=n||void 0,!i&&n?{DQ:i,ctt:n}:i&&n&&i.ic!==n.ic?{DQ:i,ctt:n}:void 0},n}(HP),QP=function(){function t(t,n,i,r,e,u){var s=this;this.htt=!1,this.ftt=new Ca([]),this.dtt=[],this.ltt=[],this.VY=function(){return s._tt()},this.gtt=function(t){t.PQ.live||s.wtt.removeEventListener(s.Sz.uj,s.gtt),s.Sz.lY(t.PQ)},this.ytt=function(){s.Sz.GY.dc===oo.cc?s.htt&&s.mtt():s.htt||s.ptt()},this.Sz=t,this.wtt=n,this.K0=i,this.J0=u,this.ktt=new pD(r,e),this.Att=new Rr,t.GY.Iu("Ma",this.ytt),t.Dk&&t.Dk.addEventListener("zY",this.VY),n.addEventListener(t.uj,this.gtt),this.ytt()}var n=t.prototype;return n.ptt=function(){this.htt||this.Sz.GY.dc===oo.cc||(this.wtt.q4(this.Sz.uj),this.wtt.W4(this.Sz.uj),this.htt=!0,Dr(this.btt(this.Att.bs)))},n.btt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o,a,c,h,f,v=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.K0.s1,r=this.J0.i1,e=new Ca([i,i+r]),(u=e.Tf(this.ftt.Ef())).qa){t.next=16;break}return t.prev=6,t.next=9,Pr(1e3,n);case 9:t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(6),On(t.t0),t.abrupt("return");case 15:return t.abrupt("return",this.btt(n));case 16:if(s=u.Jh(0),o=this.Ttt(s)){t.next=30;break}return a=this.Sz,t.prev=20,t.next=23,Hs(a,"mY",n);case 23:t.next=29;break;case 25:return t.prev=25,t.t1=t.catch(20),On(t.t1),t.abrupt("return");case 29:return t.abrupt("return",this.btt(n));case 30:c=o.np,h=o.b6.nl(),f=h+c.duration,this.ktt.Vs("GY",c.uri,Ch.Hg,function(){var t=Tt.coroutine(bt.mark(function t(i,r){var e,u,s,o,a,d;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=3;break}throw Pr(1e3,n).then(function(){return v.btt(n)}),i;case 3:for(v.ftt=v.ftt.Cf(new Ca([h,f])),v.dtt.push(c.dz),e=yd(r.NA),u=e.AA||{bA:Yc.xd,TA:Yc.xd},s=v.Sz.Pz.yz(c.dz),o=0,a=e._c;o<a.length;o++)d=a[o],v.ltt.push({YW:s,b6:ZP(Yc.yl(d.u_),u.TA,u.bA),Ett:ZP(Yc.yl(d.Ck),u.TA,u.bA),xA:d});return v._tt(),t.next=12,v.btt(n);case 12:case"end":return t.stop()}},t)}));return function(n,i){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,11],[20,25]])}));return function(n){return t.apply(this,arguments)}}(),n._tt=function(){var t=this.Sz.Dk;if(this.ltt.length&&t){for(var n=[],i=0,r=this.ltt;i<r.length;i++){var e=r[i],u=t.IK(e.YW,e.b6);if(u.Vd())n.push(e);else{var s=t.IK(e.YW,e.Ett),o=new zv(u.nl(),s.nl(),e.xA.Ok,void 0,e.xA.ic);this.Sz.GY.Bb(o)}}this.ltt=n,this.Sz.GY.fb(this.K0.s1,!0)}},n.Ttt=function(t){try{var n=this.Sz.Dk,i=this.Sz.Pz;if(n.w6)for(var r=n.R6.nl(),e=i.qa-1;e>=0;e-=1){var u=i.wz(e),s=r-u.duration;if(new Ca([s,r]).kf(t,.5)){var o={np:u,b6:Yc.yl(s)};return this.Stt(i,o,e)}r=s}else for(var a=0,c=0;c<i.qa;c+=1){var h=i.wz(c),f=a+h.duration;if(new Ca([a,f]).kf(t,.5)){var v={np:h,b6:Yc.yl(a)};return this.Stt(i,v,c)}a=f}}catch(t){}},n.Stt=function(t,n,i){var r=n.np;if(-1===this.dtt.indexOf(r.dz))return n;for(var e=n.b6.nl()+r.duration,u=i+1;u<t.qa;u+=1){var s=t.wz(u);if(-1===this.dtt.indexOf(s.dz))return{np:s,b6:Yc.yl(e)};e+=s.duration}},n.mtt=function(){this.htt=!1,this.wtt.H4(this.Sz.uj),this.Att.fs(),this.Att=new Rr},n.Fa=function(){this.mtt(),this.ftt=new Ca([]),this.dtt.length=0,this.Sz.GY.Cu("Ma",this.ytt),this.Sz.Dk&&this.Sz.Dk.removeEventListener("zY",this.VY),this.wtt.removeEventListener(this.Sz.uj,this.gtt)},t}();function ZP(t,n,i){return sd(i,t.Hf(n))}var JP=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Rtt=NaN,u.Itt=!1,u.Ntt=1/0,u.Dtt=1/0,u.Ctt=null,u.Ott=!0,u.Ptt=!0,u.f5=null,u.xtt=void 0,u.Btt=void 0,u.Ltt=[],u.uQ=function(){var t=u.yZ.e_;y(t)||u.Rtt===t||(u.Rtt=t,u.dispatchEvent("durationchange"))},u.Mtt=function(){u.bZ&&(u.yZ.removeEventListener("renditionUpdated",u.Mtt),u.dispatchEvent("bZ"))},u.Utt=function(){u.J8&&u.dispatchEvent("J8")},u.Ftt=function(){u.WZ&&u.dispatchEvent("WZ")},u.Eu=function(t){u.dispatchEvent(t)},u.Vtt=function(t){var n=u.yZ.yQ(t.U4);n?n instanceof VN&&(n.yY(!1),n.bY()):u.dispatchEvent(t)},u.Htt=function(t){u.yZ.PQ||("MANIFEST_NOT_FOUND"===t.Vu.code?(u.Ctt||(u.Ctt=a(u.qtt,Ww)),u.Ptt=!1,u.EY()):u.dispatchEvent({type:"Vu",Vu:t.Vu}))},u.Wtt=function(t){u.Xtt(),u.Gtt(t.PQ),u.ztt(),u.yZ.removeEventListener("AQ",u.uQ),u.yZ.addEventListener("AQ",u.uQ),u.uQ(),u.Itt||(u.Itt=!0,u.dispatchEvent("loadedmetadata")),u.Mtt(),u.Ptt=!0,u.EY()},u.qtt=function(){u.Xtt();var t=u.XZ;t&&(u.d8.Fa(),u.d8.XZ=t,u.d8.Jh())},u.jtt=function(){u.d8.X4()},u.Ytt=function(){u.Qtt.forEach(function(t){return t.o7()})},u.Ztt=function(t){u.Jtt.forEach(function(n){return n.P8(t.pY)})},u.Ktt=function(t){u.Qtt.forEach(function(n){return n.x8(t.R0)}),u.$tt.K4(t.R0,u.Qtt.map(function(t){return t.Dk}))},u.EY=function(){var t=u.Ott,n=u.m7();u.Ott=n,n&&!t?u.dispatchEvent("UT"):!n&&t&&u.dispatchEvent("WP")},u.vN=e,u.Cp=n,u.HZ=i,u.$T=r,u.K6=new nO(n,i,r,st(u)),u.l8=new DO(n),u.yZ=new qN(n),u.d8=new KO(r,n),u.$tt=new $O,u.d8.addEventListener("Vu",u.Vtt),u.d8.addEventListener("M4",u.Htt),u.d8.addEventListener("F4",u.Wtt),u.K6.addEventListener("a2",u.Eu),u.K6.addEventListener("Vu",u.Eu),u.yZ.addEventListener("NQ",u.Eu),u.yZ.addEventListener("mY",u.Ztt),u.yZ.addEventListener("YY",u.Ktt),u.yZ.addEventListener("CQ",u.Eu),u.$tt.addEventListener("j4",u.Eu),u.$tt.addEventListener("j4",u.Ytt),u.addEventListener("UT",u.jtt),u}ut(n,t);var i=n.prototype;return i.tnt=function(t){t.l7=this.l7,t.addEventListener("T8",this.Eu),t.addEventListener("nnt",this.Eu),t.addEventListener("Vu",this.Eu),t.addEventListener("z8",this.Eu),t.addEventListener("qZ",this.Eu),t.addEventListener("J8",this.Utt),t.addEventListener("WZ",this.Ftt),t.addEventListener("WP",this.EY),t.addEventListener("UT",this.EY),t.addEventListener("nc",this.Eu),t.addEventListener("RZ",this.Eu),t.addEventListener("I9",this.Eu),t.addEventListener("D9",this.Eu)},i.ztt=function(){this.int();this.yZ.MQ.Pj;var t=this.yZ.dY.Pj;this.xtt=new jP(this.yZ,this.d8,this.K6,this.l8,this.f5,this.Cp,this.$T,this.vN,this),this.tnt(this.xtt),t.length&&(this.Btt=new YP(this.yZ,this.d8,this.K6,this.l8,this.f5,this.Cp,this.$T,this.vN,this),this.tnt(this.Btt));for(var n=this.yZ.UQ,i=this.xtt.Dk,r=0;r<n.length;r++){var e=n[r];e.Dk=i,this.Ltt.push(new QP(e,this.d8,this.f5,this.$T,this.Cp,this))}},i.int=function(){this.xtt&&(this.xtt.Va(),this.xtt=void 0),this.Btt&&(this.Btt.Va(),this.Btt=void 0),this.Ltt.forEach(function(t){return t.Fa()}),this.Ltt.length=0,this.$tt.Fa()},i.rnt=function(t){this.Qtt.forEach(function(n){return n.i7(t)})},i.Gtt=function(t){this.yZ.PQ=t},i.ent=function(){this.d8.Jh()},i.unt=function(t){this.$tt.t5(t,this.Qtt.map(function(t){return t.Dk}))||this.Qtt.forEach(function(t){t.A8(),t.s7()})},i.mtt=function(){this.K6.e2(),this.Qtt.forEach(function(t){return t.r7()})},i.QZ=function(){this.K6.e2(),this.Qtt.forEach(function(t){return t.e7()})},i.zZ=function(){this.Qtt.forEach(function(t){return t.u7()})},i.Va=function(){this.Du(),this.Xtt(),this.int(),this.K6.Va(),this.l8.Va(),this.yZ.Va(),this.d8.Fa(),this.$tt.Va()},i.snt=function(t,n,i,r){var e=this.xtt,u=this.Btt;t&&(e.r7(),this.K6.Zu(e.Qm),e.i7(r)),n&&u&&(u.r7(),this.K6.Zu(u.Qm),i&&u.i7(r))},i.ont=function(){if(!this.xtt)return UD;var t=this.xtt;return rC(t.Dk,this.K6.l1(t.Qm))},i.V4=function(t,n,i){var r=this,e=n?n.uri:void 0,u=i?i.uri:void 0,s=function t(n){n.PQ.live||r.d8.removeEventListener(u,t),i&&i.lY(n.PQ)};u&&(this.d8.removeEventListener(u,s),this.d8.addEventListener(u,s)),this.d8.V4(e,u),this.d8.W4(u)},i.Xtt=function(){null!==this.Ctt&&c(this.Ctt),this.Ctt=null},i.m7=function(){return!!this.Ptt&&(!this.xtt||this.xtt.UT)},i.$Z=function(t){this.xtt&&(this.xtt.g7=t)},i.Fa=function(){this.Jtt.forEach(function(t){return t.Fa()}),this.Ltt.forEach(function(t){return t.Fa()})},b(n,[{key:"ant",get:function(){return this.xtt}},{key:"cnt",get:function(){return this.Btt}},{key:"Qtt",get:function(){var t=[];return this.xtt&&t.push(this.xtt),this.Btt&&this.Btt.c7&&t.push(this.Btt),t}},{key:"Jtt",get:function(){return[this.xtt,this.Btt].filter(B)}},{key:"i1",get:function(){return Rc(this.vN.XB*this.K6.e1,1,this.hnt)}},{key:"XZ",get:function(){return this.d8.XZ},set:function(t){this.Rtt=NaN,this.Ntt=1/0,this.Itt=!1,this.Ott=!0,this.Ptt=!0,this.yZ.removeEventListener("renditionUpdated",this.Mtt),this.yZ.removeEventListener("AQ",this.uQ),this.Xtt(),this.int(),this.K6.Zu(),this.l8.fs(),this.yZ.Va(),this.yZ.addEventListener("renditionUpdated",this.Mtt),this.d8.XZ=t,this.EY()}},{key:"e_",get:function(){return this.Rtt}},{key:"w6",get:function(){return this.yZ&&IN.Tj(this.yZ.BY)}},{key:"UT",get:function(){return this.Ott}},{key:"bZ",get:function(){var t=this.Qtt;return t.length>0&&t.every(function(t){return t.MY})}},{key:"e1",get:function(){return this.K6.e1},set:function(t){t>0&&(this.K6.e1=t)}},{key:"J8",get:function(){return this.Qtt.every(function(t){return t.J8})}},{key:"WZ",get:function(){return this.Qtt.length>0&&this.Qtt.every(function(t){return t.WZ})}},{key:"hnt",get:function(){return this.Dtt},set:function(t){this.Dtt=t}},{key:"l7",get:function(){return this.Ntt},set:function(t){var n=this;this.Ntt=t,this.Jtt.forEach(function(t){return t.l7=n.Ntt})}},{key:"HT",get:function(){return this.bZ?new MD([{Jh:this.S6,$h:this.R6}]):UD}},{key:"S6",get:function(){if(!this.bZ)return 0;for(var t=-1/0,n=0,i=this.Qtt;n<i.length;n++){var r=i[n];t=_.max(t,r.Dk.S6.nl())}return t}},{key:"R6",get:function(){if(!this.bZ)return 0;for(var t=1/0,n=0,i=this.Qtt;n<i.length;n++){var r=i[n];t=_.min(t,r.Dk.R6.nl())}return t}},{key:"I6",get:function(){if(!this.bZ)return 0;for(var t=1/0,n=0,i=this.Qtt;n<i.length;n++){var r=i[n];t=_.min(t,r.Dk.I6.nl())}return _.max(t,this.S6)}},{key:"KZ",get:function(){return this.xtt&&this.xtt.g7||void 0}}]),n}(lN),KP=function(t){function n(n,i){var r;return(r=t.call(this)||this).Rtt=NaN,r.Itt=!1,r.Ctt=null,r.Ott=!0,r.utt=null,r.stt=null,r.Eu=function(t){r.dispatchEvent(t)},r.Gtt=function(t){if(r.yZ.PQ||(r.yZ.PQ=r.fnt.BQ||null),!r.yZ.LQ){var n=r.yZ.MQ.Pj[0];n&&(r.yZ.LQ=n,r.fnt.x4(n),r.dispatchEvent({type:"vnt",pY:n}))}t.manifest.isMasterPlaylist||r.yZ.LQ.lY(t.manifest),void 0!==t.manifest.duration&&r.Rtt!==t.manifest.duration&&(r.Rtt=t.manifest.duration,r.dispatchEvent("durationchange")),r.Itt||(r.Itt=!0,r.dispatchEvent("loadedmetadata")),r.P7(!0),r.dispatchEvent({type:"P4",manifest:t.manifest})},r.Htt=function(t){"MANIFEST_NOT_FOUND"===t.Vu.code?(r.Ctt||(r.Ctt=a(r.qtt,Ww)),r.P7(!1)):r.dispatchEvent({type:"Vu",Vu:t.Vu})},r.qtt=function(){r.Xtt();var t=r.XZ;t&&r.fnt.Jh(t)},r.Xtt=function(){c(r.Ctt),r.Ctt=null},r.Ztt=function(t){var n=t.pY;r.Dk.v6(n,n.Bz),r.Cp.manifestMetadataTrack&&(r.stt||(r.utt=r.yZ.hQ("",r.Dk,""),r.stt=new zP(r.utt,r.Dk)),r.stt.qs(n))},r.Cp=n,r.yZ=new qN(n,!0),r.Dk=new yP(n),r.fnt=new JO(i,r.Cp),r.Dk.addEventListener("Vu",r.Eu),r.fnt.addEventListener("P4",r.Gtt),r.fnt.addEventListener("Vu",function(t){r.yZ.PQ?(r.Ctt||(r.Ctt=a(r.qtt,Ww)),r.P7(!1)):r.Htt(t)}),r.yZ.addEventListener("mY",r.Ztt),r}ut(n,t);var i=n.prototype;return i.ent=function(){this.yZ.PQ||this.fnt.Jh()},i.ont=function(){return UD},i.P7=function(t){var n=this.Ott;this.Ott=t,t&&!n?this.dispatchEvent("UT"):!t&&n&&this.dispatchEvent("WP")},i.Va=function(){this.Du(),this.Xtt(),this.yZ.Va(),this.fnt.Va(),this.stt=null,this.Dk.Va()},i.QZ=function(){},i.zZ=function(){},i.rnt=function(t){},i.$Z=function(t){},b(n,[{key:"XZ",get:function(){return this.fnt.XZ},set:function(t){this.Rtt=NaN,this.Itt=!1,this.Xtt(),this.yZ.Va(),this.stt=null,this.fnt.XZ=t,this.P7(!0)}},{key:"e_",get:function(){return this.Rtt}},{key:"w6",get:function(){return this.yZ&&IN.Tj(this.yZ.BY)}},{key:"UT",get:function(){return this.Ott}},{key:"WZ",get:function(){return!1}},{key:"J8",get:function(){return!1}},{key:"KZ",get:function(){return[]}}]),n}(lN),$P=1e3,tx="VEE3",nx=function(t){function n(n){var i;return(i=t.call(this,"dnt")||this).ptsOffset=n,i}return ut(n,t),n}(Un),ix=function(t){function n(n){var i;return(i=t.call(this)||this).lnt=null,i._nt=0,i.gnt="now",i.wnt=1,i.ynt=!1,i.mnt=!1,i.pnt=0,i.knt=null,i.Ant=null,i.bnt=null,i.Tnt=null,i.Y4=0,i.Ent=0,i.initializePromiseAbortController=new Rr,i.Snt=new kr,i.Rnt={},i.Int=!1,i.Nnt=null,i.Dnt=NaN,i.b8=function(){i.GQ.Qtt.map(function(t){t.b8()})},i.att=function(){var t=i.GQ.cnt,n=t&&t.att(),r=i.GQ.ant,e=r&&r.att();(n||e)&&i.dispatchEvent({type:"NQ",Cnt:n&&n.DQ,iZ:n&&n.ctt,sZ:e&&e.DQ,nZ:e&&e.ctt,$Q:!!r&&r.c7});for(var u=0,s=i.GQ.Jtt;u<s.length;u++){var o=s[u].att();if(o){var a=o.ctt;a&&a.xY!==RN.qR&&(i.Nnt=a)}}},i.E8=function(){null!==i.knt&&c(i.knt),i.knt=a(i.E8,$P),i.GQ.Qtt.forEach(function(t){return t.E8()})},i.I8=function(){null!==i.Ant&&c(i.Ant),i.ynt&&(i.Ant=a(i.I8,$P),i.GQ.Qtt.forEach(function(t){return t.I8()}))},i.R8=function(){i.GQ.Qtt.forEach(function(t){return t.R8()})},i.Ont=function(){if(i.GQ.w6&&i.Zy>1){var t=i.GQ.I6;i.Pnt>t&&(i.Zy=1,i.Pnt>=t+1&&(i.Pnt="now"))}},i.xnt=function(){i.lnt&&(0===i.lnt.Bnt()?i.Pnt="now":i.Pnt=i.Lnt(i.s1))},i.Mnt=function(){i.pnt=i.s1},i.Unt=function(t){i.Fnt(),i.lnt.error&&(t.error.info.code===tx&&i.Ent<Xw?(i.Ent+=1,i.Vnt()):i.dispatchEvent({type:"Vu",error:t.error}))},i.Hnt=function(){i.Ent=0},i.qnt=function(){i.removeEventListener("Wnt",i.Xnt),i.ynt?i.Xnt():i.addEventListener("Wnt",i.Xnt)},i.Xnt=function(){var t=i.s1;i.GQ.removeEventListener("bZ",i.qnt),i.GQ.bZ?i.GQ.Qtt.forEach(function(n){return n.D8(t)}):(i.GQ.addEventListener("bZ",i.qnt),i.GQ.ent())},i.Gnt=function(){var t=i.s1;i.GQ.Jtt.forEach(function(n){return n.N8(t,i.GQ.w6)})},i.znt=function(){null!==i.knt&&c(i.knt),i.knt=null,null!==i.Ant&&c(i.Ant),i.Ant=null},i.jnt=function(){i.Ynt(),i.GQ.bZ?i.GZ():(i.GQ.addEventListener("bZ",i.jnt),i.GQ.ent())},i.Ynt=function(){i.GQ.removeEventListener("bZ",i.jnt)},i.HQ=function(t){i.GQ.V4(t.xY,t.DQ||void 0,t.pY||void 0),t.CQ&&i.Qnt(t.xY,t.DQ,t.pY)},i.Znt=function(t){var n=t.Y4-i.Y4;_.abs(n)>qw&&(i.Y4=t.Y4,i.s1=i.s1+n)},i.Jnt=function(t){var n=t.YW.metadata;n.I_&&(i.Rnt[t.Qm]=n.I_,i.Knt())},i.Knt=function(){if(i.GQ.bZ){var t=l.keys(i.Rnt).length===i.GQ.Qtt.length;if(i.lnt&&!i.lnt.$nt&&t){var n=i.Snt;i.tit().then(function(){return n.cs()},function(t){return n.hs(t)})}i.lnt&&i.Y4&&(i.lnt.Y4=i.Y4)}},i.nit=function(){if(y(i.iit))if(i.GQ.w6)i.iit=0;else{var t=i.Nnt,n=t&&t.LY,r=t&&B(n)&&!y(n)&&t.Lz(n)||void 0;i.iit=ON(r)?r.D0.nl():NaN}i.IZ&&(i.removeEventListener("NQ",i.nit),i.GQ.removeEventListener("a2",i.nit),i.dispatchEvent("IZ",!0))},i.GQ=n,n.f5=st(i),i}ut(n,t);var i=n.prototype;return i.Vnt=function(){this.GQ.w6?this.Pnt="now":(this.pnt+=.5,this.GQ.Qtt.map(function(t){t.A8(),t.C8(),t.O8()}),this.Pnt=this.pnt),this.Knt(),this.lnt.play()},i.rit=function(t){var n=this;this.bnt&&(this.GQ.removeEventListener("bZ",this.bnt),this.bnt=null),this.GQ.bZ?(this.mnt=!0,this.Int=!0,this.GQ.unt(t),this.Int=!1):(this.bnt=function(){return n.rit(t)},this.GQ.ent())},i.eit=function(t){this.uit(),this.GQ.w6&&(t="none"),"auto"===t&&this.jnt()},i.sit=function(t){var n=this;this.uit(),"none"!==t&&(this.GQ.bZ?this.eit(t):(this.Tnt=function(){return n.eit(t)},this.GQ.addEventListener("bZ",this.Tnt),this.GQ.ent()))},i.uit=function(){this.Ynt(),this.Tnt&&(this.GQ.removeEventListener("bZ",this.Tnt),this.Tnt=null)},i.GZ=function(){this.mnt?this.GQ.rnt():(this.Pnt=this.gnt,this.GQ.rnt(22)),this.ynt||(this.ynt=!0,this.dispatchEvent("Wnt"))},i.oit=function(){this.lnt&&(this.lnt.addEventListener("ait",this.Gnt),this.lnt.addEventListener("seeking",this.qnt),this.lnt.addEventListener("error",this.Unt),this.lnt.addEventListener("playing",this.Hnt)),this.GQ.addEventListener("NQ",this.HQ),this.GQ.addEventListener("z8",this.xnt),this.GQ.addEventListener("bZ",this.Knt),this.GQ.addEventListener("j4",this.Znt),this.GQ.addEventListener("nc",this.qnt),this.ZZ()},i.cit=function(){this.lnt&&(this.lnt.removeEventListener("ait",this.Gnt),this.lnt.removeEventListener("seeking",this.qnt),this.lnt.removeEventListener("error",this.Unt),this.lnt.removeEventListener("playing",this.Hnt)),this.GQ.removeEventListener("NQ",this.HQ),this.GQ.removeEventListener("z8",this.xnt),this.GQ.removeEventListener("bZ",this.Knt),this.GQ.removeEventListener("j4",this.Znt),this.GQ.removeEventListener("nc",this.qnt),this.JZ()},i.ZZ=function(){this.lnt&&(this.lnt.addEventListener("loadstart",this.jnt),this.lnt.addEventListener("timeupdate",this.b8),this.lnt.addEventListener("playing",this.att),this.lnt.addEventListener("timeupdate",this.att),this.lnt.addEventListener("timeupdate",this.I8),this.lnt.addEventListener("timeupdate",this.E8),this.lnt.addEventListener("timeupdate",this.Mnt),this.lnt.addEventListener("timeupdate",this.Ont),this.lnt.addEventListener("ended",this.znt)),this.GQ.addEventListener("a2",this.Jnt),this.GQ.addEventListener("a2",this.R8)},i.JZ=function(){null!==this.knt&&c(this.knt),null!==this.Ant&&c(this.Ant),this.lnt&&(this.lnt.removeEventListener("loadstart",this.jnt),this.lnt.removeEventListener("timeupdate",this.b8),this.lnt.removeEventListener("playing",this.att),this.lnt.removeEventListener("timeupdate",this.att),this.lnt.removeEventListener("timeupdate",this.I8),this.lnt.removeEventListener("timeupdate",this.E8),this.lnt.removeEventListener("timeupdate",this.Mnt),this.lnt.removeEventListener("timeupdate",this.Ont),this.lnt.removeEventListener("ended",this.znt)),this.GQ.removeEventListener("a2",this.Jnt),this.GQ.removeEventListener("a2",this.R8)},i.v5=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pn(this.Snt.as,this.initializePromiseAbortController.bs);case 2:return i=this.lnt.v5(n),this.lnt.loading&&(this.lnt.loaded=!0,this.lnt.loading=!1),t.next=6,i;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.hV=function(t,n){this.hit.hV(t,n)},i.k8=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pn(this.Snt.as,this.initializePromiseAbortController.bs);case 3:return t.next=5,this.lnt.k8(n,i);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Nn(t.t0)||this.dispatchEvent({type:"Vu",error:t.t0});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(n,i){return t.apply(this,arguments)}}(),i.tit=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.lnt.tit(this.Rnt,this.GQ.e_);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return");case 5:for(i=0,r=this.GQ.Jtt;i<r.length;i++)e=r[i],n.Bj&&(e.t8=n.Bj),n.Lj&&(e.e8=n.Lj);case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Fnt=function(){this.initializePromiseAbortController.fs(),this.initializePromiseAbortController=new Rr,this.Snt=new kr},i.Lnt=function(t){var n=this.HT;return n.length?Rc(t,n.start(0),n.end(n.length-1)):0},i.B8=function(t){var n=this.GQ.ant;return n?n.B8(t):null},i.T6=function(t){var n=this.GQ.ant;return n?n.T6(t):NaN},i.Vs=function(t){var n=t||"none";this.cit(),this.oit(),this.sit(n)},i.YZ=function(){this.uit()},i.Va=function(){this.Du(),this.Rnt={},this.hit=null},i.Fa=function(){this.Fnt(),this.fit(),this.Rnt={},this._nt=0,this.pnt=0,this.gnt="now",this.Y4=0,this.wnt=1,this.ynt=!1,this.mnt=!1,this.Nnt=null,this.GQ.Fa()},i.Qnt=function(t,n,i){if(n){this.dispatchEvent("NZ"),this.JZ();var r=!1,e=!1,u=!1;if("Lj"===t){e=!0;var s=this.GQ.ant;s&&s.c7&&(r=!0)}else r=!0,u=!(!i||!i.uri);r&&this.lnt.CQ("audio"),e&&this.lnt.CQ("video"),this.GQ.Jtt.forEach(function(t){t.A8(),r&&t.C8(),e&&t.O8()}),this.GQ.snt(e,r,u,22),this.GQ.Jtt.forEach(function(t){return t.S8()}),this.ZZ()}},i.lT=function(){this.JZ(),this.GQ.w6&&this.GQ.mtt()},i.dT=function(){this.JZ(),this.ZZ(),this.GQ.zZ()},i.vit=function(t){var n=this.iit||0;return this.rY?t-n<0?0:_.round((t-n)*this.rY-.5)||0:NaN},i.dit=function(t){var n=this.iit||0;return this.rY?n+(t+.5)/this.rY:NaN},i.fit=function(){this.iit=NaN,this.removeEventListener("NQ",this.nit),this.addEventListener("NQ",this.nit),this.GQ.removeEventListener("a2",this.nit),this.GQ.addEventListener("a2",this.nit)},b(n,[{key:"hit",get:function(){return this.lnt},set:function(t){this.cit(),this.Fnt(),this.Hnt(),this.lnt=t,this.Knt()}},{key:"s1",get:function(){return this.lnt&&!this.Int?this.lnt.Bnt():this._nt},set:function(t){t=this.Lnt(t),this.pnt=this._nt=t,this.lnt?this.lnt.lit(t):(this.Gnt(),this.qnt())}},{key:"Pnt",get:function(){return this.lnt&&!this.Int?this.s1:this.gnt},set:function(t){"now"===t&&(t=this.GQ.w6?1/0:0),t=this.Lnt(t),this.gnt=t,this.pnt=this._nt=t,this.rit(Yc.yl(this._nt)),this.s1=t}},{key:"Ck",get:function(){return this.GQ.l7},set:function(t){this.GQ.l7=t}},{key:"Zy",get:function(){return this.lnt?this.lnt.Zy:this.wnt},set:function(t){var n=this.wnt;t>0&&(this.wnt=t,this.lnt&&(this.lnt.Zy=t),this.GQ.e1=t,this.wnt!==n&&this.dispatchEvent("_it"))}},{key:"HT",get:function(){var t=this.GQ.HT;if(!t.length||!this.GQ.w6)return t;var n=t.start(0),i=this.GQ.I6;return i=_.max(this.s1,i),new MD([{Jh:n,$h:i}])}},{key:"BT",get:function(){return this.B8(this.s1)}},{key:"rY",get:function(){var t=this.Nnt;return t&&t.rY||NaN}},{key:"iit",get:function(){return this.Dnt},set:function(t){this.Dnt!==t&&(this.dispatchEvent(new nx(t)),this.Dnt=t)}},{key:"IZ",get:function(){return Boolean(this.rY)&&!y(this.iit)}}]),n}(lN),rx=function(t){function n(n){var i;return(i=t.call(this)||this).git=null,i.wit=[],i.yit=function(t){return i.mit(t)},i.pit=function(){return i.kit()},i.yZ=n,i.wit=[],i}ut(n,t);var i=n.prototype;return i.EI=function(t){var n,i;"metadata"===t.kind&&(t.mode=oo.hc,n=this.yZ.aQ(t.id,t.inBandMetadataTrackDispatchType),i=this.Ait.bind(this,n),this.wit.push({bit:t,Tit:i,GY:n}),t.addEventListener("cuechange",i))},i.ab=function(){for(var t=this.git.fT,n=t&&t.length,i=0;i<n;i+=1)this.EI(t[i]);t&&t.addEventListener&&(t.addEventListener("addtrack",this.yit),t.addEventListener("change",this.pit))},i.Ait=function(t,n){for(var i=n.target.activeCues,r=i.length,e=r?i[0].startTime:0,u=0;u<r;u++){var s=gR(i[u].value),o=new fy(e,s);t.Bb(o)}},i.kit=function(){for(var t=0,n=this.wit;t<n.length;t++){var i=n[t].bit;i.mode!==oo.hc&&(i.mode=oo.hc)}},i.mit=function(t){this.EI(t.track)},i.Eit=function(){for(var t=this.git,n=t&&t.fT,i=0,r=this.wit;i<r.length;i++){var e=r[i];e.bit.removeEventListener("cuechange",e.Tit)}this.wit.length=0,n&&n.removeEventListener&&(n.removeEventListener("addtrack",this.yit),n.removeEventListener("change",this.pit))},i.Va=function(){this.Eit(),this.git=null,this.yZ=null,this.yit=null,this.pit=null},i.Fa=function(){this.Eit(),this.git&&this.ab()},n}(lN),ex=function(t){function n(n){var i;return(i=t.call(this)||this).lnt=null,i.gnt=0,i.wnt=1,i.WP=!1,i.Sit=null,i.Rit=null,i.Iit=NaN,i.Nit=NaN,i.Dit=null,i.Cit=function(){i.lnt.removeEventListener("loadstart",i.Cit),i.lnt.removeEventListener("play",i.Cit),i.GQ.ent()},i.b8=function(){var t=i.GQ.yZ.LQ;if(t&&(!i.Sit||i.Sit.Jh>i.s1||i.Sit.$h<i.s1)){var n=i.GQ.Dk.D2(t,Yc.yl(i.s1));if(!n)return void i.lnt.addEventListener("timeupdate",i.b8);i.Sit={Jh:n.b6.nl(),$h:n.b6.Df(Yc.yl(n.np.duration)).nl(),dz:n.np.dz,DY:null},i.dispatchEvent({type:"T8",Zk:n.np})}},i.att=function(){var t=i.GQ.yZ,n=t.MQ.Pj.length?t.MQ.Pj:t.dY.Pj,r=i.lnt.$y,e=i.lnt.Ky,u=n&&n.filter(function(t){var n=t.resolution;return n&&n.width===r&&n.height===e}),s=u&&u.length?u[0]:null;s!==i.Rit&&(i.Rit=s,i.dispatchEvent({type:"NQ",pY:s}))},i.Oit=function(t){i.dispatchEvent({type:"NQ",pY:t.pY})},i.Pit=function(){if(i.lnt){var t=i.lnt.HT,n=t.length?t.end(t.length-1):NaN;isFinite(n)&&n!==i.Nit&&(i.Nit=n,i.Iit=ml())}},i.xit=function(){i.WP=!0},i.Bit=function(){i.WP&&(i.WP=!1,i.Lit())},i.GQ=n,i.Mit=new rx(n.yZ),n.addEventListener("WP",i.xit),n.addEventListener("UT",i.Bit),i}ut(n,t);var i=n.prototype;return i.Lnt=function(t){var n=this.lnt.HT;return n.length?Rc(t,n.start(0),n.end(n.length-1)):0},i.Lit=function(){if(this.lnt){var t=this.lnt.currentTime,n=this.lnt.paused;this.lnt.load(),this.lnt.currentTime=t,n||this.lnt.play()}},i.Uit=function(){this.lnt&&(this.lnt.addEventListener("loadstart",this.Cit),this.lnt.addEventListener("play",this.Cit),this.lnt.addEventListener("timeupdate",this.b8),this.lnt.addEventListener("timeupdate",this.att),f(this.Dit),this.Dit=h(this.Pit,250))},i.Fit=function(){f(this.Dit),this.lnt&&(this.lnt.removeEventListener("loadstart",this.Cit),this.lnt.removeEventListener("play",this.Cit),this.lnt.removeEventListener("timeupdate",this.b8),this.lnt.removeEventListener("timeupdate",this.att))},i.Vs=function(t){t=t||"none",this.Fit(),this.Uit(),this.GQ.removeEventListener("vnt",this.Oit),this.GQ.addEventListener("vnt",this.Oit),"none"!==t&&this.Cit()},i.Va=function(){this.Du(),this.Mit.Va(),this.hit=null,this.GQ.removeEventListener("vnt",this.Oit)},i.Fa=function(){this.gnt=0,this.wnt=1,this.WP=!1,this.Sit=null,this.Rit=null,this.Iit=NaN,this.Nit=NaN,f(this.Dit),this.Mit.Fa()},i.dT=function(){},i.lT=function(){},i.YZ=function(){},i.Qnt=function(){},i.T6=function(t){var n=this.GQ.yZ.LQ;return this.GQ.Dk.T6(n,t).nl()},i.B8=function(t){var n,i,r=this.GQ.yZ.LQ,e=this.GQ.Dk,u=t,s=this.Sit;if(s)s.DY||(s.DY=e.A6(r,s.dz)),n=s.Jh,i=s.DY;else{var o=e.D2(r,Yc.yl(u));if(!o)return null;n=o.b6.nl(),i=e.A6(r,o.np.dz)}if(!i)return null;var a=u-n;return new Date(i.getTime()+1e3*a)},i.vit=function(t){return NaN},i.dit=function(t){return NaN},b(n,[{key:"Vit",get:function(){return null}},{key:"BT",get:function(){return this.B8(this.s1)}},{key:"hit",get:function(){return this.lnt},set:function(t){this.Fit(),this.lnt=t,this.lnt&&(this.Mit.git=this.lnt,this.Mit.ab())}},{key:"Pnt",get:function(){return this.lnt?this.lnt.Bnt():this.gnt},set:function(t){"now"===t&&(t=this.GQ.w6?1/0:0),t=this.Lnt(t),this.gnt=t,this.lnt&&this.lnt.lit(t)}},{key:"s1",get:function(){return this.Pnt},set:function(t){t=this.Lnt(t),this.Pnt=t}},{key:"Ck",get:function(){return 1/0},set:function(t){}},{key:"Zy",get:function(){return this.lnt?this.lnt.Zy:this.wnt},set:function(t){t>0&&(this.wnt=t,this.lnt&&(this.lnt.Zy=t))}},{key:"HT",get:function(){var t,n,i,r=this.lnt?this.lnt.HT:null,e=this.GQ.Dk.HT;if(r&&r.length&&e.length)t=r.start(0),n=(i=this.Nit||r.end(r.length-1))+this.GQ.Dk.N6.nl(),isFinite(this.Iit)&&(i+=(ml()-this.Iit)/1e3);else{if(r&&r.length)return r;if(!e.length)return e;t=r.start(0),n=e.end(e.length-1),i=this.GQ.Dk.I6.nl()}return i=_.min(n,i),i=_.max(this.s1,i),new MD([{Jh:t,$h:i}])}},{key:"rY",get:function(){return NaN}},{key:"iit",get:function(){return NaN}},{key:"IZ",get:function(){return!1}}]),n}(lN),ux=function(t){function i(n,i,r,e,u){var s;return(s=t.call(this,n,i,r)||this).Hit=new Rr,s.qit=void 0,s.Wit=function(){return s.Xit()},s.ru="webvtt",s.lc=Ll.NONE,s.wc=As(e),s.Iu("Ma",s.Wit),s.$T=u,s}ut(i,t);var r=i.prototype;return r.Vs=function(){this.wc&&!this.qit&&(this.qit=this.zO(this.Hit.bs),this.qit.catch(On))},r.zO=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.wc,t.prev=1,this.lc=Ll.LOADING,r=new Xh({Zl:i,Qg:"GET",Zg:Ch.Hg,bs:n}),t.next=6,this.$T.SA(r);case 6:return e=t.sent,t.next=9,e.kn();case 9:u=t.sent,this.MJ(e,u),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),Cn(t.t0),this.Git(rl(t.t0,this.wc));case 17:case"end":return t.stop()}},t,this,[[1,13]])}));return function(n){return t.apply(this,arguments)}}(),r.YZ=function(){this.lc!==Ll.LOADED&&(this.lc=Ll.NONE,this.Hit.fs(),this.Hit=new Rr,this.qit=void 0)},r.Git=function(t){this.lc=Ll.ERROR,this.Su(new df(t))},r.Va=function(){this.YZ(),this.Hit.bu(),t.prototype.Va.call(this)},r.Xit=function(){switch(this.dc){case oo.fc:case oo.hc:this.Vs();break;case oo.cc:this.YZ()}},r.MJ=function(t,i){try{for(var r=yd(i)._c,e=0;e<r.length;e++){var u=r[e];this.Bb(u)}this.lc=Ll.LOADED}catch(i){this.Git(new Zd(n.ErrorCode.SUBTITLE_PARSE_ERROR,"Could not parse the "+el(this.ru)+" subtitle file.",this.wc,t.IA,i))}},i}(Zl);function sx(t){return wf(t.kind)}var ox=function(){function t(t,n,i,r){this.zit=t,this.fT=i,this.jit=n,this.$T=r,this.Fa()}var n=t.prototype;return n.Yit=function(t){if(this.Qit(),t)if(this.jit)for(var n=0;n<t.length;n++){var i=t[n];this.Zit(i)}else for(var r=0;r<t.length;r++){var e=t[r];this.Jit(e)}},n.Zit=function(t){var n=sx(t);if(Qd(n,t.label||""));else{var i=u.createElement("track");i.kind=n,i.label=t.label,i.src=t.src,i.srclang=t.srclang,i.default=!!t.default,this.zit.appendChild(i)}},n.Jit=function(t){var n=sx(t),i=new ux(n,t.label,t.srclang,t.src,this.$T);t.default&&(i.dc=oo.fc),this.fT.La(i)},n.Qit=function(){for(var t=this.fT.Ha,n=t.length-1;n>=0;n--){var i=t[n];"static"===i.Kit&&this.fT.Ua(i)}},n.$it=function(){this.Qit()},n.Fa=function(){this.Qit()},t}(),ax=function(){function t(t){this.FZ=t}var n=t.prototype;return n.Iu=function(t,n){this.FZ.addEventListener(t,n)},n.Cu=function(t,n){this.FZ.removeEventListener(t,n)},b(t,[{key:"Gy",get:function(){return this.FZ.currentMonotonicTime}},{key:"Qy",get:function(){return this.FZ.paused}},{key:"Jy",get:function(){return this.FZ.seeking}}]),t}(),cx=function(t){function n(n,i){var r;(r=t.call(this)||this).trt=!0,r.nrt=function(t){return r.irt(t)},r.rrt=function(){return r.ert()},r.urt=function(){return r.ort()},r.art=function(){return r.crt()},r.yit=function(t){return r.mit(t.Ca)},r.hrt=function(t){return r.frt(t.Ca)},r.vrt=function(){return r.drt()},r.lrt=n,r.fT=i,r.lrt.addEventListener("seeking",r.vrt),r.lrt.addEventListener("seeked",r.vrt),r._rt=new Ol(new ax(n));for(var e=0,u=r.fT.Ha;e<u.length;e++){var s=u[e];r.mit(s)}return r.fT.Iu("Oa",r.yit),r.fT.Iu("Pa",r.hrt),r}ut(n,t);var i=n.prototype;return i.irt=function(t){this.fT.La(t.Ca)},i.ert=function(){for(var t=this.fT.Ha,n=t.length-1;n>=0;n--){var i=t[n];"static"!==i.Kit&&this.fT.Ua(i)}},i.ort=function(){var t=this.hit,n=[],i=t&&t.fT;if(i)for(var r=0;r<i.length;r++){var e=i[r]||i.item(r);if("metadata"!==e.kind){var u=e.THEOplayerTextTrack;if(!u){var s=this.DF(e);u=new yR(e,s,this._F),e.THEOplayerTextTrack=u,this.fT.La(u)}n.push(u)}}for(var o=0,a=this.fT.Ha;o<a.length;o++){var c=a[o];mR(c)&&-1===n.indexOf(c)&&this.fT.Ua(c)}},i.DF=function(t){for(var n=this.hit.LT.getElementsByTagName("track"),i=0;i<n.length;i++){var r=n[i]||n.item(i);if(r.track===t)return r}},i.crt=function(){for(var t=0,n=this.fT.Ha;t<n.length;t++){var i=n[t];mR(i)&&i.gF()}},i.drt=function(){this.grt()},i.mit=function(t){t instanceof Zl&&this._rt.La(t)},i.frt=function(t){t instanceof Zl&&this._rt.Ua(t)},i.grt=function(){var t=this.fT.Ha;if(t.length)for(var n=this.lrt.seekable,i=n.length?n.start(0):0,r=0;r<t.length;r++){var e=t[r];if(e instanceof Zl){for(var u=[],s=0,o=e._c.Ha;s<o.length;s++){var a=o[s];if(!(a.Ck<i))break;u.push(a)}for(var c=0;c<u.length;c++){var h=u[c];e.Mb(h)}}}},i.Va=function(){this.lrt.removeEventListener("seeking",this.vrt),this.lrt.removeEventListener("seeked",this.vrt);for(var t=0,n=this.fT.Ha;t<n.length;t++){var i=n[t];this.frt(i)}this.fT.Cu("Oa",this.yit),this.fT.Cu("Pa",this.hrt),this._rt.Va(),this.yZ=null,this.hit=null},b(n,[{key:"yZ",get:function(){return this.wrt},set:function(t){var n=this.wrt;if(n){for(var i=0,r=n.fT;i<r.length;i++){var e=r[i];this.fT.Ua(e)}n.removeEventListener("cQ",this.nrt),n.removeEventListener("Va",this.rrt)}if(this.wrt=t,t){for(var u=0,s=t.fT;u<s.length;u++){var o=s[u];this.fT.La(o)}t.addEventListener("cQ",this.nrt),t.addEventListener("Va",this.rrt)}}},{key:"hit",get:function(){return this.lnt},set:function(t){var n=this.lnt;n&&n.fT&&n.fT.removeEventListener&&(n.fT.removeEventListener("addtrack",this.urt),n.fT.removeEventListener("removetrack",this.urt),n.fT.removeEventListener("change",this.art)),this.lnt=t,t&&t.fT&&t.fT.addEventListener&&(t.fT.addEventListener("addtrack",this.urt),t.fT.addEventListener("removetrack",this.urt),t.fT.addEventListener("change",this.art)),this.ort(),this.crt()}},{key:"_F",get:function(){return this.trt},set:function(t){if(this.trt!==t){this.trt=t;for(var n=0,i=this.fT.Ha;n<i.length;n++){var r=i[n];mR(r)&&(r._F=t)}}}}]),n}(lN),hx=function(){function t(t,n){this.yrt=[],this.mrt=new xh,this.prt=Rt(),this.krt=new Rr,this.tw=!(!t||t.crossOrigin!==lf.gv&&!t.Art),this.tS=n}var n=t.prototype;return n.brt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var e,u,s,o,a,c,h,f,d;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=r.aa(n),u=0,s=this.yrt;u<s.length;u++)null===(o=s[u]).an||void 0===o.an?e.searchParams.delete(o.Trt):e.searchParams.set(o.Trt,o.an);return t.prev=2,a=new Xh({Zl:e.href,Zg:Ch.Ug,Yg:this.mrt,tw:this.tw,Qg:"GET",bs:i,ru:"content-protection",Kg:"aes128-key"}),t.next=6,this.tS.SA(a);case 6:return c=t.sent,t.next=9,c.kn();case 9:return h=t.sent,f=new m(h),d=new m(16),16!==f.length&&tt("AES-128 decryption key length must be 16 bytes, but was "+f.length+" bytes. URL: ",e.href),f.length>16&&(f=wr(f,0,16)),d.set(f,16-f.length),t.abrupt("return",d);case 19:throw t.prev=19,t.t0=t.catch(2),Cn(t.t0),new v('Playback has been stalled due to failure to retrieve encryption key from "'+e.href);case 23:case"end":return t.stop()}},t,this,[[2,19]])}));return function(n,i){return t.apply(this,arguments)}}(),n.getKey=function(t){var n=t.absoluteURI;if(!n)return Tt.reject(new BI("INVALID_KEY",{code:"CAD1603"}));var i=this.prt.get(n);return i||(i=this.brt(n,this.krt.bs),this.prt.set(n,i)),i},n.Va=function(){this.krt.fs(),this.prt.clear()},n.Ert=function(t,n){this.yrt.push({Trt:t,an:n})},n.Srt=function(t,n){this.mrt.append(t,n)},t}(),fx=function(t){this.lrt=t},vx=u.createElement("video");var dx=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.G7=function(t){return!!function(t){return vx.canPlayType('video/mp4;codecs="'+t.codecs+'"')}(t)||(t.disabled="AvoidUnsupportedCodecsRule",!1)},n}(fx);_N.$t.DU("AvoidUnsupportedCodecsRule",dx);var lx=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.G7=function(t,n,i,r){return!("U3"===r.g2)||t.bandwidth<2e6},n}(fx);_N.$t.DU("AvoidHighBitrateStreamsRule",lx);var _x=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.Rrt=function(t){if(!t.resolution)return!0;var n=this.lrt.element.getBoundingClientRect(),i=e.innerWidth||u.documentElement.clientWidth,r=e.innerHeight||u.documentElement.clientHeight,s=_.max(0,_.min(n.right,i)-_.max(0,n.left)),o=_.max(0,_.min(n.bottom,r)-_.max(0,n.top)),a=CS.FU;return t.resolution.width<=s*a&&t.resolution.height<=o*a},i.G7=function(t){return this.Rrt(t)},n}(fx);_N.$t.DU("AvoidVideoResolutionGreaterThanDisplaySizeRule",_x);var gx=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.G7=function(t,n,i){if(i.H1<=0)return!1;var r=i&&.8*i.H1;return!(r&&!y(r)&&t.bandwidth)||r>t.bandwidth*this.lrt.playbackRate},n}(fx);_N.$t.DU("DownloadMetricRule",gx);var wx=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.G7=function(t){return!0},n}(fx);_N.$t.DU("LimitVideoQualityToDisplaySizeRule",wx);var yx=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.G7=function(t,n){return!n||(n.xY===RN.Py||t.xY===RN.Py||n.xY===t.xY)},n}(fx);function mx(t){return!!t&&("object"==typeof t&&"src"in t&&"type"in t)}function px(t,n){var i=n;for(var r in t)F(t[r])?(i[r]=i[r]||{},px(t[r],i[r])):P.call(i,r)||(i[r]=t[r]);return i}function kx(t,n){var i=px(n,t||{});return i.crossOrigin=function(t){var n=t&&t.crossOrigin;switch(n){case lf.wv:case lf.gv:break;default:n=lf._v}return t&&t.withCredentials&&(n=lf.gv),t&&t.vr&&t.vr[360]&&n===lf._v&&(n=lf.wv),n}(i),i}function Ax(t){q(t)&&t.then(G,G)}_N.$t.DU("OnlyAllowSameTrackTypeRenditionsRule",yx);var bx=500,Tx=["abort","durationchange","ended","loadstart","pause","play","progress","ratechange","seeked","seeking","suspend","timeupdate","volumechange","webkitpresentationmodechanged"],Ex=function(t){function n(n,i){var r;return(r=t.call(this)||this).Irt=void 0,r.GR=void 0,r.loading=!1,r.loaded=!1,r.configuration={useNativeVideoPlayback:!0},r.DE=function(){var t=r.uR.vI.error&&r.uR.vI.error.code;t&&r.Git(new BI("PLAYBACK_ISSUE",{code:"VEE"+t}))},r.Nrt=function(t){r.dispatchEvent({type:t.type,error:r.uR.vI.error})},r.Drt=function(){c(r.Irt),r.Irt=void 0,r.uR.vI.removeEventListener("timeupdate",r.Drt),r.uR.Cu("playing",r.Drt)},r.Crt=function(){void 0!==r.Irt&&r.Drt(),r.Irt=a(function(){r.uR.vI.currentTime+=.1,r.Drt()},bx),r.uR.vI.addEventListener("timeupdate",r.Drt),r.uR.Iu("playing",r.Drt)},r.Ort=function(){switch(r.uR.vI.readyState){case Qa.pv:case Qa.kv:case Qa.Av:r.Crt();break;case Qa.mv:case Qa.yv:}},r.Prt=n,r.uR=i,r}ut(n,t);var i=n.prototype;return i.setup=function(){this.oQ(),this.uR.vI.parentNode!==this.Prt&&this.Prt.appendChild(this.uR.vI),this.loaded=!1,this.uR.vI.preload="metadata",this.uR.vI.addEventListener("play",this.Ort),this.uR.vI.addEventListener("loadeddata",this.Ort),this.dispatchEvent("xrt")},i.oQ=function(){for(var t=0;t<Tx.length;t++){var n=Tx[t];this.uR.vI.addEventListener(n,this.Nrt,!0)}this.uR.vI.addEventListener("error",this.DE,!0),this.uR.Iu("readystatechange",this.Nrt),this.uR.Iu("playing",this.Nrt)},i.Brt=function(){for(var t=0;t<Tx.length;t++){var n=Tx[t];this.uR.vI.removeEventListener(n,this.Nrt,!0)}this.uR.vI.removeEventListener("error",this.DE,!0),this.uR.Cu("readystatechange",this.Nrt),this.uR.Cu("playing",this.Nrt)},i.Git=function(t){this.GR=t,this.dispatchEvent({type:"error",error:t})},i.v5=function(){return Tt.resolve()},i.load=function(){this.uR.vI.load(),this.loaded=!0},i.unload=function(){return this.Drt(),this.Du(),this.Brt(),this.uR.vI.removeEventListener("play",this.Ort),this.uR.vI.removeEventListener("loadeddata",this.Ort),_e(this.uR.vI),this.uR.vI},i.play=function(){var t=this.Zy;Ax(this.uR.vI.play()),this.Zy=t},i.pause=function(){this.uR.vI.pause()},i._T=function(){this.pause()},i.reset=function(){this.loading=!1,this.loaded=!1;try{this.lit(0)}catch(t){}this.dispatchEvent("reset")},i.ST=function(){return this.uR.vI},i.Bnt=function(){return this.uR.vI.currentTime},i.lit=function(t){this.uR.vI.currentTime=t},i.canPlayCodecs=function(t){return this.uR.vI.canPlayType('video/mp4; codecs="'+t+'"')},b(n,[{key:"$nt",get:function(){return!0}},{key:"LT",get:function(){return this.uR.vI}},{key:"xT",get:function(){return this.uR.vI.buffered}},{key:"tm",get:function(){return this.uR.vI.volume},set:function(t){this.uR.vI.volume=t}},{key:"duration",get:function(){return this.uR.vI.duration}},{key:"muted",get:function(){return this.uR.vI.muted},set:function(t){this.uR.vI.muted=t}},{key:"paused",get:function(){return this.uR.vI.paused}},{key:"played",get:function(){return this.uR.vI.played}},{key:"poster",get:function(){return this.uR.vI.poster},set:function(t){t?this.uR.vI.poster=t:this.uR.vI.removeAttribute("poster")}},{key:"controls",get:function(){return this.uR.vI.controls},set:function(t){t?this.uR.vI.controls=t:this.uR.vI.removeAttribute("controls")}},{key:"ended",get:function(){return this.uR.vI.ended}},{key:"seeking",get:function(){return this.uR.vI.seeking}},{key:"error",get:function(){return this.uR.vI.error}},{key:"width",get:function(){return this.uR.vI.offsetWidth}},{key:"height",get:function(){return this.uR.vI.offsetHeight}},{key:"src",get:function(){return this.uR.vI.src},set:function(t){this.uR.vI.src=t}},{key:"$y",get:function(){return this.uR.vI.videoWidth}},{key:"Ky",get:function(){return this.uR.vI.videoHeight}},{key:"fT",get:function(){return this.uR.vI.textTracks}},{key:"w6",get:function(){return this.uR.vI.duration===1/0}},{key:"HT",get:function(){var t=this.uR.vI.seekable,n=t.length&&t.start(0)||0,i=t.length&&t.end(t.length-1)||0;return i===1/0&&(i=this.Bnt()||0),new MD([{Jh:n,$h:i}])}},{key:"Zy",get:function(){return this.uR.vI.playbackRate},set:function(t){t>0&&(this.uR.vI.playbackRate=t)}},{key:"lc",get:function(){return this.uR.lc}},{key:"Lrt",get:function(){return this.uR.vI.webkitSupportsPresentationMode&&this.uR.vI.webkitSupportsPresentationMode("picture-in-picture")}},{key:"Mrt",get:function(){return"picture-in-picture"===this.uR.vI.webkitPresentationMode}},{key:"Urt",get:function(){return this.uR.vI.webkitPresentationMode},set:function(t){["inline","picture-in-picture","fullscreen"].indexOf(t)>-1&&this.uR.vI.webkitSetPresentationMode(t)}}]),n}(lN),Sx=function(){function t(){this.Frt=!1,this.Vrt=null,this.Hrt=null,this.qrt=null,this.oE=[],this.Wrt=null}var n=t.prototype;return n.Xrt=function(){if(!this.Frt)return!1;for(var t=this.Vrt,n=this.Hrt,i=0;i<t.sourceBuffers.length;i++)if(t.sourceBuffers[i]===n)return!0;return!1},n.Grt=function(t){switch(t.ru){case 0:return this.zrt(t.kn,t.b6,t.JP);case 1:return this.jrt(t.Yrt);case 2:return this.Qrt(t.Zrt,t.Jrt);case 3:return this.aE();case 4:return this.Krt(t.JP)}},n.zrt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.Hrt,y(i)||(e.timestampOffset=i),e.appendBuffer(n),t.next=6,this.$rt();case 6:r(),t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(0),r(t.t0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n,i,r){return t.apply(this,arguments)}}(),n.jrt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.Hrt,r=i.buffered,!(r.length>0)){t.next=11;break}if(e=r.start(0),u=_.min(r.end(0),n),!((s=u-e)>.5||u<=n&&s>0)){t.next=11;break}return i.remove(e,u),t.next=11,this.$rt();case 11:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Qrt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Vrt,r=this.Hrt,e=r.buffered,!((u=e.length)>0)){t.next=12;break}if(s=_.max(e.start(0),n),o=_.min(e.end(u-1),i),!(o-s>0)){t.next=12;break}return r.remove(s,o),t.next=12,this.$rt();case 12:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.aE=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.Vrt,i=this.Hrt,n.open&&"open"===n.readyState){t.next=4;break}return t.abrupt("return");case 4:if(t.prev=4,r=i.updating,i.abort(),!r){t.next=10;break}return t.next=10,Hs(i,"updateend");case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4);case 15:case"end":return t.stop()}},t,this,[[4,12]])}));return function(){return t.apply(this,arguments)}}(),n.Krt=function(t){return Tt.resolve(t())},n.tet=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TH(n)){t.next=5;break}return t.next=3,Pr(100);case 3:t.next=0;break;case 5:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.TH=function(t){var n=this.Vrt;if(!n.open||"open"!==n.readyState||!this.Xrt())return!0;for(var i=0;i<n.sourceBuffers.length;i++)if(n.sourceBuffers[i].updating)return!1;return t?n.endOfStream(t):n.endOfStream(),!0},n.$rt=function(){var t=this;return new Tt(function(n,i){var r,e=t.Hrt,u=!1,s=function(){u=!0},o=function(){u=!1,r="error"},a=function(){u=!1,r="aborted"},c=function(){h(),u&&!r?n():i(new v(r))},h=function(){e.removeEventListener("update",s),e.removeEventListener("error",o),e.removeEventListener("abort",a),e.removeEventListener("updateend",c)};e.addEventListener("update",s),e.addEventListener("error",o),e.addEventListener("abort",a),e.addEventListener("updateend",c)})},n.net=function(){var t=this;this.qrt||(0!==this.oE.length||this.Wrt)&&this.Xrt()&&(this.qrt=this.iet().then(function(){t.qrt=null}))},n.iet=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if(!(this.oE.length>0)){t.next=9;break}if(this.Xrt()){t.next=4;break}return t.abrupt("return");case 4:return n=this.oE.shift(),t.next=7,this.Grt(n);case 7:t.next=1;break;case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t.catch(0),t.next=16,this.tet("decode").catch(G);case 16:if(!this.Wrt){t.next=26;break}return t.prev=17,t.next=20,this.tet(this.Wrt.Vu);case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(17);case 25:this.Wrt=null;case 26:case"end":return t.stop()}},t,this,[[0,11],[17,22]])}));return function(){return t.apply(this,arguments)}}(),n.ab=function(t,n){this.Frt||(this.Frt=!0,this.Vrt=t,this.Hrt=n,this.net())},n.Df=function(t,n,i){this.oE.push({ru:0,kn:t,b6:n,JP:i}),this.net()},n.ret=function(t,n){this.oE.push({ru:2,Zrt:t,Jrt:n}),this.net()},n.eet=function(t){this.oE.push({ru:1,Yrt:t}),this.net()},n.fs=function(){this.oE.push({ru:3}),this.net()},n.uet=function(t){this.oE.push({ru:4,JP:t}),this.net()},n.k8=function(t){this.Wrt={Vu:t},this.net()},n.Zu=function(){this.oE.length=0,this.Wrt=null},t}();var Rx=function(t){function n(n){var i;return(i=t.call(this)||this).Hrt=null,i.oet=new Sx,i.Ck=NaN,i.aet=null,i.Eu=function(t){return i.dispatchEvent(t)},i.cet=function(){return i.e2()},i.Vrt=n,i.Fa(),i}ut(n,t);var i=n.prototype;return i.het=function(t){if(t)return this.dispatchEvent({type:"error",error:t})},i.v5=function(t,n,i,r){var e=this;if(!this.Hrt||!n)return Tt.resolve();var u=n.initializer.kn,s=function(t,n){if(!t)return!0;var i=t.length;if(i!==n.length)return!0;for(var r=0;r<i;r+=1)if(t[r]!==n[r])return!0;return!1}(this.aet,u);if(r&&(O.Wt||this.oet.fs()),r)if(O.Wt);else{var o=t&&t.Jh,a=t&&t.Jh+t.e_-.5;this.oet.ret(o,a)}return s&&(this.oet.Df(u,i,this.het.bind(this)),this.aet=u),new Tt(function(t,r){e.oet.Df(n.m4s.kn,i,function(n){n?r(n):t()})})},i.cV=function(){var t=this;return new Tt(function(n){t.oet.uet(function(){var i=t.xT;i&&i.length&&(t.Ck=i.end(i.length-1)),n()})})},i.xH=function(t){if(!this.Hrt){try{this.Hrt=this.Vrt.addSourceBuffer(t),this.Hrt.addEventListener("updatestart",this.Eu),this.Hrt.addEventListener("updateend",this.Eu)}catch(t){return this.dispatchEvent({type:"error",error:t}),!1}this.Vrt.addEventListener("sourceclose",this.cet),this.oet.ab(this.Vrt,this.Hrt)}return!0},i.Xrt=function(){for(var t=0;t<this.Vrt.sourceBuffers.length;t++)if(this.Vrt.sourceBuffers[t]===this.Hrt)return!0;return!1},i.Hs=function(t){var n=this,i=this.xT;if(!(this.Hrt&&i&&i.length))return t&&t();this.Hrt.remove(0,i.end(i.length-1)),t&&this.Hrt.addEventListener("updateend",function i(r){n.Hrt.removeEventListener("updateend",i),t()})},i.Fa=function(t){this.aet=null,this.Ck=NaN,this.e2(),this.Hs(t)},i.eet=function(t){this.Hrt&&this.oet.eet(t)},i.k8=function(t){this.Hrt&&this.oet.k8(t)},i.e2=function(){this.oet.Zu(),"open"===this.Vrt.readyState&&this.Hrt&&this.Hrt.updating&&this.Hrt.abort()},b(n,[{key:"xT",get:function(){return this.Hrt&&this.Xrt()?new MD(GD(this.Hrt.buffered)):null}},{key:"Wx",get:function(){return this.Hrt&&this.Hrt.updating}},{key:"zy",get:function(){var t=this.xT;return!t||!y(this.Ck)&&WD(t,this.Ck)}}]),n}(lN),Ix="mp4a.40.34";var Nx=function(t){function n(n){var i;return(i=t.call(this)||this).fet=!1,i.nB=function(){var t=i.fet;i.fet=i.Wx,!t&&i.fet?i.dispatchEvent("updatestart"):t&&!i.fet&&i.dispatchEvent("updateend")},i.mediasource=n,i.audioTrackBuffer=new Rx(n),i.videoTrackBuffer=new Rx(n),i.audioTrackBuffer.addEventListener("updatestart",i.nB),i.videoTrackBuffer.addEventListener("updatestart",i.nB),i.audioTrackBuffer.addEventListener("updateend",i.nB),i.videoTrackBuffer.addEventListener("updateend",i.nB),i.Fa(),i}ut(n,t);var i=n.prototype;return i.v5=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.mediasource.open){t.next=2;break}return t.abrupt("return");case 2:return i=[],n.Bj&&i.push(this.audioTrackBuffer.v5(n.metadata.Bj,n.Bj,n.metadata.Bj&&n.metadata.Bj.HK===Ix?n.metadata.Bj.Jh:NaN,n.metadata.O$)),n.Lj&&i.push(this.videoTrackBuffer.v5(n.metadata.Lj,n.Lj,NaN,n.metadata.O$)),t.next=7,Tt.all(i);case 7:this.zy&&(this.audioTrackBuffer.k8(),this.videoTrackBuffer.k8());case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.k8=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],n&&r.push(this.audioTrackBuffer.cV()),i&&r.push(this.videoTrackBuffer.cV()),t.next=5,Tt.all(r);case 5:this.zy&&(this.audioTrackBuffer.k8(),this.videoTrackBuffer.k8());case 6:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ab=function(t){var n,i={};for(var r in t)if(P.call(t,r)){var e=t[r];if(e.Lj){var u='video/mp4; codecs="'+e.Lj+'"';this.videoTrackBuffer.xH(u),i.Lj=this.videoTrackBuffer}if(e.Bj){var s=(n=e.Bj)!==Ix||Pw?'audio/mp4; codecs="'+n+'"':"audio/mpeg";this.audioTrackBuffer.xH(s),i.Bj=this.audioTrackBuffer}0}return i},i.Fa=function(t){var n=!1,i=!1;this.fet=!1,this.audioTrackBuffer.Fa(function(){if(n=!0,i&&t)return t()}),this.videoTrackBuffer.Fa(function(){if(i=!0,n&&t)return t()})},i.eet=function(t){this.audioTrackBuffer.eet(t),this.videoTrackBuffer.eet(t)},i.e2=function(t){t&&-1===t.indexOf("audio")||this.audioTrackBuffer.e2(),t&&-1===t.indexOf("video")||this.videoTrackBuffer.e2()},b(n,[{key:"xT",get:function(){var t=this.audioTrackBuffer.xT,n=this.videoTrackBuffer.xT;return t&&n?HD(t,n):t||n||UD}},{key:"vet",get:function(){return this.audioTrackBuffer.xT||UD}},{key:"ZF",get:function(){return this.videoTrackBuffer.xT||UD}},{key:"Wx",get:function(){return this.audioTrackBuffer.Wx||this.videoTrackBuffer.Wx}},{key:"zy",get:function(){return this.audioTrackBuffer.zy&&this.videoTrackBuffer.zy}}]),n}(lN),Dx=1,Cx=.05,Ox=.01;function Px(t,n){for(var i=n.length,r=0;r<i;r+=1)if(n.start(r)>t)return r;return-1}function xx(t,n,i,r){var e=XD(n,t),u=t;if(!(!r&&e>=0&&t<n.end(e)-Cx)){var s,o;do{if((s=Px(t,n))<0)return;t=(o=n.start(s)+Ox)+Cx}while(n.end(s)-o<Cx);for(var a=o-u,c=HD(new MD([{Jh:u,$h:o}]),i),h=0;h<c.length;h++)a-=c.end(h)-c.start(h);return r&&e>=0&&(a-=n.end(e)-u),a<Dx?o:void 0}}var Bx=100,Lx=1e-4,Mx=500,Ux=Uw,Fx=O.Bt,Vx=["resize","volumechange"],Hx=function(n){function i(t,i){var r;return(r=n.call(this)||this).det=!0,r.zy=!1,r.let=!1,r._et=!1,r.wet=null,r.Vu=!1,r.Vrt=null,r.Hrt=null,r.yet=null,r.Frt=!1,r.met=0,r.pet=Ca.Qf(),r.wnt=1,r.ket=!1,r.EX=!1,r.Jy=!1,r.Aet=new Rr,r.bet=!1,r.Tet=!1,r.Eet=void 0,r.Ret=null,r.Iet=null,r.Net=Qa.yv,r.Det=!1,r.configuration={},r.loading=!1,r.loaded=!1,r.Cet=function(){r.Det=!1,r.Oet(),r.Pet(),r.xet()},r.Bet=function(){r.Let(),r.xet(),r.Met()},r.KR=function(){r.Uet(),r.Let(),r.DX()?r.dispatchEvent("playing"):r.Det=!0},r.Fet=function(){r.Det=!1,r.Oet(),r._T()},r.bH=function(){r.Vet()},r.JR=function(){r.Het(),r.Met()},r.hH=function(){var t=r.Net,n=r.lc;t!==n&&(r.Net=n,r.dispatchEvent(new tf(r.Bnt(),n))),r.Met()},r.Pet=function(){r.met&&(f(r.met),r.met=0,Fx&&r.uR.vI.removeEventListener("timeupdate",r.YX))},r.qet=function(){r.met||(r.met=h(r.Wet,Mx)),Fx&&(r.uR.vI.addEventListener("timeupdate",r.YX),r.YX()),r.Wet()},r.Xet=function(){var t=r.Bnt(),n=WD(r.Get,t);r.uR.Qy||r.Jy&&!n||r.zet()||r.qet()},r.Wet=function(t){if(!(r.Ret||void 0===t&&r.Tet)){var n,i=r.Bnt(),e=r.xT;if(void 0===t){if(void 0===(n=xx(i,e,r.Get,r.let)))return}else{if(!WD(e,t))return;n=t}var u=function(){r.uR.vI.currentTime=n,r.jet(n),r.Pet(),r.Tet=!0};Nc(n,i)?r.Ret=a(function(){r.Ret=null,i=r.Bnt(),Nc(n,i)&&(n+=1e3*Mx,u())},Mx):u()}},r.NG=function(){var t=r.yet;if(r.Yet(),r.uR.vI.readyState===Qa.yv)return r.yet=t,void r.uR.vI.addEventListener("loadedmetadata",r.NG);_.abs(r.uR.vI.currentTime-t)<Lx?r.JR():(r.uR.vI.currentTime=t,r.Tet=!1,r.bH()),r.yet=null,r.TL(r.wnt),r.Qet(t)&&r._T()},r.Zet=function(){if(!r.let){var t=r.uR.vI,n=r.xT,i=t.currentTime;r.Jet(n,i)&&(r.let=!0,r.Let(),i=t.currentTime,r.Jet(n,i)?r.let=!0:r.let=!1,r.hH()),r.Iet=i}},r.Uet=function(){r.Oet(),r.wet=h(r.Zet,Bx)},r.Oet=function(){r.let=!1,f(r.wet)},r.Ket=function(){r.let&&(r.let=!1,r.hH())},r.YX=function(){var t=r.Hrt;if(t){var n=r.Bnt(),i=t.vet,e=t.ZF;(i.length>0&&!WD(i,n))!==(e.length>0&&!WD(e,n))&&!t.zy?r.QX():r.ZX()}},r.$et=function(){r.Vrt.open=!0,r.Vrt.removeEventListener("sourceopen",r.$et),r.Vrt.removeEventListener("webkitsourceopen",r.$et)},r.DE=function(t){var n=r.uR.vI.error&&r.uR.vI.error.code;n&&r.Git(new BI("PLAYBACK_ISSUE",{code:"VEE"+n}))},r.Eu=function(t){r.dispatchEvent({type:t.type})},r.tut=function(){r.Hrt&&r.Hrt.zy&&r.dispatchEvent("durationchange")},r.nut=function(){r.removeEventListener("iut",r.nut),r.bet=!1,r.rut(r.wnt)},r.eut=t,r.uR=i,r}ut(i,n);var r=i.prototype;return r.rut=function(t){this.EX&&(t=0),this.uR.Zy=t,0!==t||Ux?this.ket&&(this.ket=!1,Ax(this.uR.dT())):(this.ket=!this.uR.Qy||this.ket,this.uR.lT()),this.xet()},r.TL=function(t){this.wnt=t,this.bet||this.rut(t)},r.uut=function(t){var n=XD(this.Get,t);return-1===n?null:this.Get.end(n)},r.Vet=function(){this.Tet||this.Jy||(this.Jy=!0,this.dispatchEvent("seeking"))},r.Het=function(){this.Tet=!1,this.sut(),this.Jy&&(this.Jy=!1,this.dispatchEvent("seeked")),this.Xet()},r.Let=function(){this.Tet||this.Xet()},r.sut=function(){this.Eet&&(c(this.Eet),this.Eet=void 0)},r.jet=function(t){var n=this;this.Eet=a(function(){n.Wet(t+2)},750)},r.Met=function(){this.Det&&this.DX()&&(this.Det=!1,this.dispatchEvent("playing"))},r.xet=function(){var t=this.det,n=this.paused;this.det=n,t&&!n?this.dispatchEvent("play"):!t&&n&&this.dispatchEvent("pause")},r.hV=function(t,n){if(!(t+.001>n)){var i=new Ca([t,n]);this.pet=this.pet.Cf(i).Pf(Ca.jf(this.xT)),this.pet.kf(this.Bnt())&&this.Xet()}},r.Qet=function(t){return t>=this.uR.vI.duration-(this.paused?0:.5)},r.out=function(t){return y(this.uR.vI.duration)||(t=_.min(t,this.uR.vI.duration)),_.max(0,t)},r.Yet=function(){this.yet=null,this.uR.vI.removeEventListener("loadedmetadata",this.NG)},r.OX=function(){return this.lc<Qa.kv},r.DX=function(){return!(this.paused||this.ended||this.error||this.OX())},r.Jet=function(t,n){var i=function(t,n){for(var i=n.length,r=0;r<i;r+=1){if(n.start(r)>t)return r;if(t<n.end(r)-Cx)return r}return-1}(n,t),r=i<0?0:t.end(i),e=i<0?0:t.start(i);if(this.Iet&&this.Iet===n){if(this.Qet(n))return!1;if(e>n||r-n<1/6)return!0}return!1},r.QX=function(){this.EX||(this.EX=!0,this.rut(0),this.hH())},r.ZX=function(){this.EX&&(this.EX=!1,this.TL(this.wnt),this.hH())},r.aut=function(){var t=this.uR.vI;t.addEventListener("timeupdate",this.Ket),this.uR.Iu(Ia.xh,this.Cet),this.uR.Iu(Ia.Bh,this.Bet),this.uR.Iu(Ia.Dh,this.Fet),t.addEventListener("seeking",this.bH),t.addEventListener("seeked",this.JR);for(var n=0;n<Vx.length;n++){var i=Vx[n];t.addEventListener(i,this.Eu)}t.addEventListener("error",this.DE),t.addEventListener("durationchange",this.tut),this.uR.Iu(Ia.Xh,this.Eu),this.uR.Iu("readystatechange",this.hH),this.uR.Iu("playing",this.KR)},r.cut=function(){var t=this.uR.vI;t.removeEventListener("timeupdate",this.Ket),this.uR.Cu(Ia.xh,this.Cet),this.uR.Cu(Ia.Bh,this.Bet),this.uR.Cu(Ia.Dh,this.Fet),t.removeEventListener("seeking",this.bH),t.removeEventListener("seeked",this.JR);for(var n=0;n<Vx.length;n++){var i=Vx[n];t.removeEventListener(i,this.Eu)}t.removeEventListener("error",this.DE),t.removeEventListener("durationchange",this.tut),this.uR.Cu(Ia.Xh,this.Eu),this.uR.Cu("readystatechange",this.hH),this.uR.Cu("playing",this.KR)},r.hut=function(){var n=this.uR.vI,i=e.MediaSource||e.WebKitMediaSource||null;null!==i?t.URL&&t.URL.createObjectURL||t.webkitURL&&t.webkitURL.createObjectURL||t.createObjectURL?(this.fut(),this.Vrt=new i,this.Vrt.addEventListener("sourceopen",this.$et),this.Vrt.addEventListener("webkitsourceopen",this.$et),n.src=kD(this.Vrt),n.load()):this.Git(new BI("BROWSER_SUPPORT_ISSUE",{code:"MVE2720"})):this.Git(new BI("BROWSER_SUPPORT_ISSUE",{code:"MVE2650"}))},r.fut=function(){if(this.Frt=!1,this.Hrt&&(this.Hrt.Fa(),this.Hrt=null),this.Vrt){this.Aet.fs();var t=this.uR.vI;t.src&&(AD(t.src),_e(t)),this.Vrt=null}},r.setup=function(){this.hut(),this.aut(),this.uR.vI.parentNode!==this.eut&&this.eut.appendChild(this.uR.vI)},r.Git=function(t){this.Vu=t,this.dispatchEvent({type:"error",error:t})},r.zet=function(){return this.Hrt&&this.Hrt.Wx},r.vut=function(t){var n=this.Bnt()-_.max(30,3*t.pY.Bz.targetDuration);this.dispatchEvent("iut"),this.Hrt&&!t.C$&&this.Hrt.eet(n),this.Xet()},r.v5=function(t){if(!this.Vrt.open||"closed"===this.Vrt.readyState)return Tt.reject("dut");if(!this.Hrt)return Tt.reject("lut");var n=this._ut(t);return this._et||(this._et=!0,this.dispatchEvent({type:"canplay"},!0)),n},r._ut=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.metadata,(r=[]).push(this.Hrt.v5(n)),i.C$&&r.push(this.k8(!!n.Bj,!!n.Lj)),n=null,t.next=7,Tt.all(r);case 7:this.vut(i);case 8:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),r.k8=function(t,n){return this.Vrt.open&&"closed"!==this.Vrt.readyState?this.Hrt?this.Hrt.k8(t,n):Tt.reject("lut"):Tt.reject("dut")},r.play=function(){var t=this.uR.Zy;this.zy=!1,0!==this.uR.Zy||Ux?(Ax(this.uR.dT()),this.uR.Zy=t):this.ket=!0,this.xet()},r.pause=function(){0!==this.uR.Zy||Ux?this.uR.lT():this.ket=!1,this.xet()},r._T=function(){this.zy||(this.zy=!0,this.uR.lT(),this.dispatchEvent("ended"))},r.load=function(){this.dispatchEvent("loadstart"),this.loaded=!0},r.unload=function(){return f(this.wet),this.wet=null,this.Pet(),this.fut(),this.cut(),this.Du(),this.uR.vI},r.reset=function(){f(this.wet),this.wet=null,this.Pet(),this.Yet(),this.det=!0,this.zy=!1,this.let=!1,this._et=!1,this.Vu=!1,this.Jy=!1,this.Det=!1,this.ZX(),this.hut(),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},r.ST=function(){return this.uR.vI},r.Bnt=function(){return null===this.yet?this.uR.vI.currentTime:this.yet},r.lit=function(t){var n=this.uut(t);t=this.out(t),this.let=!1,this.uR.vI.error&&(this._et=!1,this.Vu=!1,this.hut()),this.zy&&(this.zy=this.Qet(t)),this.Pet(),null!==n&&(t=n),this.Yet(),this.yet=t,this.Jy=!0,this.dispatchEvent("ait"),this.dispatchEvent("seeking"),this.NG()},r.gut=function(t){return this.Vrt.open?Tt.resolve(null):Hs(this.Vrt,"sourceopen",t)},r.wut=function(t,n){n>0&&(this.Vrt.duration=n),this.Hrt=new Nx(this.Vrt);var i=this.Hrt.ab(t);return this.dispatchEvent("xrt"),this.Hrt.addEventListener("updatestart",this.Pet),this.Hrt.addEventListener("updateend",this.Xet),this.Frt=!0,this.dispatchEvent("Frt"),i},r.tit=function(t,n){var i=this;return this.Aet.fs(),this.Aet=new Rr,this.Hrt?Tt.resolve(null):this.gut(this.Aet.bs).then(function(){return i.wut(t,n)})},r.CQ=function(t){O.Wt&&(this.bet=!0,this.rut(0),this.removeEventListener("iut",this.nut),this.addEventListener("iut",this.nut),this.Hrt&&this.Hrt.e2(t))},r.canPlayCodecs=function(t){return this.uR.vI.canPlayType('video/mp4; codecs="'+t+'"')},b(i,[{key:"Get",get:function(){return this.pet.lf()}},{key:"lc",get:function(){var t=this.uR.lc;return t>Qa.pv&&(this.let||this.EX)?Qa.pv:t}},{key:"LT",get:function(){return this.uR.vI}},{key:"xT",get:function(){return this.Hrt?this.Hrt.xT:this.uR.vI.buffered}},{key:"vet",get:function(){return this.Hrt?this.Hrt.vet:UD}},{key:"ZF",get:function(){return this.Hrt?this.Hrt.ZF:UD}},{key:"volume",get:function(){return this.uR.vI.volume},set:function(t){this.uR.vI.volume=t}},{key:"duration",get:function(){return this.uR.vI.duration}},{key:"muted",get:function(){return this.uR.vI.muted},set:function(t){this.uR.vI.muted=t}},{key:"paused",get:function(){return this.uR.Qy&&!this.ket}},{key:"played",get:function(){return this.uR.vI.played}},{key:"poster",get:function(){return this.uR.vI.poster},set:function(t){t?this.uR.vI.poster=t:this.uR.vI.removeAttribute("poster")}},{key:"controls",get:function(){return this.uR.vI.controls},set:function(t){t?this.uR.vI.controls=t:this.uR.vI.removeAttribute("controls")}},{key:"ended",get:function(){return this.zy}},{key:"seeking",get:function(){return this.Jy}},{key:"error",get:function(){return this.Vu||this.uR.vI.error}},{key:"width",get:function(){return this.uR.vI.offsetWidth||this.uR.vI.parentNode.offsetWidth}},{key:"height",get:function(){return this.uR.vI.offsetHeight||this.uR.vI.parentNode.offsetHeight}},{key:"Zy",get:function(){return this.wnt},set:function(t){var n=this.wnt;t>0&&(this.TL(t),this.wnt!==n&&this.dispatchEvent("ratechange"))}},{key:"$y",get:function(){return this.uR.vI.videoWidth||0}},{key:"Ky",get:function(){return this.uR.vI.videoHeight||0}},{key:"$nt",get:function(){return this.Frt}}]),i}(lN),qx=["seeked","seeking","playing","pause","play","resize","warning","ended","durationchange","yut","CQ","readystatechange"],Wx=.04,Xx=.25,Gx=4,zx=.75,jx=1.5,Yx=.25,Qx=function(t){function n(){var n;return(n=t.call(this)||this).mut=null,n.kut=null,n.GH=!1,n.zH=1,n.dU=1,n.Aut=null,n.but=void 0,n.Nrt=function(t){n.dispatchEvent(t)},n.Tut=function(t){n.kut||n.dispatchEvent(t)},n.Eut=function(t){var i=t.error||n.kut.error;n.audioStream=null,n.Aut=i.message||i.toString(),n.dispatchEvent({type:"warning",warning:n.Aut})},n.Sut=function(){n.kut&&!n.kut.loaded||n.mut&&!n.mut.loaded||(n.kut&&(n.kut.removeEventListener("loaded",n.Sut),n.kut.play()),n.mut&&(n.mut.removeEventListener("loaded",n.Sut),n.mut.play()))},n.Rut=function(){n.Iut(),n.kut&&n.mut&&(n.kut.addEventListener("timeupdate",n.Nut),n.mut.addEventListener("timeupdate",n.Nut))},n.Iut=function(){c(n.but),n.kut&&n.kut.removeEventListener("timeupdate",n.Nut),n.mut&&(n.mut.Zy=n.dU,n.mut.removeEventListener("timeupdate",n.Nut))},n.Dut=function(){n.lc<Qa.kv&&n.Iut()},n.Nut=function(){if(c(n.but),n.kut&&n.mut){var t=n.kut.Zy,i=n.kut.Bnt()-n.mut.Bnt(),r=_.max(Gx,jx*t),e=_.min(Xx,zx*t);if(_.abs(i)<Wx)n.mut.Zy!==t&&(n.mut.Zy=t);else{var u=Yx,s=t*(i/u+1);(s<e||s>r)&&(u=i/((s=i>0?r:e)/t-1)),n.mut.Zy=s,n.but=a(n.Nut,1e3*u)}}else n.Iut()},n.addEventListener("playing",n.Rut),n.addEventListener("ended",n.Iut),n.addEventListener("readystatechange",n.Dut),n}ut(n,t);var i=n.prototype;return i.SQ=function(t,n){n?(t.addEventListener("timeupdate",this.Nrt),t.addEventListener("error",this.Eut)):(t.addEventListener("timeupdate",this.Tut),t.addEventListener("error",this.Nrt));for(var i=0;i<qx.length;i++){var r=qx[i];t.addEventListener(r,this.Nrt)}},i.Pu=function(t){t.removeEventListener("timeupdate",this.Nrt),t.removeEventListener("timeupdate",this.Tut),t.removeEventListener("timeupdate",this.Nut),t.removeEventListener("error",this.Nrt),t.removeEventListener("error",this.Eut),t.removeEventListener("loaded",this.Sut);for(var n=0;n<qx.length;n++){var i=qx[n];t.removeEventListener(i,this.Nrt)}},i.Cut=function(t){this.kut&&this.kut.Cut(t),this.mut&&this.mut.Cut(t)},i.play=function(){if(this.kut&&!this.kut.loaded||this.mut&&!this.mut.loaded)return this.kut&&this.kut.addEventListener("loaded",this.Sut),void(this.mut&&this.mut.addEventListener("loaded",this.Sut));this.Sut()},i.pause=function(){this.kut&&(this.kut.removeEventListener("loaded",this.Sut),this.kut.pause()),this.mut&&(this.mut.removeEventListener("loaded",this.Sut),this.mut.pause()),this.Iut()},i.load=function(t){t?(-1!==t.indexOf("audio")&&this.kut&&this.kut.load(),-1!==t.indexOf("video")&&this.mut&&this.mut.load()):(this.kut&&this.kut.load(),this.mut&&this.mut.load())},i.Va=function(t){this.Du(),this.Aut=null,t?(-1!==t.indexOf("audio")&&this.kut&&(this.kut.Va(),this.kut=null),-1!==t.indexOf("video")&&this.mut&&(this.mut.Va(),this.mut=null)):(this.kut&&(this.kut.Va(),this.kut=null),this.mut&&(this.mut.Va(),this.mut=null))},i.CQ=function(t){this.kut&&this.kut.pause(),this.mut&&this.mut.pause(),this.Iut(),t&&-1===t.indexOf("audio")||!this.kut||this.kut.CQ(),t&&-1===t.indexOf("video")||!this.mut||this.mut.CQ()},i.v5=function(t){this.kut&&t.Bj&&this.kut.v5(t),this.mut&&t.Lj&&this.mut.v5(t)},i.Out=function(t){return this.mut?this.mut.Out(t):""},i.Put=function(){return this.mut?this.mut.Put():0},i.xut=function(){return this.mut?this.mut.xut():0},i.ST=function(){return this.mut&&this.mut.ST()},i.Bnt=function(){return this.kut?this.kut.Bnt():this.mut?this.mut.Bnt():NaN},i.lit=function(t,n){this.kut&&this.kut.lit(t,n),this.mut&&this.mut.lit(t,n)},b(n,[{key:"xT",get:function(){return this.kut&&this.mut?HD(this.kut.xT,this.mut.xT):this.kut?this.kut.xT:this.mut?this.mut.xT:UD}},{key:"volume",get:function(){return this.zH},set:function(t){this.zH!==t&&(this.zH=t,this.kut&&(this.kut.volume=t),this.dispatchEvent("volumechange"))}},{key:"duration",get:function(){return this.kut&&this.kut.duration||this.mut&&this.mut.duration||NaN}},{key:"muted",get:function(){return this.GH},set:function(t){this.GH!==t&&(this.GH=t,this.kut&&(this.kut.muted=t),this.dispatchEvent("volumechange"))}},{key:"loaded",get:function(){return!(!this.kut&&!this.mut)&&(!(this.kut&&!this.kut.loaded)&&!(this.mut&&!this.mut.loaded))}},{key:"paused",get:function(){return!this.kut&&!this.mut||(this.kut&&this.kut.paused||this.mut&&this.mut.paused||!1)}},{key:"ended",get:function(){return this.kut&&this.kut.ended||this.mut&&this.mut.ended||!1}},{key:"seeking",get:function(){return this.kut&&this.kut.seeking||this.mut&&this.mut.seeking||!1}},{key:"error",get:function(){return this.kut&&this.kut.error||this.mut&&this.mut.error}},{key:"warning",get:function(){return this.Aut||this.kut&&this.kut.warning||this.mut&&this.mut.warning}},{key:"audioStream",get:function(){return this.kut},set:function(t){this.kut&&(this.Pu(this.kut),this.kut.Va()),this.kut=t,this.kut&&(this.kut.volume=this.zH,this.kut.muted=this.GH,this.kut.Zy=this.dU,this.SQ(this.kut,!0))}},{key:"videoStream",get:function(){return this.mut},set:function(t){this.mut&&(this.Pu(this.mut),this.mut.Va()),this.mut=t,this.mut&&(this.mut.Zy=this.dU,this.SQ(this.mut,!1))}},{key:"Zy",get:function(){return this.dU},set:function(t){this.dU!==t&&(t<0||(this.dU=t,this.kut&&(this.kut.Zy=t),this.mut&&(this.mut.Zy=t),this.dispatchEvent("ratechange")))}},{key:"lc",get:function(){return this.kut&&this.mut?_.min(this.kut.lc,this.mut.lc):this.kut?this.kut.lc:this.mut?this.mut.lc:Qa.yv}},{key:"$y",get:function(){return this.mut?this.mut.$y:0}},{key:"Ky",get:function(){return this.mut?this.mut.Ky:0}}]),n}(lN),Zx=function(){function t(t,n,i,r){var e=this;this.u_=void 0,this.SA=0,this.Jg=0,this.running=!1,this.But=function(t){return e.qs(t)},this.Lut=t,this.Mut=n,this.e_=i,this.JP=r,this.Uut=t.ju(),this.Fut=(n-this.Uut)/(i||1)}var n=t.prototype;return n.Vut=function(){return this.Lut.Kf(this.Mut),this.running=!1,this.Hut(),this.JP()},n.Jh=function(){var t=this;this.running=!0,this.e_?this.qut():dN(function(){t.running&&t.Vut()})},n.qs=function(t){if(this.Hut(),this.running){void 0===this.u_&&(this.u_=t);var n=this.Uut,i=this.Fut,r=this.Mut,e=this.Lut,u=n+_.max(0,t-this.u_)*i;if(n>=r&&u<=r||n<r&&u>=r)return this.Vut();if(e.Kf(u))return this.Vut();this.qut()}},n.qut=function(){this.SA=bl(this.But),this.Jg=kl(this.But)},n.Hut=function(){Tl(this.SA),Al(this.Jg)},t}();var Jx=function(t){function n(n,i){var r;return(r=t.call(this)||this).Wut=null,r.Xut=null,r.Gut=NaN,r.zut=!1,r.jut=!1,r.Yut=1,r.Qut=void 0,r.Zut=void 0,r.Jut=function(t){r.Kut(t)||r.dispatchEvent(t)},r.$ut=n,r.zo=i,r}ut(n,t);var i=n.prototype;return i.pause=function(){this.$ut.pause()},i.play=function(){Ax(this.$ut.play()),this.tst()},i.nst=function(t){if(!(this.lc<Qa.kv))return this.e2(),this.zut=!0,this.Jut({type:"canplay"}),t&&t();this.Qut=a(this.Zut,100)},i.Vs=function(t){this.jut=!0,this.zut=!1,this.$ut.removeEventListener("canplay",this.Zut),this.Zut=this.nst.bind(this,t),this.$ut.addEventListener("canplay",this.Zut),this.$ut.load(),this.Qut=a(this.Zut,100)},i.e2=function(){this.jut=!1,this.$ut.removeEventListener("canplay",this.Zut),void 0!==this.Qut&&(c(this.Qut),this.Qut=void 0)},i.ist=function(t){if(this.pause(),this.e2(),null===t)return this.Wut=null,void(this.zut=!1);this.zut=!1,this.Xut&&this.Xut.V2(this.$ut.src),this.Xut=t[this.zo],this.$ut.src=this.Xut.H2,this.Wut=t},i.ST=function(){return this.$ut},i.rst=function(t){this.Gut=_.max(t||0,0),this.$ut.currentTime=this.Gut},i.est=function(){return this.$ut.currentTime},i.ust=function(t){var n=this.Wut&&this.Wut.metadata,i=n&&n.Jh,r=n&&n[this.zo].Jh,e=n&&n[this.zo].e_;return!!this.xJ&&(!(t<i)&&t<r+_.min(e,this.$ut.duration))},i.tst=function(){this.Yut!==this.$ut.playbackRate&&(this.$ut.playbackRate=this.Yut,Fw&&this.Yut>0&&this.lc!==Qa.yv&&(this.$ut.currentTime=this.$ut.currentTime))},i.Kut=function(t){return!!(Fw&&"seeked"===t.type&&_.abs(this.$ut.currentTime-this.Gut)>.04)},i.addEventListener=function(n,i){this.cz(n)||this.$ut.addEventListener(n,this.Jut),t.prototype.addEventListener.call(this,n,i)},i.removeEventListener=function(n,i){t.prototype.removeEventListener.call(this,n,i),this.cz(n)||this.$ut.removeEventListener(n,this.Jut)},i.Du=function(){for(var n=0,i=this.hz();n<i.length;n++){var r=i[n];this.$ut.removeEventListener(r,this.Jut)}t.prototype.Du.call(this)},i.unload=function(){this.Xut&&this.Xut.V2(this.$ut.src),this.Du()},b(n,[{key:"volume",get:function(){return this.$ut.volume},set:function(t){this.$ut.volume=t}},{key:"muted",get:function(){return this.$ut.muted},set:function(t){this.$ut.muted=t}},{key:"style",get:function(){return this.$ut.style}},{key:"Jh",get:function(){return this.Wut?this.Wut.metadata[this.zo].Jh:NaN}},{key:"$h",get:function(){return this.Wut?this.Jh+this.Wut.metadata[this.zo].e_:NaN}},{key:"sst",get:function(){return this.Wut?this.Jh+this.ost:NaN},set:function(t){this.Wut?this.ost=t-this.Jh:this.ost=0}},{key:"ost",get:function(){return this.est()},set:function(t){this.rst(t)}},{key:"ast",get:function(){return this.Wut},set:function(t){this.ist(t)}},{key:"M2",get:function(){return this.Wut&&this.Wut.metadata.C$}},{key:"xJ",get:function(){return!(!this.zut||!this.Wut)}},{key:"cst",get:function(){return!(!this.jut||!this.Wut)}},{key:"Zy",get:function(){return this.Yut},set:function(t){t>=0&&this.Yut!==t&&(this.Yut=t,this.tst())}},{key:"Qy",get:function(){return this.$ut.paused}},{key:"zy",get:function(){return this.$ut.ended}},{key:"Vu",get:function(){return this.$ut.error}},{key:"$y",get:function(){return this.$ut.videoWidth}},{key:"Ky",get:function(){return this.$ut.videoHeight}},{key:"lc",get:function(){return this.$ut.readyState}}]),n}(lN);function Kx(t,n){return i=t.ast.metadata.pY,r=n.ast.metadata.pY,i.bandwidth&&r.bandwidth&&xc(i.bandwidth,r.bandwidth)||i.resolution&&r.resolution&&xc(i.resolution.width*i.resolution.height,r.resolution.width*r.resolution.height)||Pc(i.dz,r.dz)||xc(t.$h,n.$h);var i,r}function $x(t){return{Jh:t.Jh,$h:t.$h}}function tB(t,n){for(var i=0;i<t.length;i++){var r=t[i];if(r.Jh<=n&&n<r.$h)return i}return-1}function nB(t,n,i){return{Jh:n?i.metadata.S2:i.metadata[t].Jh,$h:i.metadata[t].Jh+i.metadata[t].e_}}function iB(t,n,i){return new MD([nB(t,n,i)])}function rB(t,n,i){for(var r=[],e=0;e<i.length;e++){var u=i[e];r.push(nB(t,n,u))}return VD(new MD(r))}function eB(t,n,i){if(!n)return!1;var r=n.metadata[t].Jh,e=r+n.metadata[t].e_;return r<=i&&i<=e}function uB(t,n){var i=XD(t,n);return i<0?n:t.end(i)}var sB=function(){function t(t){this.tX=[],this.hst=UD,this.fst=UD,this.ru=t}var n=t.prototype;return n.v5=function(t){var n,i;this.tX=function(t,n){for(var i=[],r=function(t,n,r){var e=i.length&&i[i.length-1];e&&e.ast===t?e.$h=r:i.push({ast:t,Jh:n,$h:r})},e=0;e<t.length;e++){var u=t[e];if(u.$h<=n.Jh)r(u.ast,u.Jh,u.$h);else if(u.Jh>=n.$h)n.Jh<n.$h&&(r(n.ast,n.Jh,n.$h),n.Jh=n.$h),r(u.ast,u.Jh,u.$h);else{var s=void 0,o=void 0;Kx(n,u)>=0?(s=u,o=n):(s=n,o=u);var a=s.Jh,c=o.Jh,h=_.min(o.$h,u.$h),f=_.min(s.$h,u.$h);a<c&&r(s.ast,a,c),c<h&&r(o.ast,c,h),h<f&&r(s.ast,h,f),n.Jh=_.max(n.Jh,u.$h)}}return n.Jh<n.$h&&r(n.ast,n.Jh,n.$h),i}(this.tX,function(t,n){var i=n.metadata[t].Jh;return{ast:n,Jh:i,$h:i+n.metadata[t].e_}}(this.ru,t)),this.hst=zD(this.hst,iB(this.ru,!1,t)),this.fst=zD(this.fst,iB(this.ru,!0,t)),this.fst=(n=this.fst,i=this.hst,HD(n,qD(i)))},n.vst=function(t){t=this.dst(t);var n=tB(this.tX,t);return n>=0?this.tX[n].ast:null},n.lst=function(t,n,i,r){t=this.dst(t);var e=this.tX,u=tB(e,t);if(u<0)return null;var s=e[u];if(!i||!eB(this.ru,i,t))return r&&eB(this.ru,r,t)?null:s.ast;if(i!==s.ast){if(r&&r===s.ast)return null;if(s.$h-t>n)return s.ast}for(var o=u+1;o<e.length;o++){var a=e[o];if(r&&r===a.ast)return null;if(a.$h-t>n)return a.ast;for(var c=[i],h=o+1;h<e.length;h++)c.push(e[h].ast);var f=rB(this.ru,!1,c);c.push(a.ast);var v=rB(this.ru,!1,c);if(uB(f,t)<uB(v,t))return a.ast}return null},n._st=function(t,n){for(var i=this.tX,r=i.length-1;r>=0;r--){var e=i[r];(e.$h<=t||e.Jh>=n)&&bn(i,r)}},n.Fa=function(){this.tX.length=0,this.hst=UD,this.fst=UD},n.dst=function(t){var n=xx(t,this.xT,this.fst,!1);return void 0===n?t:n},b(t,[{key:"xT",get:function(){var t=this.tX.map($x);return VD(new MD(t))}}]),t}(),oB=5,aB=30,cB=function(t){function n(n,i){var r,e;(r=t.call(this)||this).mo={Bj:{gst:100,wst:100,yst:100},Lj:{gst:500,wst:100,yst:200}},r.GR=null,r.Aut=null,r.mst=null,r.pst=null,r.kst=0,r.Ast=null,r.bst=!1,r.Tst=!1,r.Est=0,r.Sst=0,r.Rst=Qa.yv,r.eet=function(){var t=r.Bnt();r.Ist._st(t-oB,t+aB)},r.Nst={Dst:(e=st(r),{Vs:function(){e.Cst.addEventListener("ended",this.Ost),e.Pst.addEventListener("ended",this.xst)},Va:function(){e.Cst.removeEventListener("ended",this.Ost),e.Pst.removeEventListener("ended",this.xst)},Bst:function(){},Ost:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Cst})},xst:function(){e.pause(),e.dispatchEvent({type:"ended",origin:e.Pst})}}),Fb:{rn:"Fb",Vs:function(){},Va:function(){},Bst:function(){}},Lst:function(){var t=st(r),n=function n(){t.Cst.removeEventListener("play",n),t.Cst.removeEventListener("timeupdate",i),t.Cst.addEventListener("timeupdate",i)},i=function n(){var i,r;t.Cst.Qy||(!t.seeking&&t.Cst.ast?(i=t.Cst,(r=t.Pst).xJ&&hB(i,r)>=0&&t.Mst(t.Nst.Ust)):t.Cst.removeEventListener("timeupdate",n))};return{rn:"Lst",Vs:function(){t.Nst.Dst.Vs.call(this),this.Fst(),this.Bst()},Va:function(){t.Nst.Dst.Va.call(this),t.Cst.removeEventListener("play",n),t.Cst.removeEventListener("timeupdate",i)},Bst:function(){t.Cst.ast?t.Bst(t.Pst,t.Vst):t.Bst(t.Cst,t.Vst)},Ost:function(){var n=t.Pst.ast;if(n&&n.metadata.O$)return t.Pst.ust(t.Cst.sst)&&(t.Pst.sst=t.Cst.sst),t.Hst(),void t.Cst.play();t.Nst.Dst.Ost.call(this)},xst:function(){0},Fst:function(){t.Cst.removeEventListener("play",n),t.Cst.Qy?t.Cst.addEventListener("play",n):n.call(t.Cst)}}}(),Ust:function(){var t=st(r),n=function(){r.Mst(r.Nst.qst)};return{rn:"Ust",Vs:function(){t.Nst.Dst.Vs.call(this),t.Pst.addEventListener("seeked",n);var i=hB(t.Cst,t.Pst),r=t.mo[t.zo].gst/1e3,e=_.min(i+r,t.Pst.$h);try{t.Pst.ost=e}catch(n){t.Mst(t.Nst.Lst),t.Wst(n.message)}},Va:function(){t.Nst.Dst.Va.call(this),t.Pst.removeEventListener("seeked",n)},Bst:function(){},Ost:function(){t.Nst.Dst.Ost.call(this)},xst:function(){}}}(),qst:function(){var t,n=st(r),i=function(){u()},e=function(){u()},u=function(){Tl(t),r.Pst.sst-r.Cst.sst-1/60>0?t=bl(i):r.Mst(r.Nst.Xst)};return{rn:"qst",Vs:function(){n.Nst.Dst.Vs.call(this),n.Cst.addEventListener("timeupdate",e),u()},Va:function(){n.Nst.Dst.Va.call(this),Tl(t),n.Cst.removeEventListener("timeupdate",e)},Bst:function(){},Ost:function(){n.Nst.Dst.Ost.call(this)},xst:function(){n.Nst.Dst.xst.call(this)}}}(),Xst:function(){var t,n=st(r),i=function(){var t=r.Gst(r.Pst),n=r.mo[r.zo].wst/_.max(1,r.Cst.Zy);return function(t,n,i,r){return new Zx(t,n,i,r)}(t,t.zst,n,function(){r.Mst(r.Nst.jst),r.Nst.jst.Yst()})},e=function(){r.mst.Jh(),r.Mst(r.Nst.jst)};return{rn:"Xst",Vs:function(){n.Nst.Dst.Vs.call(this);var r=n.mo[n.zo].yst/_.max(1,n.Cst.Zy);n.mst=i(),t=a(e,r),n.Pst.play()},Va:function(){n.Nst.Dst.Va.call(this),c(t),t=0},Bst:function(){},Ost:function(){n.Nst.Dst.Ost.call(this)},xst:function(){n.Nst.Dst.xst.call(this)}}}(),jst:function(){var t=st(r);return{rn:"jst",Vs:function(){t.Nst.Dst.Vs.call(this)},Va:function(){t.Nst.Dst.Va.call(this),t.mst&&t.mst.Vut()},Bst:function(){},Ost:function(){t.Nst.Dst.Ost.call(this)},xst:function(){t.Nst.Dst.xst.call(this)},Yst:function(){t.mst=null,t.Hst()}}}()},r.Qst={Zst:function(){var t=st(r);return{Vs:function(){},Va:function(){},Bst:function(){t.Jst.Bst()},lit:function(n,i,r,e){t.kst=n,t.Ast=e,t.Mst(t.Nst.Fb);var u=t.Cst===t.Kst?i:r,s=t.Pst===t.Kst?i:r;u&&t.Cst.ust(n)?t.$st(t.Qst.tot):s&&t.Pst.ust(n)?t.$st(t.Qst.iot):t.$st(t.Qst.rot)}}}(),rot:function(){var t=st(r),n=function(){r.Vst(),r.Pst.xJ?(r.Pst.ust(r.kst)||(r.eot('Could not seek to exact timestamp "'+r.kst+'", seeking instead to: "'+r.Pst.Jh+'"'),r.kst=r.Pst.Jh),r.$st(r.Qst.iot)):r.$st(r.Qst.Zst)};return{Vs:function(){t.uot(),t.Cst.ast=null,t.Pst.ast=null,t.Pst.style.display="none",t.Vst(),this.Bst()},Va:function(){t.Pst.e2(),t.Pst.style.display=""},Bst:function(){t.Pst.ast||t.Bst(t.Pst,n)},lit:function(n,i,r,e){t.sot(),t.oot.lit(n,i,r,e)}}}(),tot:function(){var t=st(r),n=function(){r.$st(r.Qst.Zst),r.Mst(r.Nst.Lst),r.wF(),r.Ast&&(r.Ast.call(t),r.Ast=null)};return{Vs:function(){t.Cst.addEventListener("seeked",n);try{t.Cst.sst=t.kst,t.wF()}catch(n){t.Wst(n.message)}},Va:function(){t.Cst.removeEventListener("seeked",n)},Bst:function(){},lit:function(n,i,r,e){t.sot(),t.oot.lit(n,i,r,e)}}}(),iot:function(){var t=st(r),n=function(){r.$st(r.Qst.Zst),r.Hst(),r.Ast&&(r.Ast.call(t),r.Ast=null)};return{Vs:function(){t.Pst.style.display="none",t.Pst.addEventListener("seeked",n);try{t.Pst.sst=t.kst,t.wF()}catch(n){t.Wst(n.message)}},Va:function(){t.Pst.style.display="",t.Pst.removeEventListener("seeked",n)},Bst:function(){},lit:function(n,i,r,e){t.sot(),t.oot.lit(n,i,r,e)}}}()},r.Vst=function(){var t=r.Tst;r.Tst=r.Kst.cst||r.aot.cst,t&&!r.Tst&&r.dispatchEvent("updateend"),r.cot(),r.wF(),r.hot()},r.wF=function(){var t=r.lc;t!==r.Rst&&(r.Rst=t,r.dispatchEvent("readystatechange"))},r.fot=n,r.zo=i,r.Ist=new sB(i),r.zH="Lj"===i?0:1;var u=function(t){switch(t){case"Bj":return"audio";case"Lj":return"video"}}(i);return r.vot=fB(u),r.dot=fB(u),n.appendChild(r.vot),n.appendChild(r.dot),r.Kst=new Jx(r.vot,r.zo),r.aot=new Jx(r.dot,r.zo),r.Cst=r.Kst,r.Pst=r.aot,r.Jst=r.Nst.Lst,r.oot=r.Qst.Zst,r.Jst.Vs(),r.oot.Vs(),r.oQ(),r.ja(),r}ut(n,t);var i=n.prototype;return i.lot=function(t){return t===this.Kst?this.aot:this.Kst},i.eot=function(t){this.Aut=t,this.dispatchEvent({type:"warning",warning:this.Aut})},i.Wst=function(t){this.GR=t,this.dispatchEvent({type:"error",error:t})},i.Gst=function(t){var n,i=this,r=this.lot(t);return n="Lj"===this.zo?{ju:function(){if(i.pst!==t)return 0;var n=w(t.style.opacity);return y(n)?1:n},Kf:function(n){n=Rc(n,0,1),r.style.opacity=""+(1-n),1===n&&(i.pst=t,t.style.zIndex="2",r.style.zIndex="1",r.style.opacity="1")},zst:1,_ot:function(){if(n.ju()!==n.zst)return n.Kf(n.zst)}}:{ju:function(){return t.volume},Kf:function(i){var e;try{t.volume=i}catch(t){e=t}try{r.volume=n.zst-i}catch(t){e=t}return e},zst:this.zH,_ot:function(){if(n.ju()!==n.zst)return n.Kf(n.zst)}}},i.Bst=function(t,n){var i=this.Ist.lst(this.Bnt(),1,this.Cst.ast,this.Pst.ast);return!!i&&(this.uot(),t.ast=i,t.Vs(n),t.M2&&this.dispatchEvent("durationchange"),!0)},i.got=function(){this.uot(),this.Ist.Fa(),this.Kst.e2(),this.aot.e2(),this.Vst()},i.ST=function(){return this.Cst.ST()},i.Bnt=function(){return this.seeking?this.kst:this.Cst.sst},i.lit=function(t,n){var i=this,r=!n;this.dispatchEvent("seeking"),this.pause(),this.oot.lit(t,r,r,function(){i.dispatchEvent("seeked"),i.dispatchEvent("timeupdate",!0)})},i.Hst=function(){var t=this.Cst;this.Mst(this.Nst.Fb),this.Cst=this.Pst,this.Pst=t,this.Gst(this.Cst)._ot(),this.uot(),this.Pst.pause(),this.Pst.ast=null,this.Vst(),this.Mst(this.Nst.Lst)},i.oQ=function(){for(var t=this,n=["timeupdate","play","playing"],i=function(n,i){if("error"===i.type)return i.error?t.Wst(new BI("PLAYBACK_ISSUE",{code:"VEE"+i.error})):t.Wst(new BI("PLAYBACK_ISSUE",{code:"VEE"+n.Vu.code}));n===t.Cst&&t.dispatchEvent({type:i.type,origin:n})},r=i.bind(null,this.Kst),e=i.bind(null,this.aot),u=0;u<n.length;u++){var s=n[u];this.Kst.addEventListener(s,r),this.aot.addEventListener(s,e)}this.Kst.addEventListener("error",r),this.aot.addEventListener("error",e);for(var o=0;o<WI.length;o++){var a=WI[o];this.Kst.addEventListener(a,this.wF),this.aot.addEventListener(a,this.wF)}},i.ja=function(){this.addEventListener("seeking",this.eet),this.addEventListener("timeupdate",this.eet)},i.Mst=function(t){var n;if(this.Jst!==t){do{(n=this.Jst).Va()}while(n!==this.Jst);this.Jst=t,t.Vs()}},i.$st=function(t){var n;if(this.oot!==t){do{(n=this.oot).Va()}while(n!==this.oot);this.oot=t,t.Vs()}},i.sot=function(){this.Ast=null,this.$st(this.Qst.Zst)},i.load=function(){this.pause(),this.sot(),this.Cst.ast=null,this.Pst.ast=null,this.Mst(this.Nst.Lst)},i.Va=function(){this.sot(),this.Mst(this.Nst.Fb),this.got(),this.Kst.unload(),this.aot.unload(),this.fot.removeChild(this.vot),this.fot.removeChild(this.dot),this.GR=null,this.Aut=null},i.CQ=function(){var t=this,n=this.Bnt();this.got(),this.oot.lit(n,!1,!1,function(){t.dispatchEvent("CQ",!0)})},i.play=function(){this.Gst(this.Cst)._ot(),this.Cst.xJ&&this.Cst.play()},i.pause=function(){this.Kst.pause(),this.aot.pause()},i.Cut=function(t){var n=this,i=function(){n.dispatchEvent("yut",!0)};this.pause(),this.Cst.zy?this.oot.lit(t,this.Pst===this.Kst,this.Pst===this.aot,i):this.Pst.zy?this.oot.lit(t,!1,!1,i):this.Pst.ust(t)?this.oot.lit(t,this.Pst===this.Kst,this.Pst===this.aot,i):i()},i.v5=function(t){this.uot(),this.Ist.v5(t),this.Vst(),this.oot.Bst()},i.Out=function(t){return this.vot.canPlayType('video/mp4; codecs="'+t+'"')},i.Put=function(){return _.max(this.vot.offsetWidth,this.dot.offsetWidth)},i.xut=function(){return _.max(this.vot.offsetHeight,this.dot.offsetHeight)},i.cot=function(){!this.bst&&this.loaded&&(this.bst=!0,this.dispatchEvent("loaded"))},i.hot=function(){if("Lj"===this.zo){var t=this.$y,n=this.Ky;t>0&&n>0&&(this.Est!==t||this.Sst!==n)&&(this.Est=t,this.Sst=n,this.dispatchEvent("resize"))}},i.uot=function(){var t=this.Tst;this.Tst=!0,t||this.dispatchEvent("updatestart")},b(n,[{key:"xT",get:function(){var t=[];return y(this.Kst.Jh)||t.push({Jh:this.Kst.Jh,$h:this.Kst.$h}),y(this.aot.Jh)||t.push({Jh:this.aot.Jh,$h:this.aot.$h}),zD(VD(new MD(t)),this.Ist.xT)}},{key:"duration",get:function(){return this.Cst.M2?this.Cst.$h:this.Pst.M2?this.Pst.$h:NaN}},{key:"paused",get:function(){return this.Cst.Qy}},{key:"ended",get:function(){return this.Cst.zy}},{key:"muted",get:function(){return this.Cst.muted&&this.Pst.muted},set:function(t){this.Cst.muted=t,this.Pst.muted=t}},{key:"volume",get:function(){return this.zH},set:function(t){this.zH=t,this.mst&&this.mst.Vut(),this.Pst.volume=0,this.Cst.volume=this.zH}},{key:"error",get:function(){return this.GR}},{key:"warning",get:function(){return this.Aut}},{key:"seeking",get:function(){return this.oot!==this.Qst.Zst}},{key:"loaded",get:function(){return this.Cst.xJ}},{key:"Zy",get:function(){return this.Cst.Zy},set:function(t){t>=0&&(this.Cst.Zy=t,this.Pst.Zy=t)}},{key:"$y",get:function(){return this.Cst.$y}},{key:"Ky",get:function(){return this.Cst.Ky}},{key:"Wx",get:function(){return this.Tst}},{key:"lc",get:function(){var t;if(this.oot===this.Qst.rot||this.oot===this.Qst.iot)t=Qa.mv;else{var n=this.Cst.lc;if(n<=Qa.pv)t=n;else{var i=Ca.jf(this.xT).wf(),r=this.duration,e=this.Bnt();y(r)||(e=_.min(e,r));var u=i.Gf(e);if(u){var s=u.$h(0);t=s-e>=3*this.Zy||!y(r)&&s>=r?Qa.Av:Qa.kv}else t=Qa.pv}}return t===Qa.yv&&this.bst?Qa.mv:t}}]),n}(lN);function hB(t,n){return t.sst-n.Jh}function fB(t){var n=u.createElement(t);return n.preload="metadata","audio"===t&&(n.style.display="none"),"video"===t&&(n.style.display="",n.style.zIndex="1"),ve(n),n.controls=!1,n}var vB=function(){function t(t){var n=this;this.wot=function(){(y(n.yot)||n.mot)&&(n.yot=n.fL()),n.pot=n.yot,n.mot=!1},this.kot=function(){var t=n.fL();n.Aot(t),n.yot=t},this.bot=function(){n.jI.lc<=Qa.pv&&n.kot()},this.Tot=function(){n.Aot(n.yot),n.mot=!0},this.Eot=function(){n.yot=n.fL()},this.jI=t,this.FT=Ca.Qf(),this.pot=NaN,this.yot=NaN,this.mot=!1,t.addEventListener("playing",this.wot),t.addEventListener("pause",this.kot),t.addEventListener("seeking",this.Tot),t.addEventListener("timeupdate",this.Eot),t.addEventListener("readystatechange",this.bot)}var n=t.prototype;return n._H=function(){var t=this.FT,n=this.pot;if(!y(n)){var i=this.fL();n<i&&(t=t.Cf(new Ca([n,i])))}return t.lf()},n.fL=function(){return this.jI.Bnt()},n.Aot=function(t){var n=this.pot;n<t&&(this.FT=this.FT.Cf(new Ca([n,t]))),this.pot=NaN},n.ait=function(){var t=this.fL();this.Aot(t),this.mot=!0},n.Fa=function(){this.FT=Ca.Qf(),this.pot=NaN,this.yot=NaN,this.mot=!1},n.bu=function(){var t=this.jI;t.removeEventListener("playing",this.wot),t.removeEventListener("pause",this.kot),t.removeEventListener("seeking",this.Tot),t.removeEventListener("timeupdate",this.Eot),t.removeEventListener("readystatechange",this.bot),this.jI=null},t}(),dB=function(t){function n(n,i){var r;return(r=t.call(this)||this).Oe=!1,r.WH=NaN,r.GR=void 0,r.configuration={},r.loading=!1,r.loaded=!1,r.Rst=Qa.yv,r.Sot=function(){r.Rot.seeking||(r.Rot.removeEventListener("seeked",r.Sot),r.dispatchEvent("seeked"),r.Iot.paused?r.KD=r.Not:r.Dot(),r.wF())},r.Cot=function(){r.Rot.paused||(r.Rot.removeEventListener("playing",r.Cot),r.dispatchEvent("playing"))},r.Oot=function(t){r.KD=r.Pot,r.GR=t,r.dispatchEvent({type:"error",error:r.GR})},r.xot={paused:!0,play:function(){r.removeEventListener("Frt",r.xot.Bot),r.Oe?(r.KD=r.Lot,r.Rot.removeEventListener("playing",r.Cot),r.Rot.addEventListener("playing",r.Cot),r.Rot.play(),r.dispatchEvent("play")):r.addEventListener("Frt",r.xot.Bot)},Bot:function(){r.removeEventListener("Frt",r.xot.Bot),r.KD.play()},stall:function(){},pause:function(){r.xot.Bot&&r.removeEventListener("Frt",r.xot.Bot),r.Rot.pause(),r.dispatchEvent("pause"),r.KD=r.Not},load:function(t){},Bnt:function(){return r.Oe?r.Rot.Bnt():0},lit:function(t,n){var i=WD(r.xT,t);n=n||!i,r.Rot.removeEventListener("seeked",r.Sot),r.Rot.addEventListener("seeked",r.Sot),r.Iot.seekTime=t,r.KD=r.Iot,r.dispatchEvent("ait"),r.Rot.lit(t,n),r.dispatchEvent("seeking")},IL:function(){return r.Rot.lc},CQ:function(t){r.Iot.seekTime=r.Bnt(),r.KD=r.Mot,r.Rot.removeEventListener("CQ",r.Mot.Uot),r.Rot.addEventListener("CQ",r.Mot.Uot),r.Rot.CQ(t),r.wF()},forwardEvent:function(t){"pause"===t.type&&r.Rot.ended||r.dispatchEvent(t)}},r.Not=Et(Et({},r.xot),{pause:function(){r.removeEventListener("Frt",r.xot.Bot)},lit:function(t){r.Iot.paused=!0,r.xot.lit(t)},CQ:function(t){r.Iot.paused=!0,r.xot.CQ(t)}}),r.Fot=Et({},r.Not),r.Vot=Et(Et({},r.Not),{load:function(t,n){r.removeEventListener("Frt",r.Vot.Hot),n||r.dispatchEvent("loadstart"),r.Oe?r.Rot.load(t):(r.Vot.qot=t,r.addEventListener("Frt",r.Vot.Hot))},Hot:function(){r.removeEventListener("Frt",r.Vot.Hot),r.KD.load(r.Vot.qot,!0)},qot:null,Bnt:function(){return r.Oe?r.Rot.Bnt():r.Vot.Wot},lit:function(t){r.removeEventListener("Frt",r.Vot.Xot),r.Oe?(r.KD=r.Not,r.KD.lit(t)):(r.Vot.Wot=t,r.addEventListener("Frt",r.Vot.Xot),r.dispatchEvent("seeking"))},Xot:function(){r.removeEventListener("Frt",r.Vot.Xot),r.KD.lit(r.Vot.Wot)},Wot:0,CQ:function(t){}}),r.Lot=Et(Et({},r.xot),{lit:function(t){r.Iot.paused=!1,r.xot.lit(t)},play:function(){},stall:function(){r.KD=r.Got,r.Got.zot=r.Rot.Bnt(),r.Got.paused=!1,r.Rot.addEventListener("yut",r.Got.jot),r.Rot.Cut(r.Got.zot),r.wF()},CQ:function(t){r.Iot.paused=!1,r.xot.CQ(t)}}),r.Got=Et(Et({},r.Lot),{paused:!1,zot:0,lit:function(t){r.Rot.removeEventListener("yut",r.Got.jot),r.Got.paused?r.KD=r.Not:r.KD=r.Lot,r.KD.lit(t),r.wF()},Bnt:function(){return r.Got.zot},IL:function(){return _.min(r.Rot.lc,Qa.pv)},forwardEvent:function(){},play:function(){r.Got.paused=!1,r.dispatchEvent("play")},pause:function(){r.Got.paused=!0,r.dispatchEvent("pause")},stall:function(){},jot:function(){r.Rot.seeking||(r.Rot.removeEventListener("yut",r.Got.jot),r.Got.paused?r.KD=r.Not:r.xot.play(),r.wF())}}),r.Iot=Et(Et({},r.xot),{paused:!1,seekTime:0,Bnt:function(){return r.Iot.seekTime},play:function(){r.Iot.paused=!1},pause:function(){r.Iot.paused=!0,r.Rot.pause(),r.dispatchEvent("pause")}}),r.Mot=Et(Et({},r.Iot),{lit:function(t){r.Rot.removeEventListener("CQ",r.Mot.Uot),r.Iot.paused?r.KD=r.Not:r.KD=r.Lot,r.KD.lit(t)},IL:function(){return _.min(r.Rot.lc,Qa.pv)},forwardEvent:function(){},stall:function(){},Uot:function(){r.Rot.seeking||(r.Rot.removeEventListener("CQ",r.Mot.Uot),r.Iot.paused?r.KD=r.Not:r.xot.play(),r.wF())}}),r.Pot=Et(Et({},r.xot),{play:function(){},pause:function(){},load:function(){},Bnt:function(){return NaN},IL:function(){return Qa.yv},lit:function(t){r.xot.lit(t,!0)},CQ:function(t){}}),r.Eu=function(t){r.dispatchEvent(t)},r.Yot=function(t){r.KD.forwardEvent(t)},r.Qot=function(t){r.Oot(t.error)},r.Zot=function(t){if(t.origin&&t.origin.M2)return r._T();r.KD.stall()},r.tut=function(){var t=r.Rot.duration;t&&r.WH!==t&&(r.WH=t,r.dispatchEvent("durationchange"))},r.Jot=function(){r.Rot.loaded&&(r.loaded=!0)},r.wF=function(){var t=r.lc;t!==r.Rst&&(r.Rst=t,r.dispatchEvent("readystatechange"))},r.Kot=n,r.uR=i,r.$ot=new vB(st(r)),r.Rot=new Qx,r.KD=r.Vot,r.fot=u.createElement("div"),r.fot.style.position="absolute",r.fot.style.width="100%",r.fot.style.height="100%",r.tat(),r}ut(n,t);var i=n.prototype;return i.Dot=function(){this.xot.play()},i.tat=function(){for(var t=["resize","volumechange","ratechange"],n=["timeupdate","pause","warning"],i=0;i<t.length;i++){var r=t[i];this.Rot.addEventListener(r,this.Eu)}for(var e=0;e<n.length;e++){var u=n[e];this.Rot.addEventListener(u,this.Yot)}this.Rot.addEventListener("ended",this.Zot),this.Rot.addEventListener("error",this.Qot),this.Rot.addEventListener("durationchange",this.tut),this.Rot.addEventListener("loaded",this.Jot),this.Rot.addEventListener("readystatechange",this.wF)},i.setup=function(){this.uR.vI.parentNode===this.Kot?this.Kot.replaceChild(this.fot,this.uR.vI):(this.uR.vI.parentNode&&this.uR.vI.parentNode.removeChild(this.uR.vI),this.Kot.appendChild(this.fot))},i.play=function(){this.KD.play()},i.pause=function(){this.KD.pause()},i.nat=function(t){this.Rot&&this.Rot.Va(t),this.Oe=!1},i._T=function(){this.pause(),this.KD=this.Fot,this.GR=void 0,this.dispatchEvent("ended"),this.dispatchEvent("pause")},i.load=function(t){this.KD.load(t)},i.unload=function(){return this.Rot.Va(),this.$ot.bu(),this.fot.parentNode===this.Kot?this.Kot.replaceChild(this.uR.vI,this.fot):(this.fot.parentNode&&this.fot.parentNode.removeChild(this.fot),this.Kot.appendChild(this.uR.vI)),this.Du(),this.uR.vI},i.reset=function(t){this.Oe=!1,this.KD=this.Vot,this.GR=void 0,this.WH=NaN,this.Rst=Qa.yv,this.$ot.Fa(),this.nat(t),this.loading=!1,this.loaded=!1,this.dispatchEvent("reset")},i.CQ=function(t){this.KD.CQ(t)},i.v5=function(t){return this.Rot.v5(t),Tt.resolve()},i.ST=function(){return this.Rot.ST()},i.Bnt=function(){return this.KD.Bnt()},i.lit=function(t){this.$ot.ait(),this.KD.lit(t)},i.k8=function(t,n){return Tt.resolve()},i.canPlayCodecs=function(t){return this.Rot.Out('video/mp4; codecs="'+t+'"')},i.tit=function(t){var n={};for(var i in t)if(P.call(t,i)){var r=t[i];!this.Rot.videoStream&&r.Lj&&(this.Rot.videoStream=new cB(this.fot,"Lj"),n.Lj=this.Rot.videoStream),!this.Rot.audioStream&&r.Bj&&(this.Rot.audioStream=new cB(this.fot,"Bj"),n.Bj=this.Rot.audioStream,this.dispatchEvent("xrt"))}return this.Oe=!0,this.dispatchEvent("Frt"),Tt.resolve(n)},b(n,[{key:"$nt",get:function(){return this.Oe}},{key:"LT",get:function(){return this.fot}},{key:"xT",get:function(){return this.Rot.xT}},{key:"volume",get:function(){return this.Rot.volume},set:function(t){this.Rot.volume=t}},{key:"duration",get:function(){return this.WH}},{key:"muted",get:function(){return this.Rot.muted},set:function(t){this.Rot.muted=t}},{key:"paused",get:function(){return this.KD.paused&&this.Rot.paused}},{key:"played",get:function(){return this.$ot._H()}},{key:"ended",get:function(){return this.KD===this.Fot}},{key:"seeking",get:function(){return this.KD===this.Iot}},{key:"error",get:function(){return this.GR||this.Rot.error}},{key:"warning",get:function(){return this.Rot.warning}},{key:"width",get:function(){return this.Rot.Put()}},{key:"height",get:function(){return this.Rot.xut()}},{key:"Zy",get:function(){return this.Rot.Zy},set:function(t){this.Rot.Zy=t}},{key:"lc",get:function(){return this.KD.IL()}},{key:"$y",get:function(){return this.Rot.$y}},{key:"Ky",get:function(){return this.Rot.Ky}}]),n}(lN),lB=function(){function t(){this.iat={},this.rat("native",Ex),this.rat("hls-native",Ex),this.rat("hls-mse",Hx),this.rat("hls-switching-video",dB)}return t.prototype.rat=function(t,n){this.iat[t]=n},t.rat=function(n,i){t.AJ.rat(n,i)},t.eat=function(n,i,r){var e=t.AJ.iat[n];return e?new e(i,r):void 0},t}();function _B(t){return void 0!==t&&-1!==t.indexOf("m3u8")}function gB(t){return void 0!==t&&(0===t.toLowerCase().indexOf("application/x-mpegurl")||0===t.toLowerCase().indexOf("application/vnd.apple.mpegurl"))}function wB(t,n){var i=t.type;return i?Iw?gB(i)?!Bw||n.useSwitchOverMSE||O.Wt&&n.vr&&n.vr[360]?!Cw||O.Mt||O.Ht&&O.Tt?Ow?"hls-switching-video":"unsupported":"hls-native":"hls-mse":"native":"unsupported":"native"}lB.AJ=new lB;var yB=function(t,n,i,r,e){var u,s,o,h,f,d=this,g=null,m=null,p=null,k=!0,A=null,b=null,T=!1,E=null,S=null,R=null,I=!0,N=null,D={Ql:0,Mut:0},C=null,P=null,x=null,B=1,L=!1,U="none",F=!0,V=!0,H=!1,q=null,W=!0,X=!1,G=Qa.yv,z=!1,j=!1,Y=NaN,Q=null,Z=null,J=O.Ct&&Dw,K=!1,$="",tt="unsupported",nt=null,it=function(){var t=new BI("UNSUPPORTED",{info:"This browser does not allow you to watch this video. Try to update your browser or use a different browser."});d.dispatchEvent({type:"unsupportedPlatform"}),Yt(t)},rt=function(){var t,r;return(t=i.audioOnly?(r=n.hI("audio")).vI:(r=n.hI("video")).vI).preload="none",ve(t),r},et=function(t){return t===S?R:S},ut=function(){A.style.zIndex="1",b.style.zIndex="0",A.style.display=k?"":"none",b.style.display=k&&T?"":"none"},st=function(t){dt(t.GQ),vt(t.zQ),u&&(u.GQ=s),gt()},ot=function(t,n){_t(t.GQ,n),lt(t.zQ),u&&(u.GQ=s)},at=function(){Ht(),Tt(),d.dispatchEvent("timeupdate"),d.dispatchEvent("ended")},ct=function(){var t=function(t){if("error"===t.type)return Yt(t.error);d.dispatchEvent({type:t.type},!0)},n=function(t,n){var i;for(i=0;i<t.length;i+=1)m.addEventListener(t[i],n,!0)};switch(m.addEventListener("xrt",function(){m.volume=B,m.muted=L}),m.addEventListener("loadedmetadata",function(t){"native"===tt&&(X=!0,d.dispatchEvent({type:t.type},!0))}),m.addEventListener("durationchange",function(){var t=m.duration;t&&t!==1/0&&Y!==t&&(Y=t,d.dispatchEvent("durationchange"))}),m.addEventListener("seeking",Vt),m.addEventListener("seeked",Ht),m.addEventListener("ended",at),m.addEventListener("readystatechange",$t),m.setup(),f.hit=m,n(["timeupdate","playing","ratechange","resize"],t),tt){case"native":case"hls-native":n(["abort","emptied","error","loadstart","progress","suspend"],t);break;case"hls-mse":n(["play","pause"],kt)}m.addEventListener("warning",function(t){d.warning=t.warning,d.dispatchEvent(t)}),d.dispatchEvent("volumechange")},ht=function(t){g&&g.$it(),m&&(g=new ox(t,J,h,r))},ft=function(t){var n=Rt(t.sources),r=t.textTracks||[],e=kx(t.configuration,i);return n&&n.contentProtection&&n.contentProtection.aes128&&n.contentProtection.aes128.useCredentials&&(e.Art=!0),{sources:[n],textTracks:r,configuration:e}},vt=function(t){lt(t)},dt=function(t){s&&(s.Va(),s=null,d.initialized=!1),(s=t)&&(d.dispatchEvent("loadstart",!0),s.addEventListener("loadedmetadata",function(){X=!0,$t()}),s.addEventListener("durationchange",function(){Y=s.e_,d.dispatchEvent("durationchange")}),s.addEventListener("Vu",function(t){Yt(t.Vu)}),s.addEventListener("WP",wt),s.addEventListener("UT",wt),s.yZ.addEventListener("renditionUpdated",function(){Xt()}),f.yZ=s.yZ)},lt=function(t){var n;o&&(o.Va(),o=null),m&&(o=t)&&(n=o.Pnt,o.addEventListener("NQ",function(t){var n=d.videoWidth,i=d.videoHeight;Q=t.pY,d.dispatchEvent(t),Vw&&n===d.videoWidth&&i===d.videoHeight||d.dispatchEvent("resize")}),o.addEventListener("Vu",function(t){Yt(t.error)}),o.addEventListener("dnt",function(t){d.dispatchEvent(t)}),o.hit=m,y(n)||Lt(n))},_t=function(t,n){s&&(s.Va(),s=null,d.initialized=!1),(s=t)&&(d.dispatchEvent("loadstart",!0),s.addEventListener("loadedmetadata",function(){X=!0,$t()}),s.addEventListener("I9",function(t){d.dispatchEvent(t)}),s.addEventListener("D9",function(t){d.dispatchEvent(t)}),s.addEventListener("durationchange",function(){Y=s.e_,d.dispatchEvent("durationchange")}),s.addEventListener("Vu",function(t){Yt(t.Vu)}),s.addEventListener("WP",wt),s.addEventListener("UT",wt),s.addEventListener("RZ",function(){d.dispatchEvent("progress")}),s.yZ.addEventListener("renditionUpdated",function(){Xt()}),s.yZ.addEventListener("renditionUpdated",function(t){var i,r=t.pY.I_&&t.pY.I_.Bj;r&&-1!==r.indexOf("mp4a.40.3")&&("_2"!==n.g2||xw||(i=C,dN(function(){n.useSwitchOverMSE=!0;var t=V;C=null,tn({sources:i,configuration:n}),t||bt()})))}),f.yZ=s.yZ)},gt=function(){m.addEventListener("play",function(){d.play({fromNative:!0})}),m.addEventListener("pause",function(){d.pause({fromNative:!0})}),m.addEventListener("volumechange",function(){d.volume=m.volume,d.muted=m.muted}),m.addEventListener("webkitpresentationmodechanged",Ct)},wt=function(){var t=W,n=!s||s.UT;W=n,n&&!t?d.dispatchEvent("online"):!n&&t&&d.dispatchEvent("offline")},yt=function(){F=!1,V=!1,z=!0,m.configuration.useNativeVideoPlayback||m.loaded||At(),Xt()},mt=function t(){d.removeEventListener("initialized",t),d.removeEventListener("initialized",pt),F&&(yt(),d.ended?Mt(0):Gt(),m.play(),o&&o.dT())},pt=function t(){d.removeEventListener("initialized",mt),d.removeEventListener("initialized",t),F&&(yt(),Gt())},kt=function(t){var n=V;V="pause"===t.type,n&&!V?d.play({fromNative:!0}):!n&&V&&d.pause({fromNative:!0})},At=function(){z=!0,m.configuration.useNativeVideoPlayback?(m.load(),D.Mut="now"):m.loading||(m.load(),m.loading=!0),Xt()},bt=function(t){if(t=t||{},V=!1,I&&(I=!1,n.mN()),D.uat=!1,!d.initialized||!m){if(t.onlyWhenInitialized){var i=new BI("THEOPLAYER_NOT_INITIALIZED",{code:"MGB6720"});throw Yt(i),i}return d.removeEventListener("initialized",mt),d.removeEventListener("initialized",pt),d.addEventListener("initialized",t.fromNative?pt:mt),d.dispatchEvent("play",!0),void d.dispatchEvent("waiting",!0)}if(F){if(H&&d.ended)return Tt(),void d.dispatchEvent("timeupdate",!0);d.dispatchEvent("play",!0),t.fromNative?pt():mt()}},Tt=function(t){V=!0,(t=t||{}).fromNative||d.removeEventListener("initialized",mt),d.removeEventListener("initialized",pt),!F&&m&&(F=!0,t.fromNative||(m.pause(),o&&o.lT()),d.dispatchEvent("pause",!0))},Et=function(t){return{type:_B(t)?"application/vnd.apple.mpegurl":"",src:t}},St=function(t){return"string"==typeof t},Rt=function(t){if(mx(t))return t.type?t:Et(t.src);if(St(t))return Et(t);if(M(t)&&St(t[0])){for(var n=0;n<t.length;n++){var i=t[n];if(_B(i))return Et(i)}return Et(t[0])}if(M(t)&&mx(t[0])){for(var r=0;r<t.length;r++){var e=t[r];if(gB(e.type)||!e.type&&_B(e.src))return e.type?e:Et(e.src)}return t[0]}return{type:null,src:null}},It=function(t){var n=(t=ft(t)).sources[0],i=t.configuration,s=wB(n,i);!function(t,n){switch(t){case"native":case"hls-native":n.g2=!1,n.sat=!1;break;case"hls-mse":n.g2="_2",n.sat=!0;break;case"hls-switching-video":n.g2="U3",n.sat=O.kt}}(s,i);var o=function(t,n,i){var s,o,a,c=i.configuration;switch(t){case"native":a=s=o=null;break;case"hls-native":a=null;var h=new KP(c,r);s=h,o=new ex(h);break;case"hls-mse":case"hls-switching-video":a=new hx(c,r);var f=new JP(c,a,r,e);s=f,o=new ix(f);break;default:return null}return new eD(n,t,i,a,s,o,u)}(s,n,t);return o?(o.zQ&&(o.zQ.Zy=d.playbackRate),o):null},Nt=function(t){tn({sources:t})},Dt=function(n,i){var r=E,e=r.vI,u=!1,s=!d.paused,o=tt,a=d.playbackRate,c=d.oat;Z&&(Z.Va(),Z=null),nn();var h=n&&n.VZ||null;n&&n.UZ||null,P=n&&n.zI||null,x=h&&h.configuration||null,tt=n&&n.FZ||"unsupported",Qt();var f={type:"aat",hat:n,Cp:x,fat:i};if(d.dispatchEvent(f),"unsupported"!==tt){if(m){d.pause();var v=o===tt||"hls-native"===o&&"native"===tt||"native"===o&&"hls-native"===tt,l=i&&!O.Ct;if(v&&!l)m.reset(),g.Fa();else{if(l?(p=m,e=(r=et(r)).vI):e=m.unload(),!(u=lB.eat(tt,t,r)))return void it();m=u,ct(),ht(e)}Ht(),X=!1,G=Qa.yv,z=!1,j=!1,Y=NaN,N=null,d.dispatchEvent("durationchange"),D.Mut=0,D.Ql=0,D.uat=!0,d.dispatchEvent("timeupdate")}else{if(!(u=lB.eat(tt,t,r)))return void it();m=u,r.vI.removeAttribute("poster"),ct(),ht(r.vI)}switch(E=r,A=m.LT,p?(b=p.LT,T=!0):(b=et(r).vI,T=!1),ut(),x.crossOrigin){case lf.wv:case lf.gv:E.vI.setAttribute("crossorigin",x.crossOrigin);break;default:E.vI.removeAttribute("crossorigin")}if(c!==d.oat&&d.dispatchEvent(ev),Ct(),Ot(),!P)return C=null,void(d.initialized=!1);!function(t,n){switch(tt){case"native":case"hls-native":st(t);break;case"hls-mse":case"hls-switching-video":ot(t,n);break;default:return}t.jI=d,t.GZ(U)}(Z=n,x),m.src=P,g.Yit(h&&h.textTracks),d.playbackRate=a,C=P;var _={type:"vat",hat:n,Cp:x,fat:i};d.dispatchEvent(_),d.initialized=!0,d.dispatchEvent("initialized"),wt(),Mt("now"),m.configuration.useNativeVideoPlayback&&O.Ct&&s&&jt()&&(d.play(),d.pause()),h&&d.dispatchEvent({type:"sourcechange",sourceDescription:h})}else it()},Ct=function(){var t=$;($=d.Urt)!==t&&d.dispatchEvent("dat")},Ot=function(){f&&(f._F=J&&K)},Pt=function(){return m&&m.$nt?m.volume:B},xt=function(){return j?!m||D.uat?D.Mut:o?o.Pnt:m.Bnt():Ut(N||0)},Bt=function(){return j?Ft(xt()):"now"===N?0:N||0},Lt=function(t){if(j){if(N=null,"now"!==t||d.live||(t=0),"now"!==t&&(t=w(t)||0,t=Jt(t)),m){if(_.abs(D.Mut-t)<.001&&ml()-D.Ql<50)return;Vt(),o?o.Pnt=t:m.lit(t),m.seeking||Ht(),D={Mut:t,Ql:ml()}}}else Mt(Ft(t))},Mt=function(t){if(!j){var n=Bt();return N=t,Gt(),void(n!==Bt()&&Vt())}return Lt(Ut(t))},Ut=function(t){if("number"==typeof t&&d.live){var n=Zt();if(n.length)return t+n.end(0)}return t},Ft=function(t){if("now"===t)return 0;if("number"==typeof t&&d.live){var n=Zt();if(n.length)return t-n.end(0)}return t},Vt=function(){H=!0,Wt(),nt=a(qt,100)},Ht=function(){H&&(H=!1,nt&&qt(),d.dispatchEvent("seeked"))},qt=function(){Wt(),d.dispatchEvent("seeking")},Wt=function(){nt&&(c(nt),nt=null)},Xt=function(){j||(j=!y(Y)&&Zt().length>0&&(z||!d.live))&&d.dispatchEvent("ust")},Gt=function t(){d.removeEventListener("ust",t),null!==N&&(j?Mt(N):d.addEventListener("ust",t))},zt=function(){return m&&m.$nt?m.muted:L},jt=function(){return V},Yt=function(t){if(t&&"MANIFEST_SEQUENCE_RESET_ERROR"===t.code)return n=!V,Nt(Z.zI),void(n&&bt());var n;jt()||Tt(),q=t,d.dispatchEvent({type:"error",error:q})},Qt=function(){q=null},Zt=function(){return BD(o?o.HT:Y>0?new MD([{Jh:0,$h:Y}]):UD)},Jt=function(t){var n=Zt();return n.length?Rc(t,n.start(0),n.end(n.length-1)):0},Kt=function(){var t=m?m.lc:Qa.yv;return X&&(t=_.max(Qa.mv,t)),t},$t=function(){var t=Kt();t!==G&&(G=t,d.dispatchEvent("readystatechange"))},tn=function(t){var n=It(t);Dt(n,!1)},nn=function(){if(p){var t=p.unload();p=null,T=!1,b=t||et(E).vI,ut()}};d.initialized=!1,d.warning=null,d.play=bt,d.pause=Tt,d.load=function(){if(!d.initialized||!m){var t=new BI("THEOPLAYER_NOT_INITIALIZED",{code:"MGB7330"});throw Yt(t),t}At(),Mt("now")},d.lat=It,d._at=Dt,d.bu=function(){d.vs=!0,d.Du(),C&&Nt(null),f&&(f.Va(),f=null),h&&(h.Fa(),h=null),nn(),m&&(m.unload(),m=null),S.vI&&(n.NI(S),S=null),R.vI&&(n.NI(R),R=null),t=null},d.wT=tn,d.TT=function(){k=!0,ut()},d.ET=function(){k=!1,ut()},d.ST=function(){return m&&m.ST()},d.Cv=function(){return m?dc(m.hit):{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}},l.defineProperty(d,"buffered",{get:function(){return BD(m?m.xT:UD)}}),l.defineProperty(d,"played",{get:function(){return m?BD(m.played):UD}}),l.defineProperty(d,"seekable",{get:Zt}),l.defineProperty(d,"live",{get:function(){return!(!s||!IN.Tj(s.yZ.BY))}}),l.defineProperty(d,"volume",{get:Pt,set:function(t){(t=w(t))!==Pt()&&(m&&(m.volume=t),B=t,d.dispatchEvent("volumechange"))}}),l.defineProperty(d,"currentTime",{get:Bt,set:Mt}),l.defineProperty(d,"currentMonotonicTime",{get:xt,set:Lt}),l.defineProperty(d,"currentProgramDateTime",{get:function(){return o?o.BT:null},set:function(t){var n,i;(i=t)&&"function"==typeof i.getTime&&!y(i.getTime())&&o&&(n=o.T6(t),y(n)||null===n||Lt(n))}}),l.defineProperty(d,"duration",{get:function(){return Y}}),l.defineProperty(d,"muted",{get:zt,set:function(t){t!==zt()&&(L=t,m&&(m.muted=t),L=t,d.dispatchEvent("volumechange"))}}),l.defineProperty(d,"paused",{get:jt,set:function(t){t?Tt():bt()}}),l.defineProperty(d,"preload",{get:function(){return U},set:function(t){U=u_((t||"none").toLowerCase())}}),l.defineProperty(d,"ended",{get:function(){return m&&m.ended||!1}}),l.defineProperty(d,"seeking",{get:function(){return H}}),l.defineProperty(d,"error",{get:function(){return q||m&&m.error}}),l.defineProperty(d,"element",{get:function(){return t}}),l.defineProperty(d,"oat",{get:function(){return x&&x.vr&&x.vr[360]?null:E.vI}}),l.defineProperty(d,"videoWidth",{get:function(){return m?m.$y:Q&&Q.resolution?Q.resolution.width:0}}),l.defineProperty(d,"videoHeight",{get:function(){return m?m.Ky:Q&&Q.resolution?Q.resolution.height:0}}),l.defineProperty(d,"frameRate",{get:function(){return o&&o.rY}}),l.defineProperty(d,"frameAccurateSeekEnabled",{get:function(){return!d.live&&m&&m.paused&&d.frameRate}}),l.defineProperty(d,"currentFrame",{get:function(){return o?o.vit(xt()):NaN},set:function(t){d.frameAccurateSeekEnabled&&(t=w(t),Lt(o.dit(t)))}}),l.defineProperty(d,"playbackRate",{get:function(){return o&&o.Zy||m&&m.Zy||1},set:function(t){(t=w(t))>0&&(o?o.Zy=t:m&&(m.Zy=t))}}),l.defineProperty(d,"videoTracks",{get:function(){return Z&&Z.hT.Na||null}}),l.defineProperty(d,"audioTracks",{get:function(){return Z&&Z.cT.Na||null}}),l.defineProperty(d,"fT",{get:function(){return h}}),l.defineProperty(d,"online",{get:function(){return W}}),l.defineProperty(d,"Lrt",{get:function(){return m&&m.Lrt}}),l.defineProperty(d,"Mrt",{get:function(){return m&&m.Mrt}}),l.defineProperty(d,"Urt",{get:function(){return m&&m.Urt||"inline"},set:function(t){m&&(m.Urt=t)}}),l.defineProperty(d,"gat",{get:function(){return K},set:function(t){K=!!t,Ot()}}),l.defineProperty(d,"lc",{get:Kt}),function(){if(!t)throw new v("Invalid element.");var n;d.addEventListener("online",function(){d.live&&Mt("now")}),d.addEventListener("playing",nn),h=new ec,f=new cx(d,h),d.addEventListener("fullscreenchange",Ot),Ot(),i.allowManualQualitySwitch&&(u=new uD),n=function(t){if("string"==typeof t)try{return _N.$t.vz(t,d)}catch(n){throw new v("Unknown rule: "+t)}return t},i.L7=function(t){var i,r=[];for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}(i.abrRules),d.addEventListener("durationchange",Xt),S=rt(),R=rt(),E=S,A=S.vI,b=R.vI,ut(),Nt(null)}()};yB.prototype=new lN,yB.prototype.constructor=yB;var mB,pB=((mB={useSwitchOverMSE:!1,ManifestParser:"wat",allowManualQualitySwitch:"panel",initialRendition:"default",playbackRates:!1,isEmbeddable:!1,withCredentials:!1,enableKeyboardShortcuts:!0,skipImplicitHEAACDetection:!0,abrRules:[]}).abrRules.push("DownloadMetricRule"),mB.abrRules.push("OnlyAllowSameTrackTypeRenditionsRule"),Lw&&mB.abrRules.push("AvoidHighBitrateStreamsRule"),O.Pt&&mB.abrRules.push("AvoidVideoResolutionGreaterThanDisplaySizeRule"),mB);var kB=function(t){function n(n,i){var r;return(r=t.call(this,"yat")||this).oc=n||[],r.Ca=i,r}return ut(n,t),n.prototype.Da=function(){return new AB(this.oc.map(function(t){return t.Na}))},n}(Os),AB=function(t){function n(n){var i;return(i=t.call(this,"targetqualitychanged")||this).qualities=n,i.quality=i.qualities.length>0?i.qualities[0]:void 0,i}return ut(n,t),n}(Un),bB=function(t){function n(n){var i;return(i=t.call(this,"update")||this).quality=n,i}return ut(n,t),n}(Un);function TB(t){return{get bandwidth(){return t.W_},get codecs(){return t.I_},get id(){return t.ic},get name(){return t.uc},get averageBandwidth(){return t.W_},get label(){return t.uc},set label(n){t.uc=to(n)},get height(){return t.P_},get width(){return t.q_},get frameRate(){return t.O_},get firstFrame(){return t.mat},get available(){return t.YG},addEventListener:function(n,i){t.Iu(n,i)},removeEventListener:function(n,i){t.Cu(n,i)}}}function EB(t){return{get bandwidth(){return t.W_},get codecs(){return t.I_},get id(){return t.ic},get name(){return t.uc},get averageBandwidth(){return t.W_},get label(){return t.uc},set label(n){if(!V(n))throw new v("Unexpected - The provided label is not a string");t.uc=n},get audioSamplingRate(){return t.R_},get available(){return t.YG},addEventListener:function(n,i){t.Iu(n,i)},removeEventListener:function(n,i){t.Cu(n,i)}}}var SB=function(t){function n(n,i){var r;(r=t.call(this)||this).Ia=void 0,r.pat=void 0,r.hZ=void 0,r.kat=function(){return r.Aat()},r.bat=function(){return r.Tat()},r.Eat=function(){return r.Su(new Ul(st(r)))},r.wb=xl(),r.Sat=n,r.Rat=i,r.XT=new s_;for(var e=r.Sat.qualities,u=0;u<e.length;u++){var s=e.item(u),o=r.Iat(s);o.Iu("update",r.Eat),r.XT.Df(o)}return r.Sat.qualities.addEventListener("activequalitychanged",r.kat),r.Sat.qualities.addEventListener("targetqualitychanged",r.bat),r.Aat(),r.Tat(),r}ut(n,t);var i=n.prototype;return i.Nat=function(t){t!==this.pat&&(this.pat=t,t&&this.Su(new VI(t)))},i.Dat=function(t,n){return t===n||!(!t||!n)&&(r=n,(i=t).length===r.length&&En(i,r));var i,r},i.Cat=function(t){for(var n=0,i=this.XT.Ha;n<i.length;n++){var r=i[n];if(r.Oat===t)return r}},i.Pat=function(t){for(var n=[],i=0,r=this.XT.Ha;i<r.length;i++){var e=r[i];Tn(t,e.Oat)&&n.push(e)}return n},i.Aat=function(){var t=this.nc?this.Sat.qualities.activeQuality:void 0,n=t&&this.Cat(t)||void 0;this.Nat(n)},i.Tat=function(){var t=this.Sat.qualities.targetQuality;t?L(t)?this.ac=this.Pat(t)||void 0:this.ac=this.Pat([t])||void 0:this.ac=void 0},i.YT=function(t){this.nc=t},i.Va=function(){this.Sat.qualities.removeEventListener("activequalitychanged",this.kat),this.Sat.qualities.removeEventListener("targetqualitychanged",this.bat);for(var t=0,n=this.XT.Ha;t<n.length;t++){var i=n[t];i.Cu("update",this.Eat),i.Va()}},b(n,[{key:"tc",get:function(){return this.pat}},{key:"nc",get:function(){return this.Sat.enabled},set:function(t){t?this.Rat.enable(this.Sat):this.Rat.disable(this.Sat)}},{key:"Na",get:function(){return this.Ia||(this.Ia=eo(this)),this.Ia}},{key:"ic",get:function(){return this.Sat.id+""}},{key:"rc",get:function(){return this.wb}},{key:"ec",get:function(){return this.Sat.kind}},{key:"uc",get:function(){var t;return null!==(t=this.Sat.name)&&void 0!==t?t:""},set:function(t){t!==this.uc&&(this.Sat.name=t,this.Su(new Ul(this)))}},{key:"sc",get:function(){return this.Sat.language}},{key:"dc",get:function(){return this.nc?"enabled":"disabled"}},{key:"oc",get:function(){return this.XT}},{key:"ac",get:function(){return this.hZ},set:function(t){var n=this,i=this.hZ,r=t?t.filter(function(t){return CS.MU(n.tc,t)}):void 0;r&&0===r.length||this.Dat(r,i)||(this.hZ=r,this.Sat.qualities.targetQuality=r?r.map(function(t){return t.Oat}):null,this.Su(new kB(r,this)))}}]),n}(Ds),RB=function(t){function n(n){var i,r;return(i=t.call(this)||this).Ia=void 0,i.nB=function(){return i.qs()},i.Oat=n,i.Oat.addEventListener("qualityupdated",i.nB),i.ic=n.id,i.W_=null!==(r=n.bandwidth)&&void 0!==r?r:NaN,i.I_=n.codecs,i.uj=n.uri,i}ut(n,t);var i=n.prototype;return i.qs=function(){this.xat()&&this.Su(new bB(this.Na))},i.xat=function(){var t,n=this.Oat,i=n.id,r=null!==(t=n.bandwidth)&&void 0!==t?t:NaN,e=n.codecs,u=n.uri,s=this.ic!==i||!Cc(this.W_,r)||this.I_!==e||this.uj!==u;return this.ic=i,this.W_=r,this.I_=e,this.uj=u,s},i.Va=function(){this.Oat.removeEventListener("qualityupdated",this.nB)},i.sm=function(){},b(n,[{key:"uc",get:function(){return this.Oat.name||""},set:function(t){this.uc!==t&&(this.Oat.name=t,this.Su(new bB(this.Na)))}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}},{key:"YG",get:function(){return!0}}]),n}(Ds),IB=function(t){function n(n){var i;return(i=t.call(this,n)||this).R_=NaN,i}return ut(n,t),n.prototype.Da=function(){return EB(this)},n}(RB),NB=function(t){function n(n,i){var r;return void 0===i&&(i=0),(r=t.call(this,n)||this).O_=n.frameRate,r.q_=n.resolution?n.resolution.width:NaN,r.P_=n.resolution?n.resolution.height:NaN,r.Bat=i,r}ut(n,t);var i=n.prototype;return i.xat=function(){var n=t.prototype.xat.call(this),i=this.Oat,r=i.frameRate,e=i.resolution?i.resolution.width:NaN,u=i.resolution?i.resolution.height:NaN;return n=n||!Cc(this.O_,r)||!Cc(this.q_,e)||!Cc(this.P_,u),this.O_=r,this.q_=e,this.P_=u,n},i.Da=function(){return TB(this)},b(n,[{key:"mat",get:function(){return this.Bat},set:function(t){this.Bat!==t&&(this.Bat=t,this.Su(new bB(this.Na)))}}]),n}(RB),DB=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.Iat=function(t){return new IB(t)},n}(SB),CB=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.Iat=function(t){return new NB(t,this.Lat)},i.Mat=function(t){this.Lat=t;for(var n=0,i=this.oc.Ha;n<i.length;n++){var r=i[n];void 0!==r.mat&&(r.mat=t)}},n}(SB),OB=function(t){function n(){return t.call(this,"online")||this}return ut(n,t),n}(Un),PB=function(t){function n(){return t.call(this,"offline")||this}return ut(n,t),n}(Un);function xB(t,n){for(var i=0;i<t.qa;i++){var r=t.Ba(i);if(r.Sat===n)return r}}var BB=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).Uat=void 0,s.GR=void 0,s.zR=void 0,s.Fat=NaN,s.Vat=0,s.Hat=function(){s.Su(new Ja(s.Gy))},s.qat=function(){s.Su(new of(s.Gy))},s.Wat=function(){s.Su(new Qf(s.Gy))},s.Xat=function(){s.Su(new Yf(s.Gy))},s.Gat=function(){s.Su(new Zf(s.Gy,s.Zy))},s.zat=function(){s.Su(new Ka(s.Gy,s.tm))},s.jat=function(){s.Su(new NR(s.Gy))},s.Yat=function(){s.Su(new hf(s.Gy))},s.Qat=function(){s.Su(new DR)},s.Zat=function(){s.Su(new OB)},s.Jat=function(){s.Su(new PB)},s.Kat=function(){s.$at(),s.tct.Fa(),s.nct(),s.II()},s.sU=function(){s.nct(),s.II(),s.gI()},s.$at=function(){var t=s.Fat,n=s.e_;s.Fat=n,t===n||y(t)&&y(n)||s.Su(new uf(n))},s.ict=function(t){var n=t.error||s.rct.error;if(n){var i,r=Za.DECODE;"PLAYBACK_ISSUE"===n.code&&sn(n.info.code,"VEE")&&(r=+n.info.code.substr("VEE".length)),n.info&&(i=n.info.code),s.GR=new $a(r,n.message,i),s.Su(new df(function(t){return new Vo(ic(t.code),t.message,t)}(s.GR)))}},s.ZR=function(){s.Su(new sf(s.Gy,s.BT))},s.ect=function(){s.$y>0&&s.Ky>0&&s.Su(new y_)},s.uct=function(){s.Su(new uv)},s.sct=function(t){s.uT.Ha.forEach(function(n){return n.Mat(t.ptsOffset)})},s.act=function(t){s.Vat+=t.Nv,s.Su(t)},s.cct=function(t){return s.hct(t.track)},s.fct=function(t){return s.vct(t.track)},s.dct=function(t){var n=xB(s.eT,t.track);n&&n.Su(new Vl(n))},s.lct=function(t){var n=xB(s.uT,t.track);n&&n.Su(new Vl(n))},s._ct=n,s.dN=i,e=function(t){var n,i={};return i=px(t,i),(i=px(pB,i)).abrRules=i.abrRules.slice(0),i.allowManualQualitySwitch=!O.St&&i.allowManualQualitySwitch,i.libraryLocation=As(i.libraryLocation||"./",!0),i.initialRendition=i.initialRendition&&i.initialRendition.toLowerCase(),i.localisation=(n=i.localisation||{},function(t){return P.call(n,t)?n[t]:t}),i}(e),s.rct=new yB(s._ct,s.dN,e,r,u),s.gct(),s.wct=new LB(s.rct),s.tct=new zw(s.wct,!0),s.tct.Iu(Gw,s.Eu),s.eT=new rc,s.uT=new rc,s.gI(),s}ut(n,t);var i=n.prototype;return i.ET=function(){this.rct.ET()},i.TT=function(){this.rct.TT()},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Uat=n,this.rct.wT({sources:{src:n.src,type:_f.Hy,contentProtection:n.contentProtection},textTracks:i.textTracks,configuration:Et(Et({},i),{crossOrigin:n.crossOrigin,withCredentials:n.useCredentials,liveOffset:n.liveOffset,hlsDateRange:n.hlsDateRange})});case 2:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.dT=function(){this.rct.play()},i.lT=function(){this.rct.pause()},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.Uat=void 0,this.GR=void 0,this.zR=void 0,this.Vat=0,this.rct.wT({sources:null}),this.tct.Fa(),this.nct();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.yT=function(){return!1},i.mT=function(){},i.pT=function(){},i.ST=function(){return this.rct.ST()||void 0},i.RT=function(){return this.rct.oat||void 0},i.PT=function(){},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fa();case 2:this.Du(),this.tct.Va(),this.wct.Va(),this.yct(),this.rct.bu(),this.eT.Va(),this.uT.Va();case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.gct=function(){this.rct.addEventListener("aat",this.Kat),this.rct.addEventListener("vat",this.sU),this.rct.addEventListener("durationchange",this.$at),this.rct.addEventListener("error",this.ict),this.rct.addEventListener("timeupdate",this.ZR),this.rct.addEventListener("resize",this.ect),this.rct.addEventListener(ev,this.uct),this.rct.addEventListener("dnt",this.sct),this.rct.addEventListener("D9",this.act),this.rct.addEventListener("play",this.Hat),this.rct.addEventListener("pause",this.qat),this.rct.addEventListener("seeking",this.Wat),this.rct.addEventListener("seeked",this.Xat),this.rct.addEventListener("ratechange",this.Gat),this.rct.addEventListener("volumechange",this.zat),this.rct.addEventListener("progress",this.jat),this.rct.addEventListener("ended",this.Yat),this.rct.addEventListener("loadstart",this.Qat),this.rct.addEventListener("online",this.Zat),this.rct.addEventListener("offline",this.Jat),this.rct.addEventListener("I9",this.Eu)},i.yct=function(){this.rct.removeEventListener("aat",this.Kat),this.rct.removeEventListener("vat",this.sU),this.rct.removeEventListener("durationchange",this.$at),this.rct.removeEventListener("error",this.ict),this.rct.removeEventListener("timeupdate",this.ZR),this.rct.removeEventListener("resize",this.ect),this.rct.removeEventListener(ev,this.uct),this.rct.removeEventListener("play",this.Hat),this.rct.removeEventListener("pause",this.qat),this.rct.removeEventListener("seeking",this.Wat),this.rct.removeEventListener("seeked",this.Xat),this.rct.removeEventListener("ratechange",this.Gat),this.rct.removeEventListener("volumechange",this.zat),this.rct.removeEventListener("progress",this.jat),this.rct.removeEventListener("ended",this.Yat),this.rct.removeEventListener("loadstart",this.Qat),this.rct.removeEventListener("online",this.Zat),this.rct.removeEventListener("offline",this.Jat),this.rct.removeEventListener("I9",this.Eu),this.rct.removeEventListener("D9",this.act)},i.gI=function(){var t=this.rct.audioTracks,n=this.rct.videoTracks;if(t){for(var i=0;i<t.length;i++)this.hct(t.item(i));t.addEventListener("addtrack",this.cct),t.addEventListener("enabledtrack",this.dct),t.addEventListener("disabledtrack",this.dct)}if(n){for(var r=0;r<n.length;r++)this.vct(n.item(r));n.addEventListener("addtrack",this.fct),n.addEventListener("enabledtrack",this.lct),n.addEventListener("disabledtrack",this.lct)}},i.II=function(){var t=this.rct.audioTracks,n=this.rct.videoTracks;t&&(t.removeEventListener("addtrack",this.cct),t.removeEventListener("enabledtrack",this.dct),t.removeEventListener("disabledtrack",this.dct)),n&&(n.removeEventListener("addtrack",this.fct),n.removeEventListener("enabledtrack",this.lct),n.removeEventListener("disabledtrack",this.lct))},i.nct=function(){for(var t=0,n=this.eT.Ha;t<n.length;t++){n[t].Va()}for(var i=0,r=this.uT.Ha;i<r.length;i++){r[i].Va()}this.eT.Fa(),this.uT.Fa()},i.hct=function(t){xB(this.eT,t)||this.eT.La(new DB(t,this.rct.audioTracks))},i.vct=function(t){xB(this.uT,t)||this.uT.La(new CB(t,this.rct.videoTracks))},b(n,[{key:"cT",get:function(){return this.eT}},{key:"xT",get:function(){return this.rct.buffered}},{key:"BT",get:function(){var t;return null!==(t=this.rct.currentProgramDateTime)&&void 0!==t?t:void 0},set:function(t){this.rct.currentProgramDateTime=null!=t?t:null}},{key:"Gy",get:function(){var t=this.rct.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&y(this.rct.duration)&&(t=0),t},set:function(t){this.rct.currentMonotonicTime=t}},{key:"e_",get:function(){var t=this.rct.duration;return t<0?1/0:t}},{key:"zy",get:function(){return this.rct.ended}},{key:"Vu",get:function(){return this.GR}},{key:"jy",get:function(){return this.zR}},{key:"MT",get:function(){return!1}},{key:"Cv",get:function(){return Et(Et({},this.rct.Cv()),{Nv:this.Vat})}},{key:"Yy",get:function(){return this.rct.muted},set:function(t){this.rct.muted=t}},{key:"UT",get:function(){return this.rct.online}},{key:"Qy",get:function(){return this.rct.paused}},{key:"Zy",get:function(){return this.rct.playbackRate},set:function(t){this.rct.playbackRate=t}},{key:"FT",get:function(){return this.rct.played}},{key:"VT",get:function(){return this.rct.preload||r_.Vv},set:function(t){this.rct.preload=t}},{key:"lc",get:function(){return this.rct.lc}},{key:"HT",get:function(){return this.rct.seekable}},{key:"Jy",get:function(){return this.rct.seeking}},{key:"OI",get:function(){}},{key:"fT",get:function(){return this.rct.fT}},{key:"hT",get:function(){return this.uT}},{key:"Ky",get:function(){return this.rct.videoHeight}},{key:"$y",get:function(){return this.rct.videoWidth}},{key:"tm",get:function(){return this.rct.volume},set:function(t){this.rct.volume=t}}]),n}(Ds),LB=function(t){function n(n){var i;return(i=t.call(this)||this).mct=function(){i.Su(new tf(i.Gy,i.rct.lc))},i.pct=function(){i.Su(new ef(i.Gy))},i.Hat=function(){i.Su(new Ja(i.Gy))},i.qat=function(){i.Su(new of(i.Gy))},i.rct=n,i.rct.addEventListener("readystatechange",i.mct),i.rct.addEventListener("playing",i.pct),i.rct.addEventListener(Ia.Bh,i.Hat),i.rct.addEventListener(Ia.xh,i.qat),i}return ut(n,t),n.prototype.Va=function(){this.Du(),this.rct.removeEventListener("readystatechange",this.mct),this.rct.removeEventListener("playing",this.pct),this.rct.removeEventListener(Ia.Bh,this.Hat),this.rct.removeEventListener(Ia.xh,this.qat)},b(n,[{key:"Gy",get:function(){var t=this.rct.currentMonotonicTime;return"now"===t&&(t=1/0),t===1/0&&y(this.rct.duration)&&(t=0),t}},{key:"zy",get:function(){return this.rct.ended}},{key:"Vu",get:function(){return this.rct.error||void 0}},{key:"Qy",get:function(){return this.rct.paused}}]),n}(Mn);function MB(t,n){return UB.apply(this,arguments)}function UB(){return(UB=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:void 0===r&&(r=3),void 0===e&&(e=1e3),void 0===u&&(u=1/0),s=0;case 4:return t.prev=5,t.next=8,n(i);case 8:return t.abrupt("return",t.sent);case 11:if(t.prev=11,t.t0=t.catch(5),Cn(t.t0),!(s<r)){t.next=20;break}return o=_.min(e*_.pow(2,s),u),s++,t.next=19,Pr(o,i);case 19:return t.abrupt("continue",4);case 20:throw t.t0;case 21:t.next=4;break;case 23:case"end":return t.stop()}},t,null,[[5,11]])}))).apply(this,arguments)}iy(new(function(){function t(){this.dg=3}var n=t.prototype;return n.Ec=function(t,n,i,r,e){return new BB(t,n,i,r,e)},n.xI=function(n,i){if((O.Ct||O.Zt)&&!i.manifestMetadataTrack)return!1;if(!If(n.type))return!1;if(n.useNativePlayback)return!1;var r=n.contentProtection;return!(r&&!Jo(r)&&!t.kct(r))&&!!function(t){return"unsupported"!==wB(t,{})}(n)},t.kct=function(t){return!!t.aes128},t}()));var FB,VB=function(t){function n(){return t.call(this,"Act")||this}return ut(n,t),n}(Un),HB=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).bct=function(){e.Su(new VB)},e.Uat=n,e.Tct=Et(Et({},i),{crossOrigin:e.Uat.crossOrigin,withCredentials:e.Uat.useCredentials,liveOffset:e.Uat.liveOffset,hlsDateRange:e.Uat.hlsDateRange}),e.$T=r,e.Ect=[],e.Oe=!1,e}ut(n,t);var i=n.prototype;return i.Sct=function(){if(this.Rct)return this.Rct.PQ},i.Jh=function(t){var n=this;Dr(MB(function(){return n.GZ()},t))},i.GZ=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Ict();case 2:if((n=t.sent).isMasterPlaylist)for(this.Nct=n,i=0,r=n.streams;i<r.length;i++)e=r[i],u=new JO(this.$T,this.Tct),this.Ect.push({stream:{uri:e.uri,width:e.resolution&&e.resolution.width,height:e.resolution&&e.resolution.height},updater:u});else s=new JO(this.$T,this.Tct),this.Ect.push({stream:{uri:n.uri},updater:s});this.Dct&&(this.Cct(this.Dct.width,this.Dct.height),this.Dct=void 0),this.Oe=!0;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Oct=function(t,n){this.Oe?this.Cct(t,n):this.Dct={width:t,height:n}},i.Cct=function(t,n){this.Pct();var i=this.xct(t,n);i&&(this.Rct=i.updater,this.Rct.addEventListener("P4",this.bct),i.updater.Jh(i.stream.uri))},i.Pct=function(){this.Rct&&(this.Rct._T(),this.Rct.removeEventListener("P4",this.bct),this.Rct=void 0)},i.xct=function(t,n){return 1===this.Ect.length?this.Ect[0]:pn(this.Ect,function(i){return i.stream.width===t&&i.stream.height===n})},i.Ict=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new ZO(this.Tct,dD.$t.cJ,this.$T),t.next=3,n.Vs(this.Uat.src,{});case 3:return i=t.sent,t.abrupt("return",i.PQ);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Va=function(){this.Pct();for(var t=0,n=this.Ect;t<n.length;t++){n[t].updater.Va()}Sn(this.Ect)},n}(Mn),qB=function(t){function n(n,i,r){var e;return(e=t.call(this,n)||this).Bct=void 0,e.Lct=!1,e.pQ=new NN,e.handleManifestUpdate=function(){var t=e.Bct.Sct();if(t){var n=e.OI;if(n){var i=n.getTime();e.pQ.qs(t.dateRanges,function(t){return(t.getTime()-i)/1e3}),!e.Lct&&e.pQ._c.qa>0&&(e.fT.La(e.pQ),e.Lct=!0)}}},e.ect=function(){e.Bct&&e.Bct.Oct(e.$y,e.Ky)},e.Mct=i,e.wM=r,e.Iu(Ia.Fh,e.ect),e}ut(n,t);var i=n.prototype;return i.wT=function(){var n=Tt.coroutine(bt.mark(function n(i,r,e){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.prototype.wT.call(this,i,r,e);case 2:i.hlsDateRange&&this.Mg(i,r,e);case 3:case"end":return n.stop()}},n,this)}));return function(t,i,r){return n.apply(this,arguments)}}(),i.Mg=function(t,n,i){this.Bct&&(this.Bct.Cu("Act",this.handleManifestUpdate),this.Bct.Va()),this.Bct=new HB(t,n,this.Mct),this.Bct.Iu("Act",this.handleManifestUpdate),this.Bct.Jh(i)},i.Va=function(){return this.Cu(Ia.Fh,this.ect),this.Bct&&(this.Bct.Cu("Act",this.handleManifestUpdate),this.Bct.Va()),t.prototype.Va.call(this)},n}(function(t){function n(n){var i;return(i=t.call(this)||this).Uct=n,i.Uct.Sa(i.Eu),i}ut(n,t);var i=n.prototype;return i.yT=function(){return this.Uct.yT()},i.RT=function(){return this.Uct.RT()},i.ST=function(){return this.Uct.ST()},i.ET=function(){return this.Uct.ET()},i.PT=function(){return this.Uct.PT()},i.lT=function(){return this.Uct.lT()},i.dT=function(){return this.Uct.dT()},i.Fa=function(){return this.Uct.Fa()},i.wT=function(t,n,i){return this.Uct.wT(t,n,i)},i.TT=function(){return this.Uct.TT()},i.mT=function(){return this.Uct.mT()},i.pT=function(){return this.Uct.pT()},i.Va=function(){return this.Du(),this.Uct.Va()},b(n,[{key:"cT",get:function(){return this.Uct.cT}},{key:"xT",get:function(){return this.Uct.xT}},{key:"BT",get:function(){return this.Uct.BT},set:function(t){this.Uct.BT=t}},{key:"Gy",get:function(){return this.Uct.Gy},set:function(t){this.Uct.Gy=t}},{key:"e_",get:function(){return this.Uct.e_}},{key:"zy",get:function(){return this.Uct.zy}},{key:"jy",get:function(){return this.Uct.jy}},{key:"Vu",get:function(){return this.Uct.Vu}},{key:"MT",get:function(){return this.Uct.MT}},{key:"Cv",get:function(){return this.Uct.Cv}},{key:"Yy",get:function(){return this.Uct.Yy},set:function(t){this.Uct.Yy=t}},{key:"UT",get:function(){return this.Uct.UT}},{key:"Qy",get:function(){return this.Uct.Qy}},{key:"Zy",get:function(){return this.Uct.Zy},set:function(t){this.Uct.Zy=t}},{key:"FT",get:function(){return this.Uct.FT}},{key:"VT",get:function(){return this.Uct.VT},set:function(t){this.Uct.VT=t}},{key:"lc",get:function(){return this.Uct.lc}},{key:"HT",get:function(){return this.Uct.HT}},{key:"Jy",get:function(){return this.Uct.Jy}},{key:"OI",get:function(){return this.Uct.OI}},{key:"fT",get:function(){return this.Uct.fT}},{key:"Ky",get:function(){return this.Uct.Ky}},{key:"hT",get:function(){return this.Uct.hT}},{key:"$y",get:function(){return this.Uct.$y}},{key:"tm",get:function(){return this.Uct.tm},set:function(t){this.Uct.tm=t}}]),n}(Ds));FB=function(t,n,i){return new qB(t,n,i)},ny.MI().UI(FB);var WB=function(t){function n(n){var i;return(i=t.call(this,"statechange")||this).state=n,i}return ut(n,t),n}(Un);var XB=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).Ia=void 0,u.KD="unavailable",u.Fct=new Rr,u.handleAirplayChangedEvent=function(){u.Ev&&u.Ev.MT?u.Vct():"connected"===u.VK&&u.Hct()},u.handleAirplayPlayerTimeUpdate=function(t){u.qct=t.currentTime,u.Wct=u.HB.BT},u.Xct=n,u.HB=i,u.Gct=e,u.Gct.ET(),u.HB.aT(e),u.zct(),CS.VU&&u.jct("available"),u}ut(n,t);var i=n.prototype;return i.zct=function(){this.Ev&&this.Ev.Cu("JT",this.handleAirplayChangedEvent),this.Yct?this.Ev=this.HB:this.Ev=this.Gct,this.Ev.Iu("JT",this.handleAirplayChangedEvent)},i.Vct=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.Ev){t.next=2;break}return t.abrupt("return");case 2:if(this.Yct){t.next=24;break}return this.qct=this.HB.Gy,this.Wct=this.HB.BT,this.Gct.Iu("timeupdate",this.handleAirplayPlayerTimeUpdate),this.Qct=this.HB.Qa,this.HB.Qa=this.Gct,this.Qct.lT(),this.Qct.ET(),this.Gct.TT(),this.Gct.Yy=this.Qct.Yy,this.Gct.Zy=this.Qct.Zy,this.Gct.tm=this.Qct.tm,n=this.Gct.xu("seeked"),this.Gct.Gy=this.Qct.Gy,t.next=18,n;case 18:this.Gct.dT(),this.Gct.Yy=this.Qct.Yy,this.Gct.Zy=this.Qct.Zy,this.Gct.tm=this.Qct.tm,t.next=28;break;case 24:if(this.Ev.Qy){t.next=27;break}return t.next=27,this.Ev.xu(Ia.xh,this.Fct.bs);case 27:this.Ev.dT();case 28:this.jct("connected");case 29:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hct=function(){this.Qct?(this.Gct.Cu("timeupdate",this.handleAirplayPlayerTimeUpdate),this.Qct.Yy=this.Gct.Yy,this.Qct.Zy=this.Gct.Zy,this.Qct.tm=this.Gct.tm,O.Wt&&!O.Ct&&this.HB.e_===1/0?this.Wct?this.Qct.BT=this.Wct:this.Qct.Gy=1/0:this.Qct.Gy=this.qct,this.Wct=void 0,this.qct=void 0,this.Qct.TT(),this.Gct.ET(),this.Gct.Qy||this.Qct.dT(),this.HB.Qa=this.Qct,this.Gct.Fa(),this.Qct=void 0):this.Ev&&(this.Ev.Gy=this.Ev.Gy+1e-4);this.jct("available")},i.preloadPlayer=function(t){if(Dn(t),this.Ev.lc<Qa.mv){var n=this.Ev.xu("loadedmetadata",t);return this.Ev.VT=r_.Uy,n}return Tt.resolve()},i.jct=function(t){t!==this.KD&&(this.KD=t,this.Su(new WB(this.KD)))},i.mT=function(){CS.VU&&(this.Xct.kT(),this.Fct.fs(),this.Fct=new Rr,this.Yct?Dr(this.Zct(this.Fct.bs)):Dr(this.Jct(this.Fct.bs)))},i.Zct=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.preloadPlayer(n);case 2:this.HB.mT();case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Jct=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.Gct.wT(this.HB.gT(),n);case 3:return i=this.Gct.xu("playing",n),this.Gct.dT(),t.next=7,xr(i,3e3);case 7:this.Gct.lT(),Dn(n),this.Gct.mT(),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(0),!Nn(t.t0)){t.next=16;break}return t.abrupt("return");case 16:0;case 17:case"end":return t.stop()}},t,this,[[0,12]])}));return function(n){return t.apply(this,arguments)}}(),i.pT=function(){CS.VU&&this.Ev.pT()},i.Va=function(){var t;this.Du(),this.HB.DT(this.Gct),this.Fct.fs(),null===(t=this.Gct)||void 0===t||t.Va()},b(n,[{key:"cM",get:function(){return"connected"===this.VK}},{key:"Yct",get:function(){return this.HB.yT()}},{key:"VK",get:function(){return this.KD}},{key:"Na",get:function(){var t;return this.Ia||(this.Ia=(t=this,{get casting(){return t.cM},get state(){return t.VK},start:function(){t.mT()},stop:function(){t.pT()},addEventListener:function(n,i){n=no(n,to),t.Iu(n,i)},removeEventListener:function(n,i){n=no(n,to),t.Cu(n,i)}})),this.Ia}}]),n}(Ds);zE(function(t){return function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.Da=function(){var n=this.QM.Na;return zs(t.prototype.Da.call(this),{get cast(){return n}})},n}(t)},ME.KM);var GB=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).aN=void 0,u.Uat=void 0,u.eT=new ao,u.uT=new ao,u.qA=new go,u.YI=n,u.Kct=new Pt(1,["video"]),u.Kct.lN(n),u.$ct=new Jw(n,u.Kct,i,r,e),u.$ct.Sa(u.Eu),u.eT.Qa=u.$ct.cT,u.uT.Qa=u.$ct.hT,u.qA.Qa=u.$ct.fT,u}ut(n,t);var i=n.prototype;return i.yT=function(){return this.$ct.yT()},i.mT=function(){this.$ct.mT()},i.pT=function(){this.$ct.pT()},i.dT=function(){Dr(this.$ct.dT())},i.lT=function(){this.$ct.lT()},i._T=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.gT=function(){return this.Uat},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(i),this.Uat=n,!kf(n.sources)){t.next=6;break}r=ja({src:""}),t.next=16;break;case 6:e=n.sources.filter(Ef),u=0;case 8:if(!(u<e.length)){t.next=16;break}if(!Kw(s=e[u])){t.next=13;break}return r=s,t.abrupt("break",16);case 13:u++,t.next=8;break;case 16:if(r){t.next=18;break}throw new v("Unsupported source.");case 18:return t.next=20,this.$ct.wT(r,n,i);case 20:this.kN(r);case 21:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kN=function(t){this.aN!==t&&(this.aN=t,this.Su(new sv(t)))},i.ST=function(){},i.RT=function(){},i.IT=function(){return[]},i.kT=function(){this.Kct.mN()},i.AT=function(t){nv(this,t)},i.bT=function(){},i.NT=function(t){return!1},i.PT=function(){},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.aN=void 0,this.Uat=void 0,t.next=4,this.$ct.Fa();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TT=function(){this.$ct.TT()},i.ET=function(){this.$ct.ET()},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Du(),this.Kct.Va(),t.next=4,this.$ct.Va();case 4:this.eT.Va(),this.uT.Va(),this.qA.Va();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"cT",get:function(){return this.$ct.cT}},{key:"xT",get:function(){return this.$ct.xT}},{key:"OT",get:function(){return this.aN}},{key:"Gy",get:function(){return this.$ct.Gy},set:function(t){this.$ct.Gy=t}},{key:"BT",get:function(){return this.$ct.BT}},{key:"e_",get:function(){return this.$ct.e_}},{key:"LT",get:function(){return this.YI}},{key:"zy",get:function(){return this.$ct.zy}},{key:"Vu",get:function(){return this.$ct.Vu}},{key:"MT",get:function(){return this.$ct.MT}},{key:"Cv",get:function(){return{Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}}}},{key:"Yy",get:function(){return this.$ct.Yy},set:function(t){this.$ct.Yy=t}},{key:"UT",get:function(){return this.$ct.UT}},{key:"Qy",get:function(){return this.$ct.Qy}},{key:"Zy",get:function(){return this.$ct.Zy},set:function(t){this.$ct.Zy=t}},{key:"FT",get:function(){return this.$ct.FT}},{key:"VT",get:function(){return this.$ct.VT},set:function(t){this.$ct.VT=t}},{key:"lc",get:function(){return this.$ct.lc}},{key:"HT",get:function(){return this.$ct.HT}},{key:"Jy",get:function(){return this.$ct.Jy}},{key:"fT",get:function(){return this.$ct.fT}},{key:"Ky",get:function(){return this.$ct.Ky}},{key:"$y",get:function(){return this.$ct.$y}},{key:"hT",get:function(){return this.$ct.hT}},{key:"tm",get:function(){return this.$ct.tm},set:function(t){this.$ct.tm=t}}]),n}(Ds);zE(function(t){return function(t){function n(n,i){var r;r=t.call(this,n,i)||this;var e=new GB(r.Ov.LT,r.tS,r.Cp,r.xM);return r.tht=new XB(st(r),r.Ov,r.tS,e),r.QM.aM(r.tht),r.Iu("currentsourcechange",function(){r.tht.zct()}),r}ut(n,t);var i=n.prototype;return i.Da=function(){var n=this,i=t.prototype.Da.call(this);return zs(i.cast,{get airplay(){return n.tht.Na}}),i},i.Va=function(){this.tht.Va(),t.prototype.Va.call(this)},n}(t)},ME.KM);var zB="theoplayer-texttracks",jB=function(){function t(t,n){void 0===n&&(n=5);var i=u.createElement("div");i.className=zB,i.style.position="absolute",i.style.display="none",i.style.overflow="hidden",i.style.pointerEvents="none",i.style.top="10%",i.style.bottom="80%",i.style.bottom="10%",i.style.left="0",i.style.width="100%",i.style.lineHeight="1.3em",i.style.zIndex=""+n,this.nht=i,this.fN=t,this.fN.appendChild(this.nht),this.TT()}var n=t.prototype;return n.ET=function(){this.nht.style.display="none"},n.TT=function(){he(this.nht.style,"flex","-ms-flexbox")},n.Va=function(){ae(this.nht),this.nht=null},b(t,[{key:"LT",get:function(){return this.nht}}]),t}(),YB=function(t){function n(){return t.call(this,"Ma")||this}return ut(n,t),n.prototype.Da=function(){return new QB},n}(Os),QB=function(t){function n(){return t.call(this,"change")||this}return ut(n,t),n}(Un);var ZB={SW:void 0,EW:void 0,RW:void 0,IW:void 0,NW:void 0,DW:void 0},JB="THEOplayer.textTrackStyle.",KB=function(t){function n(){var i;return(i=t.call(this)||this).Ia=void 0,i.Fq=n.iht(),i}return ut(n,t),n.prototype.qs=function(t){this.Fq=Et(Et({},this.Fq),t),n.rht(this.Fq),this.Su(new YB)},n.iht=function(){var t=Et({},ZB);return t.SW=LE.ju(JB+"fontFamily")||t.SW,t.EW=LE.ju(JB+"fontColor")||t.EW,t.RW=LE.ju(JB+"fontSize")||t.RW,t.IW=LE.ju(JB+"backgroundColor")||t.IW,t.NW=LE.ju(JB+"windowColor")||t.NW,t.DW=LE.ju(JB+"edgeStyle")||t.DW,t},n.rht=function(t){LE.Kf(JB+"fontFamily",t.SW||""),LE.Kf(JB+"fontColor",t.EW||""),LE.Kf(JB+"fontSize",t.RW||""),LE.Kf(JB+"backgroundColor",t.IW||""),LE.Kf(JB+"windowColor",t.NW||""),LE.Kf(JB+"edgeStyle",t.DW||"")},b(n,[{key:"eht",get:function(){return this.Fq}},{key:"SW",get:function(){return this.Fq.SW},set:function(t){this.qs({SW:t})}},{key:"EW",get:function(){return this.Fq.EW},set:function(t){this.qs({EW:t})}},{key:"RW",get:function(){return this.Fq.RW},set:function(t){this.qs({RW:t})}},{key:"IW",get:function(){return this.Fq.IW},set:function(t){this.qs({IW:t})}},{key:"NW",get:function(){return this.Fq.NW},set:function(t){this.qs({NW:t})}},{key:"DW",get:function(){return this.Fq.DW},set:function(t){this.qs({DW:t})}},{key:"Na",get:function(){var t,n,i;return this.Ia||(this.Ia=(i={get fontFamily(){return t.SW},set fontFamily(n){t.SW=n},get fontColor(){return t.EW},set fontColor(n){t.EW=n},get fontSize(){return t.RW},set fontSize(n){t.RW=n},get backgroundColor(){return t.IW},set backgroundColor(n){t.IW=n},get windowColor(){return t.NW},set windowColor(n){t.NW=n},get edgeStyle(){return t.DW},set edgeStyle(n){t.DW=n},addEventListener:function(t,i){t=no(t,to),n.Iu(t,i)},removeEventListener:function(t,i){t=no(t,to),n.Cu(t,i)}},n=new qs(t=this,i),i)),this.Ia}}]),n}(Ds);function $B(t,n){return t?Et(Et({},n),Zs(t)):n}function tL(t){return t.RW&&un(t.RW,"%")?+t.RW.replace("%","")/100:t.RW&&un(t.RW,"em")?+t.RW.replace("em",""):1}var nL=function(){function t(t,n,i,r,e){var u=this;this.uht=Rt(),this.sht=!0,this.oht=function(t){return u.uht.has(t.Wk)},this.aht=function(t){return!u.oht(t)},this.cht=function(t){return u.Bb(t.xA)},this.hht=function(t){return u.removeCue(t.xA)},this.fht=function(){return u.vht()},this.dht=function(t){return u._ht(t.xA)},this.ght=function(t){return u.wht(t.xA)},this.yht=function(t){u.mht(t.q_,t.P_)},this.Pk=t,this.pht=this.kht=e,this.Oo=this.Aht(i),this.bht=r,n.appendChild(this.Oo),this.Tht(),this.Pk._c.Ha.forEach(function(t){return u.Bb(t)}),this.ZM.Iu("ZP",this.yht),this.mht(this.ZM.ex,this.ZM.ix)}var n=t.prototype;return n.Eht=function(t){this.kht=$B(t,this.pht),this.kht.SW&&(this.vI.style.fontFamily=this.kht.SW),this.mht(this.ZM.ex,this.ZM.ix),this.Sht()},n.Tht=function(){this.Pk.Iu("cb",this.cht),this.Pk.Iu("hb",this.hht),this.Pk.Iu("Ma",this.fht)},n.Rht=function(){var t=this;this.Pk.Cu("cb",this.cht),this.Pk.Cu("hb",this.hht),this.Pk.Cu("Ma",this.fht),this.Pk._c.Ha.forEach(function(n){return t.Iht(n)})},n.Nht=function(t){t.Iu("BA",this.dht),t.Iu("LA",this.ght)},n.Iht=function(t){t.Cu("BA",this.dht),t.Cu("LA",this.ght)},n.Bb=function(t){t.Wk||(t.Wk=this.Dht),this.Nht(t),t.qk&&this._ht(t)},n.removeCue=function(t){this.Iht(t),this.wht(t)},n.vht=function(){this.Pk.dc===oo.fc?this.Cht():this.Oht()},n.Cht=function(){var t=this,n=this.ZM.ex,i=this.ZM.ix,r=new xT(n,i);this.yht(r),this.sht=!1,this.Pht.forEach(function(n){return t._ht(n)})},n._ht=function(t){this.sht||this.aht(t)&&(this.xht(t),this.uht.set(t.Wk,t))},n.xht=function(t){var n=this.Oo,i=this.Bht(t);if(i)for(var r=0;r<i.length;r++){var e=i[r];e.className=t.Wk,n.appendChild(e)}},n.Oht=function(){var t=this;this.sht=!0,this.uht.forEach(function(n){return t.wht(n)})},n.wht=function(t){this.oht(t)&&(this.Lht(t),this.uht.delete(t.Wk))},n.Lht=function(t){for(var n=this.Oo,i=n.getElementsByClassName(t.Wk);i.length;)n.removeChild(i[0])},n.Sht=function(){for(var t=0,n=this.Mht;t<n.length;t++){var i=n[t];this.Lht(i),this.xht(i)}},n.Va=function(){ae(this.vI),this.Rht(),this.ZM.Cu("ZP",this.yht)},b(t,[{key:"Ca",get:function(){return this.Pk}},{key:"vI",get:function(){return this.Oo}},{key:"ZM",get:function(){return this.bht}},{key:"Uht",get:function(){return this.kht}},{key:"Mht",get:function(){return this.Pk.gc.Ha.filter(this.oht)}},{key:"Pht",get:function(){return this.Pk.gc.Ha.filter(this.aht)}}]),t}();function iL(t,n){void 0===t.textContent?t.innerText=n:t.textContent=n}var rL=It({monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:"monospace, sans-serif",monospaceSerif:"monospace, serif",proportionalSansSerif:"Arial",proportionalSerif:"Times New Roman",default:"monospace, sans-serif;"}),eL=It({lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}),uL={backgroundColor:function(t,n){n.style.backgroundColor=t},color:function(t,n){n.style.color=t},direction:function(t,n){n.style.direction=t},display:function(t,n){"none"===t&&(n.style.display="none")},fontFamily:function(t,n){var i=rL.get(t);n.style.fontFamily=i||t},fontSize:function(t,n){on(t,"px")?t=g(t)/24+"em":on(t,"c")&&(t=t.replace("c","em")),n.style.fontSize=t},fontStyle:function(t,n){n.style.fontStyle=t},fontWeight:function(t,n){n.style.fontWeight=t},lineHeight:function(t,n){n.style.lineHeight=t},opacity:function(t,n){n.style.opacity=t},overflow:function(t,n){n.style.overflow=t},padding:function(t,n){n.style.padding=t},textAlign:function(t,n){"right"===t?(n.style.textAlign="right",n.style.justifyContent="flex-end"):"start"===t?(n.style.textAlign="start",n.style.justifyContent="flex-start"):"center"===t?(n.style.textAlign="center",n.style.justifyContent="center"):"end"===t?(n.style.textAlign="end",n.style.justifyContent="flex-end"):"left"===t&&(n.style.textAlign="left",n.style.justifyContent="flex-start")},textDecoration:function(t,n){var i=t;i=(i=(i=(i=i.replace("lineThrough","line-through")).replace("noUnderline","none")).replace("noLineThrough ","none")).replace("noOverline  ","none"),n.style.textDecoration=i},unicodeBidi:function(t,n){n.style.unicodeBidi=t.replace("bidiOverride","bidi-override")},visibility:function(t,n){n.style.visibility=t},zIndex:function(t,n){n.style.zIndex=t},displayAlign:function(t,n){var i;"before"===t.toLowerCase()?i="flex-start":"center"===t.toLowerCase()?i="center":"after"===t.toLowerCase()&&(i="flex-end"),n.style.alignItems=i},extent:function(t,n){var i,r,e=t.split(" ");e.length>=2?(i=e[0],r=e[1]):i=r="100%",n.style.height=r,n.style.width=i},origin:function(t,n){var i=t.split(" ");n.style.left=i[0],n.style.top=i[1]},showBackground:function(t,n){},wrapOption:function(t,n){n.style.whiteSpace=t.replace("noWrap","nowrp").replace("wrap","normal").replace("nowrp","nowrap")},writingMode:function(t,n){var i=eL.get(t);i&&(n.style.cssText=n.style.cssText.concat(i))},textOutline:function(){},linePadding:function(t,n){if(on(t,"c")){var i=t.replace("c","em");n.style.paddingLeft=n.style.paddingRight=i}},multiRowAlign:function(t,n){"auto"===t.toLowerCase()?n.style.textAlign="":n.style.textAlign="value"}},sL=0,oL={EW:mI.WHITE,SW:"Arial, Helvetica, Sans-Serif",RW:"100%",IW:mI.TRANSPARENT,NW:mI.TRANSPARENT,DW:""},aL=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,oL)||this}ut(n,t);var i=n.prototype;return i.Aht=function(t){var n=u.createElement("div");return n.className="theoplayer-ttml-texttrack-"+t,n.style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n},i.mht=function(t,n){var i=n/15;this.vI.style.fontSize=i+"px"},i.Bht=function(t){if(t.Ca&&"ttml"!==t.Ca.ru)return[];var n,i=[],r=t,e=r.Yk,s=r.Qk,o=r.Ok;if(0===l.keys(s).length){ce(n=u.createElement("div"),r.Wk),_L(n);for(var a=cL(o,e,r.Zk,void 0,this.vI),c=0;c<a.length;c++){var h=a[c];n.appendChild(h)}i.push(n)}else for(var f=0,v=l.keys(s);f<v.length;f++){var d=v[f],_=u.createElement("div");_.id=d,ce(_,r.Wk);var g=cL(o,e,r.Zk,_,this.vI);if(g){_L(_),vL(_,s[d],e,this.vI);for(var w=0;w<g.length;w++){var y=g[w];_.appendChild(y)}i.push(_)}i.push(_)}return i},i.Eht=function(t){},b(n,[{key:"Dht",get:function(){return"theoplayer-ttmlcue-"+sL++}}]),n}(nL);function cL(t,n,i,r,e){var u,s;if(bc(t)&&("SPAN"===(s=t).nodeName.toUpperCase()||"P"===s.nodeName.toUpperCase()||"BR"===s.nodeName.toUpperCase()||"DIV"===s.nodeName.toUpperCase()||"BODY"===s.nodeName.toUpperCase())){var o=wc(t,"region");if(!o||r.id===o){(function(t,n,i,r){var e=wc(n,"style");lL(t,e,i,r),function(t,n,i){Array.prototype.slice.call(n.attributes).forEach(function(n){var r=kc(n.name,["ebutts","tts","xml"]);uL[r]&&uL[r](n.value,t,i)})}(t,n,r)})(u="BODY"===t.nodeName.toUpperCase()?r:hL(t),t,n,e),function(t,n,i){var r=wc(n,"smpte:backgroundImage");if(r){var e="[*|id='"+(r=r.replace("#",""))+"']",u=i.querySelector(e);u&&dL(t,u,n,!0)}!function(t,n){var i=n.firstElementChild;if(!i||"metadata"!==i.nodeName.toLowerCase())return;var r=i.firstElementChild;dL(t,r,n)}(t,n)}(u,t,i);for(var a=[],c=t.childNodes,h=0;h<c.length;h++){var f=cL(c[h],n,i,r,e);f&&(a=a.concat(f))}if("BODY"!==t.nodeName.toUpperCase()){for(var v=0,d=a;v<d.length;v++){var l=d[v];u.appendChild(l)}return[u]}return a}}else(function(t){return t&&3===t.nodeType})(t)&&(u=hL(t));if(u)return[u]}function hL(t){var n,i;switch(t.nodeName.toUpperCase()){case"#TEXT":iL(n=u.createElement("text"),t.textContent);break;case"BR":n=u.createElement("br");break;case"SPAN":n=u.createElement("span"),(i=n).style.backgroundColor="rgba(0,0,0,0.6)",i.style.textAlign="start",i.style.lineHeight="normal",fL(n,t);break;case"P":(function(t){t.style.fontFamily="Arial, Helvetica, Sans-Serif",t.style.color="white",t.style.justifyContent="flex-start",t.style.textAlign="start",t.style.padding="none",t.style.margin="0",t.style.lineHeight="normal",t.style.lineHeight="1.3em",t.style.textShadow="rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) 1px -1px 0px, rgb(0, 0, 0) -1px 1px 0px, rgb(0, 0, 0) 1px 1px 0px"})(n=u.createElement("p")),fL(n,t);break;case"DIV":fL(n=u.createElement("div"),t)}return n}function fL(t,n){var i=yc(n,"id",gc);i&&(t.id=i)}function vL(t,n,i,r){lL(t,n.style,i,r),l.keys(n).forEach(function(i){uL[i]&&uL[i](n[i],t)})}function dL(t,n,i,r){void 0===r&&(r=!1),r&&(t.style.width=t.style.height="100%");var e="data:png;base64,"+n.innerHTML,s=u.createElement("img");s.src=e,s.id=t.id,s.style.height="100%",s.style.maxWidth="100%",function(t,n){t.style.display="flex";var i=wc(n,"smpte:backgroundImageVertical");if(i)switch(i.toLowerCase()){case"left":t.style.alignItems="flex-start";break;case"center":t.style.alignItems="center";break;case"right":t.style.alignItems="flex-end";break;case"inherit":t.style.alignItems="inherit"}else t.style.alignItems="center";var r=wc(n,"smpte:backgroundImageHorizontal");if(r)switch(r.toLowerCase()){case"left":t.style.justifyContent="flex-start";break;case"center":t.style.justifyContent="center";break;case"right":t.style.justifyContent="flex-end";break;case"inherit":t.style.justifyContent="inherit"}else t.style.justifyContent="center"}(t,i),t.appendChild(s)}function lL(t,n,i,r){n&&n.split(" ").forEach(function(n){i[n]&&l.keys(i[n]).forEach(function(e){var u=kc(e,["ebutts","tts","xml"]);"style"===u.toLowerCase()?lL(t,i[n][e],i,r):uL[u]&&uL[u](i[n][e],t,r)})})}function _L(t){t.style.display="flex",t.style.top="auto",t.style.left="5%",t.style.width="90%",t.style.height="100%",t.style.maxHeight=t.style.maxWidth="100%",t.style.alignItems="flex-start",t.style.overflow="visible",t.style.position="absolute",t.style.justifyContent="center",t.style.textAlign="start",t.style.cssText=t.style.cssText.concat("ms-writing-mode: lr-tb, horizontal-tb;-webkit-writing-mode: horizontal-tb;-moz-writing-mode: horizontal-tb;writing-mode: horizontal-tb;"),t.style.padding="none",t.style.margin="0"}var gL,wL,yL=u.createElement("textarea");function mL(t,n){for(var i,r=gL.Fht,e="",u=[],s=t.charAt(n.rs),o="",a={ru:wL.Vht,dn:"",Hht:[]};n.rs<t.length+1;){switch(s=n.rs<t.length?t.charAt(n.rs):"EOF",r){case gL.Fht:switch(s){case"&":var c=t.substr(n.rs).match(/&#?[0-9a-zA-Z]+;/);c?(e+=(i=c[0],yL.innerHTML=i,yL.value),n.$u(c[0].length-1)):e+="&";break;case"<":if(e)return{ru:wL.aw,Ok:e};r=gL.qht;break;case"EOF":return{ru:wL.aw,Ok:e};default:e+=s}break;case gL.qht:switch(s){case"\t":case"\n":case"\f":case" ":r=gL.Wht;break;case".":r=gL.Xht;break;case"/":r=gL.Ght;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=s,r=gL.zht;break;case">":return n.$u(1),a;case"EOF":return a;default:e=s,r=gL.jht}break;case gL.jht:switch(s){case"\t":case"\f":case" ":r=gL.Wht;break;case"\n":o=s,r=gL.Wht;break;case".":r=gL.Xht;break;case">":return n.$u(1),{ru:wL.Vht,dn:e,Hht:[]};case"EOF":return{ru:wL.Vht,dn:e,Hht:[]};default:e+=s}break;case gL.Xht:switch(s){case"\t":case"\f":case" ":u.push(o),o="",r=gL.Wht;break;case"\n":u.push(o),o=s,r=gL.Wht;break;case".":u.push(o),o="";break;case">":return n.$u(1),u.push(o),{ru:wL.Vht,dn:e,Hht:u};case"EOF":return u.push(o),{ru:wL.Vht,dn:e,Hht:u};default:o+=s}break;case gL.Wht:switch(s){case"&":r=gL.Yht;break;case">":n.$u(1);var h=o.trim();return h=h.replace(/\s/," "),{ru:wL.Vht,dn:e,Hht:u,Qht:h};default:o+=s}break;case gL.Yht:for(var f="",v=n.rs;">"===t.charAt(v);v++)f+=t.charAt(v);o+=f||"&",r=gL.Wht;break;case gL.Ght:switch(s){case">":return n.$u(1),{ru:wL.Zht,dn:e};case"EOF":return{ru:wL.Zht,dn:e};default:e+=s}break;case gL.zht:switch(s){case">":return n.$u(1),{ru:wL.Jht,Kht:e};case"EOF":return{ru:wL.Jht,Kht:e};default:e+=s}}n.$u(1)}}!function(t){t.Fht="Data",t.qht="Tag",t.jht="StartTag",t.Xht="StartTagClass",t.Wht="StartTagAnnotation",t.Yht="CharRefInAnnotation",t.Ght="EndTag",t.zht="TimestampTag"}(gL||(gL={})),function(t){t.aw="string",t.Vht="starttag",t.Zht="endtag",t.Jht="timestamp"}(wL||(wL={}));var pL={EW:mI.WHITE,SW:"sans-serif",RW:"100%",IW:"rgba(0,0,0,0.8)",NW:mI.TRANSPARENT,DW:"none"},kL="theoplayer-webvtt-region-",AL="theoplayer-webvtt-styling-",bL="theoplayer-webvtt-voice-",TL=5.23,EL=1.14,SL=0,RL=function(t){function n(n,i,r,e){var u;return(u=t.call(this,n,i,r,e,pL)||this).$ht={},u.tft=OL(3),u}ut(n,t);var i=n.prototype;return i.Aht=function(t){var n=u.createElement("div");return n.className="theoplayer-webvtt-texttrack-"+t,ve(n),he(n.style,"flex","-ms-flexbox"),n.style.overflow="hidden",n.style.pointerEvents="none",n.style.fontFamily=this.Uht.SW,n.style.whiteSpace="pre-line",n},i.mht=function(t,n){for(var i=n/100,r=t/100,e=_.min(i,r),u=tL(this.Uht),s=0,o=l.keys(this.nft);s<o.length;s++){var a=o[s],c=this.nft[a].ift;this.rft(c,e,u,this.nft[a].vA)}this.rft(this.eft,e,u),this.uft()},i.uft=function(){var t=tL(this.Uht);this.eft.style.padding=t>=1.5?"0":1/t+"em"},i.xht=function(t){var n=this.vI,i=this.ZM.ix/100,r=this.eft;t.vA&&(this.nft[t.vA.ic]||(this.nft[t.vA.ic]={vA:t.vA,ift:PL(t.vA,i)}),r=this.nft[t.vA.ic].ift),n.querySelector("."+r.className)||n.appendChild(r);var e=this.Bht(t);r.children.length>=1&&t.vA&&"up"===t.vA.yA&&(r.style.transitionProperty="top",r.style.transitionDuration="0.433s");for(var u=0;u<e.length;u++){var s=e[u];s.className=t.Wk,r.appendChild(s)}},i.Bht=function(t){var n=[];return t&&n.push(this.sft(t)),n},i.sft=function(t){for(var n=new mr,i=t.Ok,r=this.oft(t),e=r,s="",o=[],a={};n.rs<i.length;){var c=mL(i,n);if(c.ru===wL.aw){var h=this.aft(c.Ok);IL(h,a),e.appendChild(h)}else if(c.ru===wL.Vht){switch(a[c.dn.toLowerCase()]||(a[c.dn.toLowerCase()]=[]),a[c.dn.toLowerCase()].push(c),c.dn.toLowerCase()){case"c":break;case"i":var f=u.createElement("i");e.appendChild(f),e=f;break;case"b":var v=u.createElement("b");e.appendChild(v),e=v;break;case"u":var d=u.createElement("u");e.appendChild(d),e=d;break;case"ruby":var l=u.createElement("ruby");e.appendChild(l),e=l;break;case"rt":if("ruby"===s){var _=u.createElement("rt");e.appendChild(_)}break;case"v":break;case"lang":o.push(c.Qht)}s=c.dn||""}else if(c.ru===wL.Zht){a[c.dn.toLowerCase()]&&a[c.dn.toLowerCase()].pop(),(!c.dn||"C"!==c.dn.toUpperCase()&&"V"!==c.dn.toUpperCase())&&("LANG"===c.dn.toUpperCase()?o.pop():"RUBY"===c.dn.toUpperCase()&&"RUBY"===e.tagName?e=e.parentNode.parentNode:e.tagName&&e.tagName.toUpperCase()===c.dn.toUpperCase()&&(e=e.parentNode)),s=c.dn||""}else if(c.ru===wL.Jht){var g=c.Kht,w=new mr;try{Id(g,w)}catch(t){nt("ERROR collecting timestamp",t)}}}return r},i.aft=function(t){var n=u.createElement("span");return iL(n,t),n.style.background=this.Uht.IW,n},i.rft=function(t,n,i,r){if(r){var e=NL(r,n);t.style.height=e*i+"px",t.style.left=DL(r)+"%",t.style.top=CL(r,n)+"px"}t.style.fontSize=TL*n*i+"px"},i.oft=function(t){var n=u.createElement("div");return n.style.margin="0",n.style.padding="0",n.style.unicodeBidi="plaintext",n.style.wordWrap="break-word",n.style.width="auto",n.style.textAlign=t.oA,function(t,n){"rl"===n.lA?t.style.writingMode="vertical-rl":"lr"===n.lA?t.style.writingMode="vertical-lr":t.style.writingMode="horizontal-tb"}(n,t),function(t,n){var i=Zv(n);xL(n)?(t.style.width=i+"%",t.style.height="auto"):(t.style.height=i+"%",t.style.width="auto")}(n,t),function(t,n){var i,r,e=Qv(n),u=Yv(n),s=Zv(n);xL(n)?("line-left"===e?i=u:"center"===e?i=u-s/2:"line-right"===e&&(i=u-s),r=n.dA?0:jv(n)):("line-left"===e?r=u:"center"===e?r=u-s/2:"line-right"===e&&(r=u-s),i=n.dA?0:jv(n));t.style.left=i+"%",t.style.top=r+"%"}(n,t),n.style.background=this.Uht.NW,n.style.color=this.Uht.EW,n.style.textShadow=TI(this.Uht.DW),n},i.Lht=function(t){for(var n=t.Wk,i=this.vI,r=i.children,e=0;e<r.length;e++){for(var u=r[e].getElementsByClassName(n),s=0;s<u.length;s++)r[e].removeChild(u[s]);if(0===r[e].childNodes.length){for(var o=0,a=l.keys(this.nft);o<a.length;o++){var c=a[o];if(un(r[e].className,kL+c)){delete this.nft[c];break}}i.removeChild(r[e])}}},b(n,[{key:"nft",get:function(){return this.$ht||(this.$ht={}),this.$ht}},{key:"eft",get:function(){return this.tft||(this.tft=OL(3)),this.tft}},{key:"Dht",get:function(){return"theoplayer-webvtt-cue-"+SL++}}]),n}(nL);function IL(t,n){if(n.c)for(var i=0,r=n.c;i<r.length;i++){var e=r[i];if(e.Hht)for(var u=0,s=e.Hht;u<s.length;u++){var o=s[u];ce(t,AL+o)}}if(n.v)for(var a=0,c=n.v;a<c.length;a++){var h=c[a];h.Qht&&ce(t,bL+h.Qht)}}function NL(t,n){return t._A*(TL*n)*EL}function DL(t){return t.mA-t.gA*t.q_/100}function CL(t,n){var i=t.pA,r=t.wA*NL(t,n)/100;return _.max(0,i-r)}function OL(t){var n=u.createElement("div");return n.className=kL+"default",ve(n),he(n.style,"inline-flex","-ms-flexbox"),n.style.flexFlow="column",n.style.justifyContent="flex-end",n.style["-ms-flex-align"]="end",n.style.overflow="hidden",n.style.wordWrap="break-word",n.style.writingMode="horizontal-tb",n.style.pointerEvents="none",n.style.maxHeight="100%",n.style.minHeight="0px",n.style.margin="0",n.style.padding="1em",n.style.boxSizing="border-box",n.style.fontSize=TL*t+"px",n.style.lineHeight=EL+"em",n}function PL(t,n){var i=OL(n);i.className=kL+t.ic;var r=t.q_,e=NL(t,n);return i.style.width=r+"%",i.style.height=e+"px",i.style.left=DL(t)+"%",i.style.top=CL(t,n)+"px",i.style.padding="0",i.style.boxSizing="border-box",i}function xL(t){return""===t.lA}var BL=function(){function t(t,n,i){this.cft=t,this.hft=n,this.kht=i}var n=t.prototype;return n.fft=function(){return this.vft=this.dft(),this.lft(),this._ft(),this.vft},n.dft=function(){var t=u.createElement("div");return t.style.position="absolute",t.style.margin="0",t.style.padding="0",t.style.whiteSpace="pre",t.style.width=this.gft/rI*this.hft.wft*100+"%",t.style.height=1.2*this.yft+"em",t.style.lineHeight="1.2em",t.style.letterSpacing=this.hft.mft?"calc(1em - 1ch)":"",t.style.fontFamily=this.kht.SW,t.style.backgroundColor=this.kht.NW,t},n.lft=function(){var t=this.pft.Rq/iI*100,n=this.pft.Iq/rI*100,i=(rI-this.kft.Iq-1)/rI*100,r=(iI-this.kft.Rq-1)/iI*100;this.hft.Aft||(n=i=1,this.vft.style.width="98%"),r<t?this.vft.style.bottom=r*this.hft.wft+"%":this.vft.style.top=t*this.hft.wft+"%",i<n?this.vft.style.right=i+"%":this.vft.style.left=n+"%"},n._ft=function(){for(var t=this.cft.Lq.sort(LL),n=0;n<t.length;n++)this.bft(t[n-1],t[n]),this.Tft(t[n]);this.bft(t[t.length-1],null)},n.Tft=function(n){var i=$B(this.kht,n.Wq),r=t.Eft(i);iL(r,n.qq),this.vft.appendChild(r)},t.Eft=function(t){var n=u.createElement("span");return n.style.display="inline-block",t.OW!==EI.FONT_ITALICS&&t.OW!==EI.FONT_UNDERLINE_ITALICS||(n.style.fontStyle="italic"),t.OW!==EI.FONT_UNDERLINE&&t.OW!==EI.FONT_UNDERLINE_ITALICS||(n.style.textDecoration="underline"),n.style.color=t.EW,n.style.backgroundColor=t.IW,n.style.textShadow=TI(t.DW),n.style.height="1.2em",n},n.bft=function(t,n){var i=t?t.Uq.Rq:this.cft.Mq.Rq,r=n?n.Mq.Rq:this.cft.Uq.Rq,e=t?t.Uq.Iq:this.cft.Mq.Iq,u=n?n.Mq.Iq:this.cft.Uq.Iq;i<r&&(!n||t&&t.Mq.Rq!==n.Mq.Rq?this.Sft():this.Rft(this.cft.Uq.Iq-e),e=this.cft.Mq.Iq),e<u&&(n?this.Rft(u-e):this.Sft())},n.Sft=function(){var t=u.createElement("br");this.vft.appendChild(t)},n.Rft=function(t){if(!(t<=0)){var n=u.createElement("span");n.style.display="inline-block",iL(n,cn(" ",t)),this.vft.appendChild(n)}},b(t,[{key:"pft",get:function(){return this.cft.Mq}},{key:"kft",get:function(){return this.cft.Uq}},{key:"gft",get:function(){return this.cft.Uq.Iq-this.cft.Mq.Iq+1}},{key:"yft",get:function(){return this.cft.Uq.Rq-this.cft.Mq.Rq+1}}]),t}();function LL(t,n){return function(t,n){if(t.Rq!==n.Rq)return t.Rq-n.Rq;return t.Iq-n.Iq}(t.Mq,n.Mq)}var ML=0;var UL=function(t){function n(n,i,r,e){return t.call(this,n,i,r,e,II)||this}ut(n,t);var i=n.prototype;return i.Aht=function(t){var n=u.createElement("div");return n.className="theoplayer-cea608-texttrack-"+t,n.style.position="absolute",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.height="100%",this.Uht.SW&&(n.style.fontFamily=this.Uht.SW),n},i.mht=function(t,n){this.Ift()},i.Ift=function(){var t,n=tL(this.Uht);this.Nft={wft:(t=100*n)/100,mft:t<=100,Aft:t<=150};var i=this.Dft/rI;this.Cft=i*n,this.vI.style.fontSize=this.Cft+"px"},i.Bht=function(t){var n=this;return this.Nft&&this.Nft.Aft?this.Oft(80):this.Oft(100),this.Ift(),t.Ok.map(function(t){return new BL(t,n.Nft,n.Uht).fft()})},i.Oft=function(t){var n=(100-t)/2;this.vI.style.left=n+"%",this.vI.style.width=t+"%"},b(n,[{key:"Dft",get:function(){var t=this.vI.offsetWidth;return this.Nft&&this.Nft.Aft||(t*=.8),t}},{key:"Dht",get:function(){return"theoplayer-cea608-texttrack-"+ML++}}]),n}(nL),FL=function(){function t(t,n,i,r){var e=this;this.Pft=[],this.xft=function(t){var n=t.Ca;n.Iu("_b",e.Bft),n.Iu("gb",e.Bft),n instanceof yR&&(n._F=e._F),e.Lft(n)},this.Bft=function(t){var n=t.Ca;e.Lft(n)},this.Mft=function(t){var n=t.Ca;n.Cu("_b",e.Bft),n.Cu("gb",e.Bft),e.Uft(n)},this.Fft=function(){for(var t=e._F,n=0,i=e.qA.Ha;n<i.length;n++){var r=i[n];r instanceof yR&&(r._F=t)}},this._ct=t,this.bht=n,this.qA=i,this.Vft=r,this.qA.Iu("Oa",this.xft),this.qA.Iu("Pa",this.Mft),this.qA.Iu("Ma",this.Bft),this.Vft.Iu("fullscreenchange",this.Fft),this.Fft()}var n=t.prototype;return n.Hft=function(t){for(var n=0,i=this.Pft;n<i.length;n++){var r=i[n];if(r.Ca===t)return r}},n.qft=function(t){switch(t.ru){case"ttml":case"srt":case"webvtt":case"cea608":return!0}return!1},n.Wft=function(t){switch(t.ru){case"ttml":return new aL(t,this._ct,t.uc,this.bht);case"srt":case"webvtt":return new RL(t,this._ct,t.uc,this.bht);case"cea608":return new UL(t,this._ct,t.uc,this.bht)}},n.Xft=function(t){var n=this.Hft(t);n||((n=this.Wft(t)).Eht(this.kht),this.Pft.push(n),t.dc===oo.fc&&n.Cht())},n.Uft=function(t){for(var n=this.Pft,i=n.length-1;i>=0;i-=1){var r=n[i];r.Ca===t&&(r.Va(),bn(n,i))}},n.Lft=function(t){var n;(n=t.ec)!==vf.xy&&n!==vf.By||!this.qft(t)||(t.lc===Ll.ERROR?this.Uft(t):this.Xft(t))},n.Fa=function(){for(var t=0,n=this.Pft;t<n.length;t++){var i=n[t];i.Ca.Cu("_b",this.Bft),i.Ca.Cu("gb",this.Bft),i.Va()}Sn(this.Pft)},n.Va=function(){this.Fa();for(var t=0,n=this.Pft;t<n.length;t++){n[t].Va()}this.kht=void 0,this.Pft=void 0,this.qA.Cu("Oa",this.xft),this.qA.Cu("Pa",this.Mft),this.qA.Cu("Ma",this.Bft),this.qA=void 0,this.Vft.Cu("fullscreenchange",this.Fft),this._ct=void 0,this.bht=void 0},n.Eht=function(t){this.kht=t;for(var n=0,i=this.Pft;n<i.length;n++){i[n].Eht(t)}},b(t,[{key:"_F",get:function(){return this.Vft.Ix}}]),t}(),VL=function(){function t(t,n){var i=this;this.Gft=t,this.GM=n,this.zft=!0,this.jft=function(){i.zft&&(i.GM.cM?i.Gft.ET():i.Gft.TT())},this.GM.Iu("uM",this.jft)}return t.prototype.Va=function(){this.GM&&this.GM.Cu("uM",this.jft)},b(t,[{key:"Yft",set:function(t){this.zft!==t&&(t?this.GM&&this.GM.cM||this.Gft.TT():this.Gft.ET(),this.zft=t)}}]),t}();zE(function(t){return function(t){function n(n,i){var r;return(r=t.call(this,n,i)||this).Qft=function(){r.Eht(r.Zft.eht)},r.Jft=new jB(n),r.Kft=new FL(r.Jft.LT,r.MM,r.fT,r.qM),r.Zft=new KB,r.Zft.Iu("Ma",r.Qft),r.Qft(),r.$ft=new VL(r.Jft,r.QM),r}ut(n,t);var i=n.prototype;return i.Da=function(){var n=this;return zs(t.prototype.Da.call(this),{get textTrackStyle(){return n.tvt.Na}})},i.Va=function(){this.Kft.Va(),this.Jft.Va(),this.$ft.Va(),t.prototype.Va.call(this)},i.TT=function(){t.prototype.TT.call(this),this.$ft.Yft=!0},i.ET=function(){t.prototype.ET.call(this),this.$ft.Yft=!1},i.Eht=function(t){this.Kft.Eht(t)},b(n,[{key:"tvt",get:function(){return this.Zft}}]),n}(t)},ME.$M);var HL=function(){},qL=function(){function t(){this.internalDict={},this.uidCounter=0}var n=t.prototype;return n.register=function(t){return this.internalDict[this.uidCounter]=t,this.uidCounter++},n.get=function(t){return this.internalDict[t]},n.remove=function(t){delete this.internalDict[t]},t}(),WL=At(function(t,n){function i(t,n){var i=[],r=[];return null==n&&(n=function(t,n){return i[0]===n?"[Circular ~]":"[Circular ~."+r.slice(0,i.indexOf(n)).join(".")+"]"}),function(e,u){if(i.length>0){var s=i.indexOf(this);~s?i.splice(s+1):i.push(this),~s?r.splice(s,1/0,e):r.push(e),~i.indexOf(u)&&(u=n.call(this,e,u))}else i.push(u);return null==t?u:t.call(this,e,u)}}(t.exports=function(t,n,r,e){return JSON.stringify(t,i(n,e),r)}).getSerialize=i});function XL(t,n){return void 0!==n&&null!=n&&"function"==typeof n.start&&"function"==typeof n.end&&"number"==typeof n.length?function(t){for(var n=[],i=0;i<t.length;i++)n[i]={start:t.start(i),end:t.end(i)};return n}(n):n}function GL(t){return JSON.stringify(t,WL.getSerialize(XL))}function zL(t){return void 0===t.adBreak||void 0===t.adBreak.ads?t:Et(Et({},t),{adBreak:Et(Et({},t.adBreak),{ads:t.adBreak.ads.map(function(t){t.adBreak;return wo(t,["adBreak"])})})})}function jL(t){return void 0===t.ads?t:Et(Et({},t),{ads:t.ads.map(function(t){t.adBreak;return wo(t,["adBreak"])})})}function YL(t){return"string"==typeof t.date?new Date(t.date):t.date}function QL(t){var n;return t.cue.track?(n=ZL(t.cue,t.cue.track.type)).track={uid:t.cue.track.uid}:n=ZL(t.cue,""),n}function ZL(t,n){var i,r={};switch(r.content=t.content,r.endTime=t.endTime,r.startTime=t.startTime,r.id=t.id,r.uid=t.uid,n){case"webvtt":r.align=t.align,r.line=t.line,r.lineAlign=t.lineAlign,r.position=t.position,r.positionAlign=t.positionAlign,r.region=t.region,r.size=t.size,r.snapToLines=t.snapToLines,r.text=t.text,r.vertical=t.vertical;break;case"ttml":r.content=function t(n){var i=n.children;if(0!==i.length)for(var r=0;r<i.length;r++){var e=i.item(r);return"image"===e.nodeName||"smpte:image"===e.nodeName?e:t(e)}}(t.content).innerHTML;break;case"daterange":var e={};for(var u in t.customAttributes){var s=t.customAttributes[u];if("object"==typeof(i=s)&&null!==i){var o=JL(s);e[u]={type:"daterange-ca-type_arraybuffer",value:o}}else $L(s)?e[u]={type:"daterange-ca-type_number",value:s}:e[u]={type:"daterange-ca-type_string",value:String(s)}}r.attributedClass=String(t.class),r.startDate=t.startDate,r.endDate=t.endDate,r.duration=t.duration,r.plannedDuration=t.plannedDuration,r.endOnNext=t.endOnNext,r.scte35Cmd=JL(t.scte35Cmd),r.scte35Out=JL(t.scte35Out),r.scte35In=JL(t.scte35In),r.customAttributes=e}return r}function JL(t){if(void 0!==t)return $n(t)}function KL(t){var n={};if(n.kind=t.kind,n.language=t.language,n.label=t.label,n.id=t.id,n.uid=t.uid,n.src=t.src,"cues"in t){n.inBandMetadataTrackDispatchType=t.inBandMetadataTrackDispatchType,n.mode=t.mode,n.type=t.type;var i=[];if(t.cues)for(var r=0;r<t.cues.length;r++){var e=t.cues[r];i.push(ZL(e,t.type))}n.cues=i;var u=[];if(t.activeCues)for(var s=0;s<t.activeCues.length;s++){var o=t.activeCues[s];u.push(ZL(o,t.type))}n.activeCues=u}else"enabled"in t&&(n.enabled=t.enabled);return n}function $L(t){return"number"==typeof t}var tM={cue:function(t){var n={};switch(n.date=YL(t),n.type=t.type,t.type){case"enter":case"exit":case"update":n.cue=QL(t)}return n},textTrack:function(t){var n={};switch(n.date=YL(t),n.type=t.type,t.type){case"addcue":t.cue.uid||(t.cue.uid=eM().register(t.cue));var i=rM()[uM()].eventListeners;t.cue.addEventListener("enter",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("exit",function(t){i.InternalCueHelperEvent(t)}),t.cue.addEventListener("update",function(t){i.InternalCueHelperEvent(t)});case"removecue":case"entercue":case"exitcue":n.cue=QL(t);break;case"cuechange":for(var r=[],e=0;e<t.track.activeCues.length;e++){var u=t.track.activeCues[e];r.push(ZL(u,t.track.type))}n.track={activeCues:r,uid:t.track.uid}}return n},textTrackList:function(t){var n={};switch(n.date=YL(t),n.type=t.type,t.type){case"addtrack":t.track.cues&&t.track.cues.length&&t.track.cues.length>0&&t.track.cues.map(function(t){t.uid=eM().register(t)}),n.track=KL(t.track);case"removetrack":case"change":n.track=KL(t.track)}return n},default:function(t){var n={};switch(n.date=YL(t),n.type=t.type,t.type){case"play":case"playing":case"pause":case"seeking":case"seeked":case"ended":case"waiting":case"emptied":n.currentTime=t.currentTime;break;case"timeupdate":n.currentTime=t.currentTime,n.currentProgramDateTime=t.currentProgramDateTime;break;case"progress":n.currentTime=t.currentTime;break;case"ratechange":n.currentTime=t.currentTime,n.playbackRate=t.playbackRate;break;case"durationchange":n.duration=t.duration;break;case"sourcechange":n.source=t.source;break;case"readystatechange":case"loadedmetadata":case"loadeddata":case"loadstart":case"canplay":case"canplaythrough":n.currentTime=t.currentTime,n.readyState=t.readyState;break;case"error":n.error=t.error,n.errorObject=Et({name:t.errorObject.name,cause:t.errorObject.cause},t.errorObject);break;case"addtrack":case"removetrack":case"change":n.track=KL(t.track);break;case"adbreakbegin":case"adbreakend":n.ad=jL(t.ad);break;case"adloaded":case"adimpression":n.ad=zL(t.ad);break;case"aderror":t.nvt&&(n.nvt=t.nvt),t.message&&(n.message=t.message);break;case"statechange":n.state=t.state;break;case"presentationmodechange":case"resize":break;case"adfirstquartile":case"admidpoint":case"adthirdquartile":case"adbegin":case"adend":n.currentTime=t.currentTime,n.ad=zL(t.ad)}return n},minimizeCueHelper:function(t){var n={};return n.date=YL(t),n.type=t.type,n.cue=QL(t),n.track={uid:t.cue.track.uid},n},adReplacer:zL,adBreakReplacer:jL},nM=function(){this.stringify=GL,this.minimize=tM};function iM(){return Lt.self}function rM(){return iM().THEOplayerBridge}function eM(){return iM().THEOCueMirrorMap}function uM(){return iM().THEOplayerGlobalID}function sM(){var t=iM();if(t.THEOplayerBridge){var n=new HL;t.THEOplayerBridge=zs(n,t.THEOplayerBridge)}else t.THEOplayerBridge=new HL;t.THEOplayerUtils||(t.THEOplayerUtils=new nM),t.THEOCueMirrorMap||(t.THEOCueMirrorMap=new qL)}sM();var oM=function(t){function n(n,i){var r;return(r=t.call(this,n)||this).type=n,r.detail=i,r}return ut(n,t),n}(Un),aM=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Su(new oM(t,n))},i.addEventListener=function(t,n){this.Iu(t,n)},i.removeEventListener=function(t,n){this.Cu(t,n)},n}(Cs),cM=function(t){function n(n,i){var r;return(r=t.call(this)||this).ivt=function(t){r.evt.rvt("THEOplayerABRSetTargetBuffer",t.XB),r.Su(t)},r.uvt=function(t){r.evt.rvt("THEOplayerABRSetStrategy",t.zB),r.Su(t)},r.evt=n,r.svt=i,r.svt.Iu("GB",r.ivt),r.svt.Iu("jB",r.uvt),r}return ut(n,t),b(n,[{key:"$B",get:function(){var t;switch(this.zB.type){case"performance":return 1;case"quality":return 0;case"bandwidth":return(null===(t=this.zB.metadata)||void 0===t?void 0:t.bitrate)&&!y(this.zB.metadata.bitrate)?this.zB.metadata.bitrate:0;default:return 0}}},{key:"Na",get:function(){return this.svt.Na}},{key:"zB",get:function(){return this.svt.zB},set:function(t){this.svt.zB=t}},{key:"XB",get:function(){return this.svt.XB},set:function(t){this.svt.XB=t}},{key:"YB",get:function(){return this.svt.YB},set:function(t){this.svt.YB=t}}]),n}(Mn),hM=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.oR=function(t,n,i,r){return!0},n}(mw),fM=function(){function t(t,n,i){this.Ys=void 0,this.mo=t,this.hu=i,this.Oo=n}var n=t.prototype;return n.FF=function(t){throw new v("Not implemented yet.")},n.hR=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hu.wu(n.eu,i);case 2:return r=t.sent,t.next=5,r.to();case 5:return e=t.sent,t.next=8,this.VF(e);case 8:return t.abrupt("return",e);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.bu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.VF(void 0);case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.VF=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.qF(n),t.next=3,i;case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.qF=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=this.Ys)){t.next=5;break}return t.next=4,i.Ks(this.Oo);case 4:this.Ys=void 0;case 5:if(!n){t.next=9;break}return t.next=8,n.Js(this.Oo);case 8:this.Ys=n;case 9:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.EI=function(t,n,i){throw new v("Not implemented yet.")},b(t,[{key:"Cp",get:function(){return this.mo}},{key:"VT",get:function(){throw new v("Not implemented yet.")},set:function(t){throw new v("Not implemented yet.")}},{key:"HT",get:function(){throw new v("Not implemented yet.")}},{key:"fT",get:function(){throw new v("Not implemented yet.")}},{key:"jF",get:function(){throw new v("Not implemented yet")}},{key:"hT",get:function(){throw new v("Not implemented yet.")}},{key:"bI",get:function(){throw new v("Not implemented yet")}},{key:"AI",get:function(){throw new v("Not implemented yet")}}]),t}(),vM=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).so=n,u.Ns=i,u.ovt=r,u.Po=e,u.ho=new kr,u.ko=void 0,u._o=new Gn,u.bo=new kr,u.To=void 0,u.Eo=new kr,u.avt=function(t){u.ko?(u.ko.hs(void 0),u.ko=void 0):u.lo("internal-error"),u.Su(new Hn)},u.cvt=function(t){u.ko&&(u.ko.cs(void 0),u.ko=void 0),u.Su(new Vn(st(u),"license-request",yr(t.message).buffer,t.destinationURL||void 0))},u}ut(n,t);var i=n.prototype;return i.Fs=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=r&&r.fairplay&&r.fairplay.So){t.next=3;break}throw new d("Expected FairPlay contentId to be defined but was "+e+".");case 3:return t.next=5,this.Ro(gr(i),e);case 5:this.lo("usable"),this.bo.cs(),this.bo=new kr;case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Vs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(i=gr(n)).byteLength){t.next=3;break}throw new d("Cannot call update with an empty response.");case 3:if(this.To){t.next=6;break}return this.Io(i),t.abrupt("return");case 6:return this.ko=new kr,this.ovt.qs(this.Po,i),t.next=10,this.ko.as;case 10:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Us=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.bo;case 2:return this.ovt.Cu("webkitkeymessage",this.cvt),this.ovt.Cu("webkitkeyerror",this.avt),this.bo.fs(),this.ho.cs(void 0),t.abrupt("return",this.ho.as);case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Hs=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Ro=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.To){t.next=4;break}r=this.To,t.next=10;break;case 4:return t.next=6,Pr(0);case 6:return this.Su(new Vn(this,"license-request",Ar())),t.next=9,this.Eo.as;case 9:r=t.sent;case 10:e=Jr(n,i,r),this.ovt.Iu("webkitkeymessage",this.cvt),this.ovt.Iu("webkitkeyerror",this.avt),this.ovt.qE(this.Po,e);case 14:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Io=function(t){this.To=t,this.Eo.cs(t)},i.lo=function(t){this._o.Zu(),this._o.Qu(Xn,t),this.Su(new Fn(this))},b(n,[{key:"js",get:function(){return this.Po}},{key:"Gs",get:function(){return NaN}},{key:"Xs",get:function(){return this.ho.as}},{key:"zs",get:function(){return this._o}}]),n}(Mn),dM=function(){function t(t,n,i){this.Ns=n,this.so=i,this.fvt=void 0,this.Po=void 0,this.ovt=t}var n=t.prototype;return n.Qs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new vM(this.so,this.Ns,this.ovt,this.Po),this.fvt=i,t.abrupt("return",i);case 3:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zs=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.Js=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(this);case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Ks=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.webkitSetMediaKeys(null);case 1:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),n.createSession=function(){throw new v("Whoops.")},b(t,[{key:"keySystem",get:function(){return this.Ns}},{key:"sessionId",set:function(t){this.Po=t}}]),t}(),lM=function(){function t(t,n,i){this.vvt=t,this.Ns=n,this.mo=i;var r=Xr(i)||"video/mp4";this.so=Gr(r)}var n=t.prototype;return n.no=function(){return this.mo},n.to=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new dM(this.vvt,this.Ns,this.so));case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),b(t,[{key:"io",get:function(){return this.Ns}}]),t}(),_M=function(){function t(t){this.vvt=t}return t.prototype.wu=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<i.length)){t.next=9;break}if(e=i[r],!(u=Wr(gM,n,e))){t.next=6;break}return t.abrupt("return",new lM(this.vvt,n,u));case 6:r++,t.next=1;break;case 9:throw new d("Unsupported key system configuration for "+n);case 10:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),t}();function gM(t,n){return t===Zt}var wM=function(t){function n(n,i,r){var e;return void 0===r&&(r=new _M(i)),(e=t.call(this)||this).vE=void 0,e.PX=new m_,e.dvt=!1,e.po=null,e.lvt={Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},e._vt=function(t){"boolean"==typeof t.detail.casting&&(e.dvt=t.detail.casting,e.Su(new f_(e.dvt)))},e.gvt=function(t){e.Po=t.sessionId,e.po&&(e.po.sessionId=e.Po);var n=t.initData,i=n?yr(n).buffer:new ArrayBuffer(0);e.Su(new qn(Wt,i))},e.wvt=n,e.vvt=i,e.vvt.Iu("webkitneedkey",e.gvt),e.hu=r,e.yvt(),e}ut(n,t);var i=n.prototype;return i.LG=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<n.length)){t.next=8;break}if(0!==(r=n[i]).ru){t.next=5;break}return t.abrupt("return",r);case 5:i++,t.next=1;break;case 8:return t.abrupt("return",void 0);case 9:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.bu=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fa();case 2:this.Du(),this.mvt(),this.vvt.Cu("webkitneedkey",this.gvt);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ET=function(){throw new v("Not implemented yet")},i.Vs=function(){var t=Tt.coroutine(bt.mark(function t(n){var i=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.PX.oE(function(){var t=Tt.coroutine(bt.mark(function t(r){var e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.ru){t.next=7;break}return Dn(r),e=new fM(n,i,i.hu),i.vE=e,t.abrupt("return",e);case 7:throw new v("Could not create non-static media source");case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.lT=function(){throw new v("Not implemented yet")},i.dT=function(){throw new v("Not implemented yet")},i.Fa=function(){var t=this;return this.PX.fs(),this.PX.oE(Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===t.vE){n.next=4;break}return n.next=3,t.vE.bu();case 3:t.vE=void 0;case 4:case"end":return n.stop()}},n)})))},i.ts=function(t,n){throw new v("Not implemented yet")},i.DI=function(t){throw new v("Not implemented yet")},i.TT=function(){throw new v("Not implemented yet")},i.CI=function(){return this.lvt},i.yvt=function(){this.wvt.addEventListener("airPlayIsCasting",this._vt)},i.mvt=function(){this.wvt.removeEventListener("airPlayIsCasting",this._vt)},i.webkitSetMediaKeys=function(t){this.po=t||null,this.po&&(this.po.sessionId=this.Po)},i.FG=function(){},b(n,[{key:"BT",get:function(){throw new v("Not implemented yet")}},{key:"vI",get:function(){throw new v("The mediaElement_ property is deprecated")}},{key:"xT",get:function(){throw new v("Not implemented yet")}},{key:"Gy",get:function(){throw new v("Not implemented yet")}},{key:"e_",get:function(){throw new v("Not implemented yet")}},{key:"zy",get:function(){throw new v("Not implemented yet")}},{key:"Vu",get:function(){throw new v("Not implemented yet")}},{key:"P_",get:function(){throw new v("Not implemented yet")}},{key:"MT",get:function(){return this.dvt}},{key:"Yy",get:function(){throw new v("Not implemented yet")}},{key:"Qy",get:function(){throw new v("Not implemented yet")}},{key:"Zy",get:function(){throw new v("Not implemented yet")}},{key:"FT",get:function(){throw new v("Not implemented yet")}},{key:"lc",get:function(){throw new v("Not implemented yet")}},{key:"HT",get:function(){throw new v("Not implemented yet")}},{key:"Jy",get:function(){throw new v("Not implemented yet")}},{key:"VG",get:function(){throw new v("Not implemented yet")}},{key:"tm",get:function(){throw new v("Not implemented yet")},set:function(t){throw new v("Not implemented yet")}},{key:"q_",get:function(){throw new v("Not implemented yet")}},{key:"webkitKeys",get:function(){return this.po}},{key:"OI",get:function(){throw new v("Not implemented yet")}},{key:"HG",get:function(){return!0}}]),n}(Ds),yM=function(t){function n(n){var i;return(i=t.call(this,Ia.Yh)||this).lvt=n,i}return ut(n,t),n}(Un);function mM(t){switch(t.type){case"daterange-ca-type_string":return t.value;case"daterange-ca-type_number":return Ks(t.value);case"daterange-ca-type_arraybuffer":return Jn(t.value);default:return}}function pM(t){return function(t){return void 0!==t.name&&void 0!==t.message}(t)&&void 0!==t.timestamp&&void 0!==t.code}var kM=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this,e,i,r)||this).qS=n,s.pvt=u,s}return ut(n,t),b(n,[{key:"name",get:function(){return this.qS}},{key:"timestamp",get:function(){return this.pvt}}]),n}(Vo),AM=function(t){function n(n,i,r,e,u,s,o,a){var c;return(c=t.call(this,n,i,r,e,a)||this).url=u,c.status=s,c.errorComment=o,c}return ut(n,t),n}(kM),bM=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).hU=0,s.XH=!1,s.GR=void 0,s.zR=void 0,s.fU=!0,s.dU=1,s.kvt=new Ca([]),s.kH=new Ca([]),s.GH=!1,s.VX=new Ca([]),s.pb=Qa.yv,s.gR=Qa.yv,s.lvt={Iv:0,Rv:0,Bv:0,Sv:0,Nv:0,Dv:{amountOfBufferedAudioSegments:0,amountOfBufferedVideoSegments:0}},s.vE=void 0,s.setCurrentTime=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.HT.length){t.next=4;break}return s.hU=n,t.next=4,s.wvt.xu("seekablechange");case 4:s.hU=s.updateCurrentTime(n),s.evt.rvt("THEOplayerSetCurrentTime",s.hU),s.vU=!0,s.Su(new Qf(s.hU));case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.Avt=function(t){if(t.detail){for(var n=t.detail.buffered,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.kvt=new Ca(i),s.Su(new NR(s.Gy))}},s.bvt=function(t){s.pb=t.detail.readyState,s.Su(new $h(+t.detail.currentTime,s.lc)),s.Tvt()},s.Evt=function(t){s.pb=t.detail.readyState,s.Su(new cf(+t.detail.currentTime,s.lc)),s.Tvt()},s.Svt=function(t){if(t.detail){var n=+t.detail.duration;s.WH=n,s.Su(new uf(s.e_))}},s.Yat=function(t){t.detail&&(s.XH=!0,s.Su(new hf(+t.detail.currentTime)))},s.QR=function(t){if(t.detail&&t.detail.error&&t.detail.errorObject){var n,i=JSON.parse(t.detail.errorObject);pM(n=i)&&void 0!==n.url&&void 0!==n.status&&void 0!==n.errorComment?(s.zR=new AM(i.name,i.message,void 0,i.code,i.url,i.status,i.errorComment,i.timestamp),s.GR=nc(s.zR),s.Su(new df(s.zR))):pM(i)&&(s.zR=new kM(i.name,i.message,void 0,i.code,i.timestamp),s.GR=nc(s.zR),s.Su(new df(s.zR)))}},s.Qat=function(t){s.Su(new DR)},s.Rvt=function(t){s.pb=t.detail.readyState,s.Su(new nf(+t.detail.currentTime,s.lc)),s.Tvt()},s.Ivt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.HT.length){t.next=3;break}return t.next=3,s.wvt.xu("seekablechange");case 3:s.pb=n.detail.readyState,s.Su(new Kh(+n.detail.currentTime,s.lc)),s.Tvt();case 6:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),s.Hat=function(t){t.detail&&s.Su(new Ja(+t.detail.currentTime))},s.qat=function(t){t.detail&&s.Su(new of(+t.detail.currentTime))},s.Nvt=function(t){if(t.detail){for(var n=t.detail.played,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.VX=new Ca(i).Nf(.05)}},s.pct=function(t){t.detail&&s.Su(new ef(+t.detail.currentTime))},s.Gat=function(t){t.detail&&(s.dU=t.detail.playbackRate,s.Su(new Zf(+t.detail.currentTime,s.dU)))},s.Dvt=function(t){if(t.detail){for(var n=t.detail.seekable,i=[],r=0;r<n.length;r++){var e=n[r];i.push(e.start,e.end)}s.kH=new Ca(i)}},s.Xat=function(t){t.detail&&(s.hU=+t.detail.currentTime,s.vU=!1,s.Su(new sf(s.hU,s.Cvt)),s.Su(new Yf(s.hU)))},s.Wat=function(t){if(t.detail){var n=Number(t.detail.currentTime);n<s.WH&&(s.XH=!1),s.vU=!0,s.Su(new Qf(n))}},s.Ovt=function(t){t.detail&&(t.detail.currentDate&&(s.Cvt=new Date(1e3*t.detail.currentDate)),s.hU=+t.detail.currentTime,s.Su(new sf(s.hU,s.Cvt)))},s.Pvt=function(t){s.xvt=t.detail.height,s.Bvt=t.detail.width},s.Lvt=function(t){t.detail&&s.Su(new af(+t.detail.currentTime))},s.cct=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,enabled:t.detail.enabled};s.cT.La(new a_(n))},s.Mvt=function(t){for(var n,i,r=t.detail.lang,e=t.detail.label,u=0;u<s.eT.qa;u++){var o=s.cT.Ba(u);o.sc==r&&o.uc==e?i=s.eT.Ba(u):1==o.nc&&(n=s.eT.Ba(u))}i&&n&&(i.nc=!0,n.nc=!1)},s.fct=function(t){var n={id:void 0,sourceBuffer:void 0,kind:t.detail.kind,label:t.detail.label,language:t.detail.lang,selected:t.detail.selected};s.hT.La(new h_(n))},s.xft=function(t){var n,i=t.detail.kind,r=t.detail.type;i===vf.Uy&&"id3"===r?(n=new pR("",t.detail.label)).dc=oo.hc:i===vf.Uy&&"daterange"===r?(n=new NN,s.Uvt=n):n=new Zl(i,t.detail.label,t.detail.lang,t.detail.isDefault,r),s.fT.La(n)},s.Fvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=r.Id3FrameId,u={id:e,text:r.Id3FrameText};"TXXX"!==e&&"TXX"!==e||(u.description=r.Id3FrameDescription);var o=new fy(Ks(r.startTime),u);o.ic=r.uid;var a=s.Vvt();a&&a.Bb(o)}},s.Hvt=function(t){for(var n=0,i=t.detail;n<i.length;n++){var r=i[n],e=new zv(Ks(r.startTime),Ks(r.endTime),r.content,!1),u=s.qvt();u&&(u.ru="webvtt",u.Bb(e))}},s.Wvt=function(t){var n=t.Ca;n instanceof Zl&&s.zb.La(n)},s.Xvt=function(t){var n=t.Ca;n instanceof Zl&&s.zb.Ua(n)},s.aI=function(t){t.type===Ia.bh&&(s.GR=nc(t.errorObject)),s.Eu(t)},s.Gvt=function(t){t.detail&&(s.lvt.Rv=t.detail.corruptedVideoFrames,s.lvt.Iv=t.detail.droppedVideoFrames,s.Su(new yM(s.Cv)))},s.zvt=function(t){var n=function(t){var n=t.detail,i=[];return n.forEach(function(t){var n={ic:t.id};if(void 0!==t.startDate&&(n.OI=new Date(t.startDate)),void 0!==t.endDate&&(n.Uz=new Date(t.endDate)),void 0!==t.customAttributes){var r={};for(var e in t.customAttributes){var u=mM(t.customAttributes[e]);void 0!==u&&(r[e]=u)}n.Yz=r}void 0!==t.scte35Cmd&&(n.Zz=Jn(t.scte35Cmd)),void 0!==t.scte35In&&(n.tj=Jn(t.scte35In)),void 0!==t.scte35Out&&(n.Kz=Jn(t.scte35Out)),void 0!==t.startTime&&(n.u_=t.startTime),n.Vz=t.class,n.e_=Ks(t.duration),n.Xz=Ks(t.plannedDuration),i.push(n)}),i}(t);n.forEach(function(t){var i=null!=t.u_?t.u_:(new Date).getTime(),r=new AN(t,i);s.Uvt.Bb(r),s.Uvt.qs(n,i)})};var o=e.uid;s.evt=s.getSdkBridge(o),s.wvt=new aM,rM()[o].sdkEventBus=s.wvt,s.eT=new rc,s.uT=new rc;var a=s.jvt(r);return s.wI=new v_(a),s.qA=new i_([s.wI.im]),s.vvt=s.getFairPlayControllerBridge(s.evt),s.uR=new wM(s.wvt,s.vvt),s.hu=new _M(s.vvt),s.lI=new hM(s.uR,a,s.hu),s.lI.Iu(Qw,s.aI),s.observeMediaElement(),s.gI(),s.zb=new Ol(st(s)),s.fT.Iu("Oa",s.Wvt),s.fT.Iu("Pa",s.Xvt),s.vN=new cM(s.evt,u),s.vN.Iu("GB",function(){s.evt.rvt("THEOplayerSetPreferredForwardBufferDuration",s.vN.XB)}),s}ut(n,t);var i=n.prototype;return i.RT=function(){},i.TT=function(){this.evt.rvt("THEOplayerShow",{})},i.ET=function(){this.evt.rvt("THEOplayerHide",{})},i.Yvt=function(){var t=this;this.evt.rvt("THEOplayerSetInitialPreferredPeakBitRate",this.vN.$B);this.Iu("playing",function n(){t.evt.rvt("THEOplayerSetInitialPreferredPeakBitRate",0),t.Cu("playing",n)})},i.wT=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.Uat=n,r=Et(Et({},i),{sources:{src:n.src,type:_f.Hy,contentProtection:n.contentProtection,ssai:n.ssai,crossOrigin:n.crossOrigin,hlsDateRange:n.hlsDateRange}}),this.evt.rvt("THEOplayerSourceChange",r),e={ru:0,wc:n.src,K_:n.type,yI:[],mI:n.crossOrigin,pI:i.metadata&&i.metadata.title},t.next=6,this.uR.Vs(e);case 6:this.vE=t.sent,this.lI.ab(this.kI(n),this.vE),i.textTracks&&(u=i.textTracks.filter(function(t){return"webvtt"!==t.format})).length>0&&this.TI(u),w_(this.fT),this.Yvt();case 11:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.kI=function(t){if(t.contentProtection&&t.contentProtection.fairplay){return{GE:t.contentProtection||{},lE:{n_:Qt},wE:[{io:$t,yE:[]}],vR:[],dR:["video/mp4"]}}},i.dT=function(){this.fU=!1,this.Su(new Ja(this.Gy)),this.evt.rvt("THEOplayerPlay",{})},i.lT=function(){this.fU=!0,this.Su(new of(this.Gy)),this.evt.rvt("THEOplayerPause",{})},i.ST=function(){},i.Fa=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hU=0,this.XH=!1,this.GR=void 0,this.zR=void 0,this.fU=!0,this.dU=1,this.WH=void 0,this.kH=new Ca([]),this.kvt=new Ca([]),this.xvt=void 0,this.Bvt=void 0,this.pb=Qa.yv,this.gR=Qa.yv,this.eT.Fa(),this.uT.Fa(),this.qA.Fa(),this.wI.Fa(),this.Uat=void 0,t.next=20,this.uR.Fa();case 20:return t.next=22,this.lI.Fa();case 22:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.mT=function(){this.evt.rvt("THEOplayerShowAirPlayPicker",{})},i.pT=function(){this.evt.rvt("THEOplayerStopAirPlayPicker",{})},i.updateMetrics=function(t){this.Cv.Rv=t.Rv,this.Cv.Iv=t.Iv},i.Va=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.Fa();case 2:return this.Du(),this.unobserveMediaElement(),this.II(),t.next=7,this.lI.Va();case 7:return t.next=9,this.uR.bu();case 9:this.eT.Va(),this.uT.Va(),this.qA.Va(),this.zb.Va();case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.TI=function(t){for(var n=0;n<t.length;n++){var i=t[n],r=this.wI.tE(i);void 0!==r&&this.wI.La(r)}},i.Tvt=function(){var t=this.gR,n=this.pb;t!==n&&(this.gR=n,this.Su(new tf(this.Gy,n)))},i.observeMediaElement=function(){this.uR.Iu("JT",this.Eu),this.wvt.addEventListener("play",this.Hat),this.wvt.addEventListener("pause",this.qat),this.wvt.addEventListener("seeking",this.Wat),this.wvt.addEventListener("seeked",this.Xat),this.wvt.addEventListener("ratechange",this.Gat),this.wvt.addEventListener("durationchange",this.Svt),this.wvt.addEventListener("timeupdate",this.Ovt),this.wvt.addEventListener("waiting",this.Lvt),this.wvt.addEventListener("playing",this.pct),this.wvt.addEventListener("ended",this.Yat),this.wvt.addEventListener("loadedmetadata",this.Ivt),this.wvt.addEventListener("loadeddata",this.Rvt),this.wvt.addEventListener("loadstart",this.Qat),this.wvt.addEventListener("canplay",this.bvt),this.wvt.addEventListener("canplaythrough",this.Evt),this.wvt.addEventListener("error",this.QR),this.wvt.addEventListener("seekablechange",this.Dvt),this.wvt.addEventListener("videosizechange",this.Pvt),this.wvt.addEventListener("bufferedchange",this.Avt),this.wvt.addEventListener("playedchange",this.Nvt),this.wvt.addEventListener("metricschange",this.Gvt),this.wvt.addEventListener("addDateRangeCues",this.zvt)},i.unobserveMediaElement=function(){this.uR.Cu("JT",this.Eu),this.wvt.removeEventListener("play",this.Hat),this.wvt.removeEventListener("pause",this.qat),this.wvt.removeEventListener("seeking",this.Wat),this.wvt.removeEventListener("seeked",this.Xat),this.wvt.removeEventListener("ratechange",this.Gat),this.wvt.removeEventListener("durationchange",this.Svt),this.wvt.removeEventListener("timeupdate",this.Ovt),this.wvt.removeEventListener("waiting",this.Lvt),this.wvt.removeEventListener("playing",this.pct),this.wvt.removeEventListener("ended",this.Yat),this.wvt.removeEventListener("loadedmetadata",this.Ivt),this.wvt.removeEventListener("loadeddata",this.Rvt),this.wvt.removeEventListener("loadstart",this.Qat),this.wvt.removeEventListener("canplay",this.bvt),this.wvt.removeEventListener("canplaythrough",this.Evt),this.wvt.removeEventListener("error",this.QR),this.wvt.removeEventListener("seekablechange",this.Dvt),this.wvt.removeEventListener("videosizechange",this.Pvt),this.wvt.removeEventListener("bufferedchange",this.Avt),this.wvt.removeEventListener("playedchange",this.Nvt),this.wvt.removeEventListener("metricschange",this.Gvt),this.wvt.removeEventListener("addDateRangeCues",this.zvt)},i.updateCurrentTime=function(t){var n=this.HT.start(0),i=this.HT.end(0);return _.min(_.max(t,n),i)},i.Vvt=function(){for(var t=0,n=this.qA.Ha;t<n.length;t++){var i=n[t];if(i.ec===vf.Uy&&"id3"===i.ru)return i}},i.qvt=function(){for(var t=0,n=this.qA.Ha;t<n.length;t++){var i=n[t];if(i.dc===oo.fc)return i}},i.gI=function(){this.wvt.addEventListener("addaudiotrack",this.cct),this.wvt.addEventListener("enableaudiotrack",this.Mvt),this.wvt.addEventListener("addvideotrack",this.fct),this.wvt.addEventListener("addtexttrack",this.xft),this.wvt.addEventListener("addtexttrackid3cues",this.Fvt),this.wvt.addEventListener("addtexttrackcues",this.Hvt)},i.II=function(){this.wvt.removeEventListener("addaudiotrack",this.cct),this.wvt.removeEventListener("enableaudiotrack",this.Mvt),this.wvt.removeEventListener("addvideotrack",this.fct),this.wvt.removeEventListener("addtexttrack",this.xft),this.wvt.removeEventListener("addtexttrackid3cues",this.Fvt),this.wvt.removeEventListener("addtexttrackcues",this.Hvt)},i.PT=function(){},b(n,[{key:"cT",get:function(){return this.eT}},{key:"xT",get:function(){return this.kvt.lf()}},{key:"BT",get:function(){return this.Cvt?this.Cvt:null},set:function(t){this.evt.rvt("THEOplayerSetCurrentProgramDateTime",t.getTime()),this.Cvt=t}},{key:"Gy",get:function(){return this.hU},set:function(t){this.setCurrentTime(t)}},{key:"e_",get:function(){return this.WH}},{key:"zy",get:function(){return this.XH}},{key:"Vu",get:function(){return this.GR}},{key:"jy",get:function(){return this.zR}},{key:"MT",get:function(){return this.uR.MT}},{key:"Cv",get:function(){return this.lvt}},{key:"Yy",get:function(){return this.GH},set:function(t){this.GH!==t&&(this.evt.rvt("THEOplayerSetMuted",t),this.GH=t,this.Su(new Ka(this.Gy,t?0:1)))}},{key:"Qy",get:function(){return this.fU}},{key:"Zy",get:function(){return this.dU},set:function(t){this.evt.rvt("THEOplayerSetPlaybackRate",t),this.dU=t}},{key:"FT",get:function(){return this.VX.lf()}},{key:"VT",get:function(){return r_.Vv},set:function(t){}},{key:"lc",get:function(){return this.pb}},{key:"HT",get:function(){return this.kH.lf()}},{key:"Jy",get:function(){return this.vU}},{key:"OI",get:function(){}},{key:"fT",get:function(){return this.qA}},{key:"Ky",get:function(){return this.xvt}},{key:"$y",get:function(){return this.Bvt}},{key:"tm",get:function(){return 1},set:function(t){}},{key:"hT",get:function(){return this.uT}},{key:"UT",get:function(){return!0}}]),n}(Ds),TM=function(){function t(){this.dg=4}return t.prototype.xI=function(n,i){if(i.vr&&i.vr[360])return!1;if(Rf(n.type))return!1;var r=n.contentProtection;if(r&&!Jo(r)){if(!ta(r))return!1;if(!t.kct(r))return!1}return!0},t.kct=function(t){return Boolean(t.fairplay)||Boolean(t.aes128)},t}(),EM=function(){function t(){this.Qvt=e.webkit}return t.prototype.rvt=function(t,n){this.Qvt.messageHandlers[t]&&this.Qvt.messageHandlers[t].postMessage(n)},t}(),SM=function(t){function n(n,i){var r;return(r=t.call(this,"webkitneedkey")||this).initData=n,r.sessionId=i,r}return ut(n,t),n}(Un),RM=function(t){function n(n,i){var r;return(r=t.call(this,"webkitkeymessage")||this).message=n,r.destinationURL=i,r}return ut(n,t),n}(Un),IM=function(t){function n(){return t.call(this,"webkitkeyerror")||this}return ut(n,t),n}(Un),NM=function(t){function n(n){var i;return(i=t.call(this)||this).Zvt=function(t){var n=Jn(t.detail.initData),r=t.detail.sessionId;i.Su(new SM(n,r))},i.Jvt=function(t){var n=new m(ei(t.detail.message)),r=t.detail.destinationURL;i.Su(new RM(n,r))},i.Kvt=function(t){i.Su(new IM)},i.evt=n,i.wvt=new aM,rM().fairplayController={sdkEventBus:i.wvt},i.SQ(),i}ut(n,t);var i=n.prototype;return i.SQ=function(){this.wvt.addEventListener("webkitneedkey",this.Zvt),this.wvt.addEventListener("webkitkeymessage",this.Jvt),this.wvt.addEventListener("webkitkeyerror",this.Kvt)},i.qE=function(t,n){var i={data:ui(n.buffer),sessionId:t};this.evt.rvt("THEOplayerCreateKeySession",i)},i.qs=function(t,n){var i={data:ui(n.buffer),sessionId:t};this.evt.rvt("THEOplayerUpdateKey",i)},n}(Ds),DM=function(t){function n(n,i,r,e,u){var s;return s=t.call(this,n,i,r,e,u)||this,Lt.document.querySelector(".vjs-tech")?Lt.document.querySelector(".player-div").classList.add("theo-ios-sdk"):Lt.document.querySelector(".player-div").style.background="transparent",s}ut(n,t);var i=n.prototype;return i.yT=function(){return!0},i.getSdkBridge=function(){return new EM},i.getFairPlayControllerBridge=function(){return OM},i.jvt=function(t){return t},i.Va=function(){var n=Tt.coroutine(bt.mark(function n(){return bt.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return Lt.document.querySelector(".vjs-tech")?Lt.document.querySelector(".player-div").classList.remove("theo-ios-sdk"):Lt.document.querySelector(".player-div").style.background="#000000",n.next=3,t.prototype.Va.call(this);case 3:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),n}(bM);iy(new(function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.Ec=function(t,n,i,r,e){return new DM(t,n,i,r,e)},i.xI=function(n,i){if(n.type){var r=we();if(!(r&&r.canPlayType&&r.canPlayType(n.type)))return!1}return t.prototype.xI.call(this,n,i)},n}(TM)));var CM,OM=new NM(new EM),PM=function(t){function n(){return t.call(this,"$vt")||this}return ut(n,t),n.prototype.Da=function(){return new xM},n}(Os),xM=function(t){function n(){return t.call(this,"statechange")||this}return ut(n,t),n}(Un);!function(t){t.IDLE="idle",t.LOADING="loading",t.DONE="done",t.ERROR="error",t.EVICTED="evicted"}(CM||(CM={}));var BM=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).tdt=new Ds,n.Eu=function(t){n.Su(t)},n}ut(n,t);var i=n.prototype;return i.Da=function(){return n=LM(t=this),i=new qs(t,n),n.addEventListener=function(t,n){i.Iu(t,n)},n.removeEventListener=function(t,n){i.Cu(t,n)},n;var t,n,i},i.Iu=function(t,n){this.tdt.Iu(t,n)},i.Sa=function(t){this.tdt.Sa(t)},i.Du=function(){this.tdt.Du()},i.Su=function(t){this.tdt.Su(t)},i.Cu=function(t,n){this.tdt.Cu(t,n)},i.Pu=function(t){this.tdt.Pu(t)},i.Ra=function(t){this.tdt.Ra(t)},i.xu=function(t,n){return this.tdt.xu(t,n)},n}(function(){function t(){this.Gu=[],this.Ia=void 0}var n=t.prototype;return n.Da=function(){return LM(this)},n.Ba=function(t){return this.Gu[t]},n.Df=function(t){this.Gu.push(t),this.Ia&&this.Ia.push(t.Na),this.ndt(t)},n.idt=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Df(i)}},n.rdt=function(t,n){n>=0&&n<=this.Gu.length&&(this.Gu.splice(n,0,t),this.Ia&&this.Ia.splice(n,0,t.Na),this.ndt(t))},n.lb=function(t){return Tn(this.Gu,t)},n.Hs=function(t){this.edt(this.Gu.indexOf(t))},n.edt=function(t){if(t>=0&&t<this.Gu.length){var n=this.Gu[t];bn(this.Gu,t),this.Ia&&bn(this.Ia,t),this.udt(n)}},n.Zu=function(){var t=this.Gu.slice();Sn(this.Gu),this.Ia&&Sn(this.Ia);for(var n=0;n<t.length;n++){var i=t[n];this.udt(i)}},b(t,[{key:"sdt",get:function(){return this.Gu}},{key:"qa",get:function(){return this.Gu.length}},{key:"Na",get:function(){return this.Ia||(this.Ia=this.Da()),this.Ia}}]),t}());function LM(t){var n=t.sdt.map(function(t){return t.Na});return n.item=function(n){n|=0;var i=t.Ba(n);return i&&i.Na||void 0},n}var MM,UM=function(t){function n(n){var i;return(i=t.call(this,"addtask")||this).task=n,i}return ut(n,t),n}(Un),FM=function(t){function n(n){var i;return(i=t.call(this,"adt")||this).odt=n,i}return ut(n,t),n.prototype.Da=function(){return new UM(this.odt.Na)},n}(Os),VM=function(t){function n(n){var i;return(i=t.call(this,"removetask")||this).task=n,i}return ut(n,t),n}(Un),HM=function(t){function n(n){var i;return(i=t.call(this,"cdt")||this).task=n,i}return ut(n,t),n.prototype.Da=function(){return new VM(this.task.Na)},n}(Os),qM=function(t){function n(){return t.call(this)||this}ut(n,t);var i=n.prototype;return i.ndt=function(t){this.Su(new FM(t))},i.udt=function(t){this.Su(new HM(t))},n}(BM);!function(t){t.UNINITIALISED="uninitialised",t.INITIALISED="initialised"}(MM||(MM={}));var WM=function(t){function n(n,i){var r;return(r=t.call(this)||this).hdt=MM.UNINITIALISED,r.iE=new qM,r.fdt=i,r.f4=n,r.kT(),r}ut(n,t);var i=n.prototype;return i.kT=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vdt();case 2:this.ddt(MM.INITIALISED);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.vdt=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.ldt();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(){return t.apply(this,arguments)}}(),i.ldt=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.f4.rJ();case 2:for(n=t.sent,i=0;i<n.length;i++)r=n[i],e=this.fdt._dt(r.id,r.sourceDescription,r.parameters),this.gdt(e),this.iE.Df(e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.ddt=function(t){this.hdt=t,this.Su(new PM)},i._dt=function(t,n){var i=this.fdt.wdt(t,n);return this.ydt(i),this.iE.Df(i),this.gdt(i),i},i.ydt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.mdt(n);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),v("Unable to persist task - "+t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),i.mdt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.f4.tJ({key:n.ic,id:n.ic,sourceDescription:n.zI,parameters:n.pdt});case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.gdt=function(t){var n=this;t.Iu("$vt",function(){t.IA===CM.EVICTED&&n.iE.Hs(t)})},b(n,[{key:"IA",get:function(){return this.hdt}},{key:"kdt",get:function(){return this.iE}}]),n}(Mn);function XM(t,n){return function(t,n){var i=t.q_&&n.q_,r=t.P_&&n.P_;return i||r?i&&r?t.q_*t.P_-n.q_*n.P_:i?t.q_-n.q_:r?t.P_-n.P_:(t.q_||1)*(t.P_||1)-(n.q_||1)*(n.P_||1):0}(t,n)||function(t,n){return t.W_-n.W_}(t,n)}var GM=function(t){function n(){return t.call(this,"progress")||this}return ut(n,t),n}(Un),zM=function(t){function n(){return t.call(this,"RZ")||this}return ut(n,t),n.prototype.Da=function(){return new GM},n}(Os),jM=function(){function t(t,n,i){if(this.Adt=t,this.XT=n,this.bdt=i,0===this.XT.size)this.Tdt=Ca.Qf();else{var r=new Ca([-1/0,1/0]);this.XT.forEach(function(t){r=r.Tf(t.timeRanges)}),this.Tdt=r}}return t.prototype.if=function(t){return!!Ys(this.XT,t.XT)&&(!!Cc(this.Adt,t.Adt)&&(!!Cc(this.zf,t.zf)&&(!!Cc(this.Edt,t.Edt)&&this.Sdt.Ff(t.Sdt))))},t.Rdt=function(){return QM},b(t,[{key:"zf",get:function(){return this.bdt}},{key:"Idt",get:function(){return this.Adt}},{key:"Edt",get:function(){return this.Sdt.zf}},{key:"Ndt",get:function(){var t=0,n=0;return this.XT.forEach(function(i){t+=i.timeRanges.zf,n+=i.totalQualityDurationToCache}),0===n?0:_.min(1,t/n)}},{key:"Sdt",get:function(){return this.Tdt}}]),t}(),YM=Rt(),QM=new jM(0,YM,NaN);function ZM(t,n){if(V(t)){if(un(t,"%"))return w(t)/100*n;throw new v("Unexpected - Invalid string supplied as amount to cache.")}return n<t?n:t}var JM=function(t){function n(n,i){return t.call(this,n,i)||this}return ut(n,t),b(n,[{key:"name",get:function(){return"Ddt"}}]),n}(at);function KM(t,n){return{n_:t.n_,$l:t.$l||n.$l}}function $M(t,n,i,r){for(var e,u=[],s=0;s<i.length;s++){var o=i[s];if(o.n_===Ht)e=o;else{var a=rn(o.n_);a&&u.push({io:a,yE:o.t_?[o.t_]:[]})}}if(e&&u.length)return{GE:t,lE:e,wE:u,vR:"audio"===n?r.slice():[],dR:"video"===n?r.slice():[]}}function tU(t,n){if(!t)return n;if(!n)return t;var i=[],r=Rt();return nU(i,r,t.wE),nU(i,r,n.wE),{GE:t.GE,lE:KM(t.lE,n.lE),wE:i,vR:iU(t.vR,n.vR,Tn),dR:iU(t.dR,n.dR,Tn)}}function nU(t,n,i){for(var r=0;r<i.length;r++){var e=i[r],u=e.io.su,s=void 0;n.has(u)?(s=n.get(u)).yE=iU(s.yE,e.yE,rU):(s=Et({},e),t.push(s),n.set(u,s))}}function iU(t,n,i){for(var r=t.slice(),e=0;e<n.length;e++){var u=n[e];i(r,u)||r.push(u)}return r}function rU(t,n){for(var i=0;i<t.length;i++){if(ii(t[i],n))return!0}return!1}function eU(t,n){var i,r=t.D_;if(r){for(var e=t.L_,u=[],s=0,o=t.I_;s<o.length;s++){var a=o[s];u.push(e+'; codecs="'+a+'"')}i=$M(n||{},t.ru,r,u)}for(var c=0,h=t.hg;c<h.length;c++){i=tU(i,uU(h[c],n))}return i}function uU(t,n){return $M(n||{},t.ru,t.D_||[],[t.K_])}function sU(t,n,i){return oU.apply(this,arguments)}function oU(){return(oU=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Pg;u<s.length;u++)o=s[u],e.push(aU(o,i,r));return t.next=4,Tt.all(e);case 4:return a=t.sent,t.abrupt("return",{e_:n.Dg.Yl.Od,Cdt:[n.Odt],Pg:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function aU(t,n,i){return cU.apply(this,arguments)}function cU(){return(cU=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.Pdt;u<s.length;u++)o=s[u],e.push(hU(o,i,r));return t.next=4,Tt.all(e);case 4:return a=t.sent,t.abrupt("return",{xdt:a});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function hU(t,n,i){return fU.apply(this,arguments)}function fU(){return(fU=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.pg;u<s.length;u++)vU(o=s[u])||e.push(_U(o,i,r));return t.next=4,Tt.all(e);case 4:return a=t.sent,t.abrupt("return",{im:a,ru:n.ru});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function vU(t){return t.hg.every(lU)}var dU=1;function lU(t){return t.x_!==dU&&Boolean(t.x_)}function _U(t,n,i){return gU.apply(this,arguments)}function gU(){return(gU=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h,f,v;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.hg;u<s.length;u++)lU(o=s[u])||e.push(yU(o,r));return t.next=4,Tt.all(e);case 4:return a=t.sent,c=n.I_[0],h=n.D_,f=h?wU(c,h):void 0,v=eU(n,i),t.abrupt("return",{oc:a,sc:n.Bdt,ru:n.ru,yI:f,Ldt:v});case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function wU(t,n){for(var i=[],r=function(t){return t?un(t,"avc")?Ev.VIDEO_H264:un(t,"hev")||un(t,"hvc")||un(t,"hvt")||un(t,"lhv")||un(t,"lhe")||un(t,"lht")?Ev.VIDEO_H265:un(t,"mp4")?Ev.VIDEO_MP4:un(t,"mpeg2")?Ev.VIDEO_MPEG2:un(t,"mpeg")?Ev.VIDEO_MPEG:Ev.VIDEO_UNKNOWN:Ev.VIDEO_UNKNOWN}(t),e=0;e<n.length;e++){var u=n[e],s=u.n_.split(":").pop(),o=u.t_;i.push({mimeType:r,uuid:s,data:o})}return{type:0,schemeType:qt,schemeDatas:i}}function yU(t,n){return mU.apply(this,arguments)}function mU(){return(mU=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pU(n,i);case 2:r=t.sent,e={ic:bU(n),Dk:r,H3:n.G3,W_:n.W_,qU:n.qU,P_:n.P_,ru:n.ru,q_:n.q_},t.t0=n.ru,t.next="text"===t.t0?7:"video"===t.t0?8:"audio"===t.t0?10:12;break;case 7:return t.abrupt("break",13);case 8:return e.O_=n.O_?n.O_.Od:NaN,t.abrupt("break",13);case 10:return e.audioSamplingRate=n.R_,t.abrupt("break",13);case 12:0;case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function pU(t,n){return kU.apply(this,arguments)}function kU(){return(kU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=n.p_,u=e.Mdt(),s=u;case 4:if(!s){t.next=16;break}if(!e.Udt(s.o_)){t.next=12;break}return t.next=8,n.Fdt(s,i,(new Rr).bs);case 8:for(o=t.sent,a=0;a<o.qa;a++)r.push(AU(o.Vdt(a),n));t.next=13;break;case 12:r.push(AU(s,n));case 13:s=e.lst(s),t.next=4;break;case 16:return c=e.Hdt(),h=c.Ck.Hf(u.u_).nl(),t.abrupt("return",{e_:h,aJ:r});case 19:case"end":return t.stop()}},t)}))).apply(this,arguments)}function AU(t,n){return{u_:t.u_.nl(),e_:t.e_.nl(),qdt:n.Wdt(t)}}function bU(t){return t.Xdt.Jh.Od+"-"+(""+t.ic)}function TU(t,n){return function(t,n){var i={};for(var r in t){var e=t[r];for(var u in i[r]={},e){var s=[];i[r][u]=[];for(var o=e[u],a=0;a<o.length;a++){var c=o[a],h=EU(c,r,n);s.push(h)}i[r][u]=s}}return i}(function(t){var n=function(t){for(var n={},i=0;i<t.length;i++){var r=t[i];n[r["group-id"]]||(n[r["group-id"]]={ru:r.type,c_:[]}),n[r["group-id"]].c_.push(r)}return n}(t),i={};for(var r in n)for(var e=n[r],u=0,s=e.c_;u<s.length;u++){var o=s[u];i[e.ru]||(i[e.ru]={}),i[e.ru][o.name]||(i[e.ru][o.name]=[]),i[e.ru][o.name].push(o)}return i}(t),n)}function EU(t,n,i){for(var r=t["group-id"],e={pY:t,MQ:[]},u=0;u<i.length;u++){var s=i[u];s[n.toLowerCase()]===r&&e.MQ.push(s)}return e}function SU(t,n){return RU.apply(this,arguments)}function RU(){return(RU=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.s4([n],{});case 2:return r=t.sent,e=new VO,t.abrupt("return",e.Nm(r.r4,r.DA,QO(r.DA)));case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function IU(t,n){return NU.apply(this,arguments)}function NU(){return(NU=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isMasterPlaylist){t.next=4;break}return t.abrupt("return",DU(n,i));case 4:return t.abrupt("return",(e=void 0,e=XU(r=n),{e_:r.duration,Cdt:[r.uri],Pg:[{xdt:[{im:[{oc:[{ic:r.uri,Dk:e,W_:0,qU:"",P_:0,ru:null,q_:0}]}]}]}]}));case 5:case"end":return t.stop()}var r,e},t)}))).apply(this,arguments)}function DU(t,n){return CU.apply(this,arguments)}function CU(){return(CU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=TU(n.media,n.streams),t.next=3,BU(r,i);case 3:return e=t.sent,t.next=6,PU(n.streams,i);case 6:return u=t.sent,e.push(u),t.abrupt("return",{e_:OU(e),Cdt:[n.uri],Pg:[{xdt:e}]});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function OU(t){for(var n=-1/0,i=0;i<t.length;i++)for(var r=0,e=t[i].im;r<e.length;r++){var u=e[r];n=_.max.apply(_,[n].concat(u.oc.map(function(t){return t.Dk.e_})))}return n}function PU(t,n){return xU.apply(this,arguments)}function xU(){return(xU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=15;break}return u=n[e],t.next=6,qU(u.uri,i);case 6:(s=t.sent).W_=u.bandwidth,s.qU=u.codecs,s.P_=u.resolution&&u.resolution.height,s.q_=u.resolution&&u.resolution.width,r.push(s);case 12:e++,t.next=2;break;case 15:return t.abrupt("return",{im:[{oc:r}]});case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}function BU(t,n){return LU.apply(this,arguments)}function LU(){return(LU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=bt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,MU(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function MU(t,n){return UU.apply(this,arguments)}function UU(){return(UU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],t.t0=bt.keys(n);case 2:if((t.t1=t.t0()).done){t.next=11;break}return e=t.t1.value,u=n[e],t.next=7,FU(u,i);case 7:s=t.sent,r.push(s),t.next=2;break;case 11:return t.abrupt("return",{im:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function FU(t,n){return VU.apply(this,arguments)}function VU(){return(VU=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[],e=0;case 2:if(!(e<n.length)){t.next=11;break}return u=n[e],t.next=6,HU(u,i);case 6:s=t.sent,r.push(s);case 8:e++,t.next=2;break;case 11:return t.abrupt("return",{oc:r});case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}function HU(t,n){var i,r,e;return qU((r=(i=t).pY.uri,e=i.MQ.map(function(t){return t.uri}),r||(e.length?e[0]:null)),n)}function qU(t,n){return WU.apply(this,arguments)}function WU(){return(WU=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,SU(n,i);case 2:return r=t.sent,e=XU(r),t.abrupt("return",{ic:n,Gdt:n,Dk:e,W_:0,qU:"",P_:0,ru:null,q_:0});case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function XU(t){for(var n=[],i=0,r=t.fragments;i<r.length;i++){var e=r[i];n.push(GU(e))}return{e_:t.duration,aJ:n}}function GU(t){return{u_:t.start,e_:t.duration,qdt:zU(t.uri)}}function zU(t){return CN(t)?{Zl:t.uj,r_:[t.r_.Jh,t.r_.$h],tw:!1}:{Zl:t.toString(),tw:!1}}var jU=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).ic=n,s.W_=i,s.I_=r,s.uj=u,s.Ib=e||"",s.zdt=!0,s}return ut(n,t),n.prototype.sm=function(){this.zdt=!1,this.Su(new bB(this.Na))},b(n,[{key:"uc",get:function(){return this.Ib},set:function(t){this.Ib!==t&&(this.Ib=t,this.Su(new bB(this.Na)))}},{key:"YG",get:function(){return this.zdt}}]),n}(Mn),YU=function(t){function n(n,i,r,e,u,s,o,a,c){var h;return void 0===c&&(c=0),(h=t.call(this,n,i,r,e,u)||this).O_=s,h.q_=o,h.P_=a,h.mat=c,h.Ia=void 0,h}return ut(n,t),b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=TB(this)),this.Ia}}]),n}(jU),QU=function(t){function n(n,i,r,e,u,s){var o;return(o=t.call(this,n,i,r,e,u)||this).R_=s,o.Ia=void 0,o}return ut(n,t),b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=EB(this)),this.Ia}}]),n}(jU);var ZU=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).jdt=function(t){n.Su(t)},n}return ut(n,t),b(n,[{key:"Ydt",get:function(){var t=this.Qdt();return null==t?void 0:t.Jh.Sl()}},{key:"Zdt",get:function(){var t=this.Qdt();return null==t?void 0:t.$h.Sl()}}]),n}(Mn);function JU(t){return X(t.Jdt)}var KU=function(t){function n(n,i){var r;if((r=t.call(this)||this).Ia=void 0,r.Kdt=void 0,r.$dt=n,r.tlt=i,r.tlt.Iu("nlt",r.jdt),"video"===r.ru){var e=r.O_&&r.O_.Od||NaN;r.ilt=new YU($U++,r.W_,r.qU,"","",e,r.q_,r.P_)}else"audio"===r.ru?r.ilt=new QU($U++,r.W_,r.qU,"","",r.R_):r.ilt=void 0;return r}ut(n,t);var i=n.prototype;return i.Wdt=function(t){var n=JU(t)?this.tlt.rlt(t):this.tlt.Wdt(t);return{Zl:n.Zl,r_:n.r_,tw:this.elt.tw}},i.ult=function(){return this.tlt.ult()},i.Qdt=function(){return this.tlt.Qdt()},i.slt=function(){return this.tlt.slt()},i.Fdt=function(t,n,i){return this.tlt.p_.Fdt(t,this.tlt,this.elt.tw,n,i)},i.olt=function(t){return JU(t)?this.p_.clt(t):this.p_.olt(t)},i.M2=function(t){return JU(t)?this.p_.hlt(t):this.p_.M2(t)},i.Va=function(){this.tlt.Cu("nlt",this.jdt)},b(n,[{key:"flt",get:function(){return this.$dt}},{key:"R_",get:function(){var t;return null!==(t=this.tlt.kn.R_)&&void 0!==t?t:this.flt.R_}},{key:"W_",get:function(){return this.tlt.kn.W_||0}},{key:"I_",get:function(){var t=this.tlt.kn;return t.I_?[t.I_]:this.flt.I_}},{key:"vlt",get:function(){var t=this.tlt.kn;return t.I_?[t.I_]:[]}},{key:"qU",get:function(){return this.tlt.kn.I_||this.flt.qU}},{key:"N_",get:function(){return this.tlt.kn.N_||this.flt.N_}},{key:"D_",get:function(){return this.tlt.kn.D_||this.flt.D_}},{key:"K_",get:function(){return this.L_+'; codecs="'+this.qU+'"'}},{key:"C_",get:function(){var t=this.tlt.kn;return t.C_.length?t.C_:this.flt.C_}},{key:"Na",get:function(){return this.Ia||(this.Ia=(t=this,{get id(){return t.ic},get type(){return t.ru},get bandwidth(){return t.W_},get width(){return t.q_},get height(){return t.P_},get frameRate(){return t.O_&&t.O_.Od||NaN},get audioSamplingRate(){return t.R_}}));var t}},{key:"O_",get:function(){return this.tlt.kn.O_||this.flt.O_}},{key:"P_",get:function(){return this.tlt.kn.P_||this.flt.P_}},{key:"ic",get:function(){return this.tlt.kn.ic||""}},{key:"X0",get:function(){return this.Kdt},set:function(t){this.Kdt=t}},{key:"G3",get:function(){var t=this.tlt.dlt();if(t)return{Zl:t.Zl,r_:t.r_,tw:this.elt.tw}}},{key:"x_",get:function(){return this.tlt.kn.x_||this.flt.x_||1}},{key:"B_",get:function(){return this.tlt.kn.B_||this.flt.B_}},{key:"elt",get:function(){return this.Xdt.elt}},{key:"L_",get:function(){return this.tlt.kn.L_||this.flt.L_}},{key:"Xdt",get:function(){return this.flt.Xdt}},{key:"M_",get:function(){return this.tlt.kn.M_||this.flt.M_}},{key:"mX",get:function(){return this.ilt}},{key:"U_",get:function(){return this.tlt.kn.U_||this.flt.U_}},{key:"F_",get:function(){return this.tlt.kn.F_||this.flt.F_}},{key:"llt",get:function(){return this.tlt.llt}},{key:"V_",get:function(){return this.tlt.kn.V_||this.flt.V_}},{key:"p_",get:function(){return this.tlt.p_}},{key:"H_",get:function(){return this.tlt.kn.H_||this.flt.H_}},{key:"ru",get:function(){var t=this.L_.split("/")[0];return"application"===t||"text"===t||jd(this.L_,this.I_)?"text":"video"===t?"video":"audio"===t?"audio":"image"===t?"image":"unknown"}},{key:"q_",get:function(){return this.tlt.kn.q_||this.flt.q_}}]),n}(ZU),$U=0,tF=function(t){function n(n,i){var r;return(r=t.call(this)||this)._lt=[],r.glt=[],r.wlt=n,r.tlt=i,r.tlt.Iu("nlt",r.jdt),r}ut(n,t);var i=n.prototype;return i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.glt.length){t.next=6;break}return this.glt=[],r=this.tlt.hg.map(function(t){return e.ylt(t,n,i)}),t.next=5,Tt.all(r);case 5:this.glt=t.sent.filter(B);case 6:this.mlt();case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.ylt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new KU(this,n),t.next=3,i(e);case 3:if(u=t.sent,Dn(r),u){t.next=7;break}return t.abrupt("return",void 0);case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.mlt=function(){if(!this.glt.length)throw new v("Detected an AdaptationSet without any supported Representations.")},i.Qdt=function(){return this.tlt.Qdt()},i.slt=function(){return this.tlt.slt()},i.Va=function(){this.tlt.Cu("nlt",this.jdt);for(var t=0,n=this.glt;t<n.length;t++){n[t].Va()}Sn(this.glt)},b(n,[{key:"J_",get:function(){return this.tlt.kn.J_}},{key:"R_",get:function(){var t;return null!==(t=this.tlt.kn.R_)&&void 0!==t?t:-1}},{key:"I_",get:function(){if(this.tlt.kn.I_)return[this.tlt.kn.I_];for(var t=[],n=0,i=this.hg;n<i.length;n++){var r=i[n];r.vlt.length&&-1===t.indexOf(r.qU)&&t.push(r.qU)}return t}},{key:"qU",get:function(){return this.I_.join()}},{key:"N_",get:function(){return this.tlt.kn.N_}},{key:"D_",get:function(){return this.tlt.kn.D_}},{key:"K_",get:function(){return this.L_+'; codecs="'+this.qU+'"'}},{key:"C_",get:function(){return this._lt}},{key:"O_",get:function(){return this.tlt.kn.O_}},{key:"tg",get:function(){return this.tlt.kn.tg}},{key:"P_",get:function(){return this.tlt.kn.P_||0}},{key:"ic",get:function(){return this.tlt.kn.ic}},{key:"x_",get:function(){return this.tlt.kn.x_}},{key:"B_",get:function(){return this.tlt.kn.B_}},{key:"elt",get:function(){return this.Xdt.elt}},{key:"L_",get:function(){return this.tlt.kn.L_||this.glt[0].L_}},{key:"Xdt",get:function(){return this.wlt}},{key:"M_",get:function(){return this.tlt.kn.M_}},{key:"hg",get:function(){return this.glt}},{key:"fg",get:function(){return this.tlt.kn.fg||[]}},{key:"U_",get:function(){return this.tlt.kn.U_}},{key:"F_",get:function(){return this.tlt.kn.F_}},{key:"V_",get:function(){return this.tlt.kn.V_}},{key:"dg",get:function(){return this.tlt.kn.dg}},{key:"H_",get:function(){return this.tlt.kn.H_}},{key:"ru",get:function(){var t=(this.tlt.kn.K_||this.L_).split("/")[0];return"application"===t||"text"===t||"subtitle"===t||jd(this.L_,this.I_)?"text":"video"===t?"video":"audio"===t?"audio":"image"===t?"image":"unknown"}},{key:"q_",get:function(){return this.tlt.kn.q_||0}},{key:"Bdt",get:function(){return this.tlt.kn.sc||""}},{key:"plt",get:function(){return this.Ydt}},{key:"klt",get:function(){var t=this.plt,n=this.Zdt;if(t&&n){var i=Mc.cf(n,this.elt.Alt);return Mc.hf(t,i)}}}]),n}(ZU);function nF(t,n){for(var i=[],e=0;e<n.length;e++)for(var u=n[e],s=0;s<t.length;s++){var o=t[s];i.push(r.aa(o,u))}return i}var iF=function(){function t(t,n){this.wlt=t,this.blt=n,this.Tlt=n.bd,this.Elt=n.Kl.Rd(this.Tlt),this.Slt=n.g_.Rd(this.Tlt)}var n=t.prototype;return n.Rlt=function(t){var n,i=t.Hf(this.wlt.Jh);if(!i.Ud()&&!i.Sd(this.wlt.e_))return(null===(n=this.Ilt())||void 0===n?void 0:n.if(i))?this.Mdt():this.Nlt(i.Rd(this.Tlt,2))},n.Dlt=function(t){var n=t.Hf(this.wlt.Jh).Rd(this.Tlt,2);if(!n.Ud())return this.Clt(Yc.cf(n,this.wlt.e_).Rd(this.Tlt,2))},n.Mdt=function(){return this.Olt(0)},n.Hdt=function(){var t=this.wlt.e_.Rd(this.Tlt,2);if(!t.Cd())return this.Clt(t)},n.ult=function(t){if("dynamic"===this.wlt.Plt.ru){var n=this.xlt(t);if(!n)return;return{Blt:t,Llt:this.Mlt(t),Ult:n}}var i=this.Mdt();if(i)return{Blt:t,Llt:i,Ult:this.Hdt()}},n.slt=function(t,n){if(n){var i=n.Llt.Tg,r=this.lst(n.Ult);return r&&(!i||r.Flt.getTime()<i.getTime())&&(i=r.Flt),i}var e=this.Mdt();if(e&&t.getTime()<e.Flt.getTime())return e.Flt;var u=this.wlt.Plt.Eg;return t.getTime()<u.getTime()?u:void 0},n.xlt=function(t){var n=Yc.bl(t).Hf(Yc.bl(this.wlt.Plt.Eg)).Hf(this.wlt.Jh).Df(this.Elt),i=this.Clt(Yc.Tl(n.Rd(this.Tlt,2),Yc.xd.Rd(this.Tlt,2),this.wlt.e_.Rd(this.Tlt,2)));if(i&&(i=this.Vlt(i,t))){for(var r=this.lst(i);r&&this.Hlt(r,t);)i=r,r=this.lst(i);return i}},n.Mlt=function(t){var n,i=this.blt.y_;if(i){var r=Yc.bl(t).Hf(Yc.bl(this.wlt.Plt.Eg)).Hf(this.wlt.Jh).Hf(i.Ql);(n=this.Clt(Yc.Tl(r.Rd(this.Tlt,2),Yc.xd.Rd(this.Tlt,2),this.wlt.e_.Rd(this.Tlt,2))))||(n=this.Mdt())}else n=this.Mdt();if(n&&(n=this.Vlt(n,t))){for(var e=this.qlt(n);e&&this.Hlt(e,t);)n=e,e=this.qlt(n);return n}},n.Vlt=function(t,n){for(var i=t;i&&i.Flt.getTime()>n.getTime();)i=this.qlt(i);if(i){if(i.Tg&&i.Tg.getTime()<=n.getTime()){var r=this.qlt(i);for(r&&this.Hlt(r,n)&&(i=r);i;){if(i.Flt.getTime()>n.getTime())return;if(this.Hlt(i,n))break;i=this.lst(i)}if(!i)return}return i}},n.Hlt=function(t,n){return t.Flt.getTime()<=n.getTime()&&(!t.Tg||n.getTime()<t.Tg.getTime())},n.Wlt=function(t,n){return t.Eg.getTime()<=n.getTime()&&(!t.Tg||n.getTime()<t.Tg.getTime())},n.Xlt=function(t,n,i){var r=n.Df(this.wlt.Jh).Rd(this.Tlt,2),e=Yc.cf(i,this.wlt.e_.Hf(n)).Rd(this.Tlt,2),u=this.Glt(r,e),s=this.zlt(u,e),o=this.jlt(u);return{o_:t,Ylt:n,u_:r,e_:e,Ck:r.Df(e),Eg:u.El(),Tg:s?s.El():void 0,Flt:o.El()}},n.Glt=function(t,n){return"dynamic"===this.wlt.Plt.ru?Yc.bl(this.wlt.Plt.Eg).Df(t).Df(n):Yc.bl(this.wlt.Plt.Eg)},n.jlt=function(t){return"dynamic"===this.wlt.Plt.ru?t.Hf(this.Elt):t},n.zlt=function(t,n){var i=Yc.pl;if("dynamic"===this.wlt.Plt.ru){var r=this.blt.y_;r&&(i=t.Df(n).Df(Yc.yl(r.Yl.Od,1)))}var e=this.wlt.Plt.Tg;return e&&(i=Yc.cf(i,Yc.bl(e))),i.Cd()?void 0:i},n.Qlt=function(t,n){return(t.o_+n).toString(10)},n.Udt=function(t){return!1},n.Fdt=function(t,n,i,r,e){var u=this.Zlt(t);if(!u)return Tt.reject(new v("Invalid segment"));var s=this.Jlt(u.o_);return s?Tt.resolve(s):this.Klt(u.o_,n,i,r,e)},n.Jlt=function(t){},n.Klt=function(t,n,i,r,e){return Tt.reject(new v("Not supported"))},n.qlt=function(t){var n=this.Zlt(t);if(n)return this.Olt(n.o_-1)},n.lst=function(t){var n=this.Zlt(t);if(n)return this.Olt(n.o_+1)},n.Zlt=function(t){var n=this.Olt(t.o_);if(n&&n.u_.if(t.u_))return n;var i=this.Rlt(t.u_);return i&&i.u_.if(t.u_)?i:void 0},n.$lt=function(t){var n=this.t_t(t);if(n&&this.Udt(n.o_)){var i=this.Jlt(n.o_);if(i)return i.$lt(t)}},n.t_t=function(t){var n=this.Olt(t.n_t);return n&&n.u_.af(t.u_)&&t.Ck.af(n.Ck)||(n=this.Rlt(t.u_)),n},n.olt=function(t){var n=this.Zlt(t);return!!n&&0===n.o_},n.clt=function(t){var n=this.$lt(t);return!!n&&0===n.Jdt},n.M2=function(t){var n=this.Zlt(t);if(!n)return!1;var i=this.Hdt();return!!i&&n.o_===i.o_},n.hlt=function(t){var n=this.$lt(t);if(!n)return!1;var i=this.Hdt();if(!i||n.n_t!==i.o_)return!1;var r=this.Jlt(n.n_t);return n.Jdt+1===r.qa},b(t,[{key:"rA",get:function(){return this.Slt.Hf(this.wlt.Jh).Rd(this.Tlt,2)}}]),t}(),rF=function(t){function n(n,i){var r;r=t.call(this,i,n)||this;var e=n.e_;if(void 0===e)throw new v("MultipleSegmentBase does not have a segment duration specified.");return r.i_t=e,r}ut(n,t);var i=n.prototype;return i.Olt=function(t){if(!(t<0)){var n=this.i_t.vl(t);if(!n.Sd(this.wlt.e_.Rd(this.Tlt,1))){var i=this.r_t();if(void 0!==i){if(t>i)return;if(t===i)return this.Xlt(t,n,this.wlt.e_.Hf(n))}return this.Xlt(t,n,this.i_t)}}},i.Ilt=function(){return Yc.xd.Rd(this.Tlt)},i.Nlt=function(t){var n=_.floor(t.nl()/this.i_t.nl()),i=this.r_t();return void 0!==i&&n>=i?this.Olt(i):this.Olt(n)},i.Clt=function(t){if(t.Sd(this.wlt.e_)){var n=_.ceil(this.wlt.e_.nl()/this.i_t.nl())-1,i=this.r_t();return void 0!==i&&n>=i?this.Olt(i):this.Olt(n)}return this.Nlt(t)},i.r_t=function(){var t,n=this.blt.A_;if(void 0!==n)return n-(null!==(t=this.blt.k_)&&void 0!==t?t:1)},i.e_t=function(){if(!this.wlt.e_.Cd())return this.Hdt()},i.u_t=function(t,n){return this.i_t.vl(t.o_+(n-1)).Rd(this.Tlt).tl().toString(10)},i.qs=function(){},n}(iF);function eF(t,n){var i=t.length;if(0===i)return-1;for(var r=0,e=i-1,u=t[r].u_,s=t[e].Ck;r<=e&&u.lessThanOrEqual(n)&&n.lessThan(s);){var o=r+_.floor(n.subtract(u).toNumber()/s.subtract(u).toNumber()*(e-r)),a=t[o],c=a.u_,h=o+1<i?t[o+1].u_:a.Ck;if(h.lessThanOrEqual(n))r=o+1,u=h;else{if(!n.lessThan(c))return o;e=o-1,s=c}}return-1}var uF=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).s_t=[],r.o_t=void 0,r.qs(),r}ut(n,t);var i=n.prototype;return i.Olt=function(t){if(!(t<0))return t<this.s_t.length?this.a_t(this.s_t[t]):this.c_t(t-this.s_t.length)},i.Ilt=function(){if(this.s_t.length>0)return Yc.Xd(this.s_t[0].u_,this.Tlt)},i.Nlt=function(t){var n=t.Rd(this.Tlt).tl();if(this.o_t&&this.o_t.u_.lessThanOrEqual(n)){var i=this.o_t.u_,r=this.o_t.e_,e=_.floor(n.subtract(i).toNumber()/r.toNumber());return this.c_t(e)}if(this.s_t.length>0&&t.if(Yc.Xd(this.s_t[0].u_,this.Tlt)))return this.a_t(this.s_t[0]);var u=eF(this.s_t,n);return u<0?void 0:this.a_t(this.s_t[u])},i.Clt=function(t){if(!this.o_t&&this.s_t.length>0){var n=this.s_t[this.s_t.length-1];if(t.Sd(Yc.Xd(n.Ck,this.Tlt)))return this.a_t(n)}var i=this.Ilt();return i&&t.sf(i)?this.a_t(this.s_t[0]):this.Nlt(t)},i.e_t=function(){return this.wlt.e_.Cd()?this.Olt(this.s_t.length-1):this.Hdt()},i.u_t=function(t){return this.h_t(t).Rd(this.Tlt).tl().toString(10)},i.a_t=function(t){return this.Xlt(t.o_,Yc.Xd(t.u_,this.Tlt),Yc.Xd(t.e_,this.Tlt))},i.c_t=function(t){if(this.o_t){var n=this.o_t.u_,i=this.o_t.e_,r=n.add(i.multiply(t)),e=Yc.Xd(r,this.Tlt);if(!e.Sd(this.wlt.e_.Rd(this.Tlt,1)))return this.Xlt(this.s_t.length+t,e,Yc.Xd(i,this.Tlt))}},i.h_t=function(t){return t.Ylt.Df(this.Slt)},i.qs=function(){var t=this.blt.kn.p_;if(!t)throw new v("MultipleSegmentBaseTO does not have a SegmentTimeline specified.");this.f_t(t)},i.f_t=function(t){for(var n,i=this.Slt.tl(),r=[],e=0,u=Pi.ZERO,s=0;s<t.length;s++){var o=t[s],a=void 0,c=o.u_?o.u_.toSigned().subtract(i):u,h=o.e_.toSigned(),f=o.s_||0,v=s+1<t.length&&t[s+1].u_?t[s+1].u_.toSigned().subtract(i):void 0;if(f<0){if(s+1===t.length){n={u_:c,e_:h};break}for(;c.lessThan(v);)a={o_:e++,u_:c,e_:h,Ck:c.add(h)},r.push(a),c=a.Ck}else for(var d=0;d<=f;d++)a={o_:e++,u_:c,e_:h,Ck:c.add(h)},r.push(a),c=a.Ck;a&&v&&a.Ck.greaterThan(v)&&(a.e_=v.subtract(a.u_),a.Ck=a.u_.add(a.e_)),a&&(u=a.Ck)}this.s_t=r,this.o_t=n},n}(iF),sF=function(){function t(t,n,i){this.v_t=void 0,this.d_t=void 0,this.Xdt=t,this.l_t=n,this.Xe=i}var n=t.prototype;return n.__t=function(){if(this.d_t=this.g_t(),this.d_t)return this.d_t;if(this.l_t)return this.l_t.p_;throw new v("Missing media segment information.")},n.dlt=function(t){var n=this.__;if(n)return{Zl:(void 0!==n.i_?r.aa(n.i_,t.X_[0]):t.X_[0]).href,r_:n.r_};var i=this.a_;return i?{Zl:t.X_[0].href,r_:[0,i[0]-1]}:void 0},n.qs=function(t){this.Xe=t,this.d_t&&this.d_t.qs()},b(t,[{key:"kn",get:function(){return this.Xe}},{key:"Kl",get:function(){return this.Xe&&void 0!==this.Xe.Kl?Yc.yl(this.Xe.Kl):this.l_t?this.l_t.Kl:Yc.xd}},{key:"g_",get:function(){return this.Xe&&void 0!==this.Xe.g_?Yc.Xd(this.Xe.g_,this.bd):this.l_t?this.l_t.g_:Yc.xd}},{key:"y_",get:function(){return this.Xe&&void 0!==this.Xe.y_?this.Xe.y_:this.l_t?this.l_t.y_:this.Xdt.Plt.y_}},{key:"bd",get:function(){return this.Xe&&void 0!==this.Xe.bd?this.Xe.bd:this.l_t&&this.l_t.bd?this.l_t.bd:1}},{key:"a_",get:function(){return this.Xe&&void 0!==this.Xe.a_?this.Xe.a_:this.l_t?this.l_t.a_:void 0}},{key:"__",get:function(){return this.Xe&&void 0!==this.Xe.__?this.Xe.__:this.l_t?this.l_t.__:void 0}},{key:"p_",get:function(){return this.v_t||(this.v_t=this.__t()),this.v_t}}]),t}(),oF=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.g_t=function(){return this.Xe.p_?new uF(this,this.Xdt):void 0!==this.Xe.e_?new rF(this,this.Xdt):void 0},b(n,[{key:"e_",get:function(){return void 0!==this.Xe.e_?Yc.Gd(this.Xe.e_,this.bd):this.l_t&&this.l_t instanceof n?this.l_t.e_:void 0}},{key:"k_",get:function(){return void 0!==this.Xe.k_?this.Xe.k_:this.l_t&&this.l_t instanceof n?this.l_t.k_:void 0}},{key:"A_",get:function(){return void 0!==this.Xe.A_?this.Xe.A_:this.l_t&&this.l_t instanceof n?this.l_t.A_:void 0}}]),n}(sF),aF=function(){function t(t){this.w_t=t}return t.prototype.cs=function(t){return this.w_t.replace(/\$\$|\$(RepresentationID|Number|Bandwidth|Time)(?:%0(\d+)d)?\$/g,function(n,i,r){if("$$"===n)return"$";var e=t[i]||"";return r&&(e=hn(e,Number(r),"0")),e})},t}(),cF=function(t){function n(n,i,r){var e;return(e=t.call(this,n,i,r)||this).y_t=r.E_?new aF(r.E_):void 0,e.m_t=r.S_?new aF(r.S_):void 0,e}ut(n,t);var i=n.prototype;return i.dlt=function(n){var i=this.E_;if(!i)return t.prototype.dlt.call(this,n);var e=i.cs({Bandwidth:n.kn.W_.toString(),RepresentationID:n.kn.ic});return{Zl:r.aa(e,n.X_[0]).href}},i.Wdt=function(t,n){var i,e=null!==(i=n.llt.k_)&&void 0!==i?i:1,u=this.S_.cs({Bandwidth:n.kn.W_.toString(),Number:n.p_.Qlt(t,e),RepresentationID:n.kn.ic,Time:n.p_.u_t(t,e)});return{Zl:r.aa(u,n.X_[0]).href}},i.rlt=function(t,n){},b(n,[{key:"E_",get:function(){return this.y_t?this.y_t:this.l_t&&this.l_t instanceof n?this.l_t.E_:void 0}},{key:"S_",get:function(){return this.m_t?this.m_t:this.l_t&&this.l_t instanceof n?this.l_t.S_:void 0}}]),n}(oF),hF=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.Wdt=function(t,n){var i=this.Xe.f_[t.o_],e=n.X_[0];return{Zl:(i.c_?r.aa(i.c_,e):e).href,r_:i.h_}},i.rlt=function(t,n){},n}(oF),fF=function(t){function n(n,i,r,e,u){var s;return(s=t.call(this)||this).n_t=n,s.p_t=i,s.bd=r.bd,s.k_t=e,s.g_=u,s.A_t=s.b_t(r),s}ut(n,t);var i=n.prototype;return i.Vdt=function(t){if(t>=0&&t<this.qa)return this.T_t(this.A_t[t])},i.E_t=function(t){var n=this.S_t(t);if(this.A_t.length>0){var i=this.A_t[0];if(n.af(Yc.Xd(i.u_,this.bd)))return this.T_t(i)}var r=eF(this.A_t,n.Rd(this.bd).tl());if(!(r<0))return this.T_t(this.A_t[r])},i.R_t=function(t){var n=this.S_t(t);if(this.A_t.length>0){var i=this.A_t[this.A_t.length-1];if(n.Sd(Yc.Xd(i.Ck,this.bd)))return this.T_t(i)}return this.E_t(t)},i.T_t=function(t){var n=Yc.Xd(t.u_,this.bd).Hf(this.g_),i=n.Df(this.k_t),r=Yc.Xd(t.e_,this.bd);return{n_t:this.n_t,Jdt:t.o_,u_:i,Ylt:n,e_:r,Ck:i.Df(r),I_t:[this.p_t+t.p_t,this.p_t+t.N_t]}},i.b_t=function(t){for(var n=[],i=t.Rk,r=t.Ik.toNumber(),e=0,u=0,s=t.Dk;u<s.length;u++){var o=s[u],a=o.Ak,c=Pi.fromNumber(o.e_),h=i.add(c);0===o.kk&&n.push({o_:e++,u_:i,e_:c,Ck:h,p_t:r,N_t:r+a-1}),r+=a,i=h}return n},i.S_t=function(t){return t.Hf(this.k_t).Df(this.g_)},b(n,[{key:"qa",get:function(){return this.A_t.length}}]),n}(function(){function t(){}return t.prototype.$lt=function(t){var n=this.Vdt(t.Jdt);if(n&&n.u_.if(t.u_))return n;var i=this.E_t(t.u_);return i&&i.u_.if(t.u_)?i:void 0},t}()),vF=function(t){function n(n,i){var r;return(r=t.call(this,i,n)||this).D_t=void 0,r.C_t=n.a_,r}ut(n,t);var i=n.prototype;return i.Olt=function(t){if(0===t)return this.a_t()},i.Ilt=function(){return Yc.xd.Rd(this.Tlt)},i.Nlt=function(t){return this.a_t()},i.Clt=function(t){return this.Nlt(t)},i.e_t=function(){return this.a_t()},i.a_t=function(){return this.Xlt(0,Yc.xd.Rd(this.Tlt,2),this.wlt.e_.Rd(this.Tlt,2))},i.u_t=function(t,n){return""},i.ult=function(t){var n=this.O_t(t);return n&&{Blt:t,Llt:n,Ult:n}},i.O_t=function(t){var n=this.a_t();return this.Hlt(n,t)?n:void 0},i.xlt=function(t){return this.O_t(t)},i.Mlt=function(t){return this.O_t(t)},i.qs=function(){},i.Udt=function(t){return 0===t&&void 0!==this.C_t},i.Jlt=function(t){return this.D_t},i.Klt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=i.X_[0].href,o=this.C_t,t.next=4,e.P_t(s,o,r,u);case 4:return a=t.sent,this.D_t=this.x_t(n,a),t.abrupt("return",this.D_t);case 7:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),i.x_t=function(t,n){var i=this.C_t,r=vv.Am(new DataView(n),new mr);if("sidx"!==r.ru)throw new v("Invalid segment index");var e=wv.pk(r.rs,r.kn),u=i[1]+1;return new fF(t,u,e,this.wlt.Jh,this.Slt)},n}(iF),dF=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.Wdt=function(t,n){return{Zl:n.X_[0].href}},i.rlt=function(t,n){return{Zl:n.X_[0].href,r_:t.I_t}},i.g_t=function(){return new vF(this,this.Xdt)},b(n,[{key:"k_",get:function(){}}]),n}(sF),lF=function(t){function n(){return t.call(this,"nlt")||this}return ut(n,t),n}(Un);var _F=function(t){function n(n,i,r){var e;return(e=t.call(this)||this).blt=void 0,e.B_t=Yc.pl,e.L_t=void 0,e.Xi=i,e.M_t(n,r),e}ut(n,t);var i=n.prototype;return i.U_t=function(){return this.blt||this.Xi&&this.Xi.U_t()},i.F_t=function(t){var n=this.Xdt,i=this.Xi&&this.Xi.U_t();this.Xe.Z_?this.blt=new cF(n,i,this.Xe.Z_):this.Xe.Q_?this.blt=new hF(n,i,this.Xe.Q_[0]):this.Xe.Y_?this.blt=new dF(n,i,this.Xe.Y_):t&&!i&&(this.blt=new dF(n,i,void 0))},i.M_t=function(t,n){this.Xe=t,this.V_t=t.X_&&t.X_.length>0?nF(t.X_.map(function(t){return t.Zl}),n):n.slice(),this.blt&&(t.Z_?this.blt.qs(t.Z_):t.Q_?this.blt.qs(t.Q_[0]):t.Y_&&this.blt.qs(t.Y_))},i.Qdt=function(){var t;return null===(t=this.L_t)||void 0===t?void 0:t.H_t},i.slt=function(){var t;return null===(t=this.L_t)||void 0===t?void 0:t.q_t},i.W_t=function(t){var n=this.B_t,i=this.Xdt.e_,r=this.L_t,e=this.X_t(t);r&&i.if(n)&&mF(r,e)||(this.B_t=i,this.L_t=e,this.Su(new lF))},i.bu=function(){this.Du()},b(n,[{key:"kn",get:function(){return this.Xe}},{key:"X_",get:function(){return this.V_t}}]),n}(Mn);function gF(t){for(var n,i=0;i<t.length;i++){var r=t[i].Qdt();if(r){n=r.Jh;break}}if(n){for(var e,u=t.length-1;u>=0;u--){var s=t[u].Qdt();if(s){e=s.$h;break}}if(e)return{Jh:n,$h:e}}}function wF(t){if(0!==t.length){for(var n=Yc.xd,i=Yc.pl,r=0;r<t.length;r++){var e=t[r].Qdt();if(!e)return;if(n=Yc.hf(n,e.Jh),i=Yc.cf(i,e.$h),n.Sd(i))return}return{Jh:n,$h:i}}}function yF(t){for(var n,i=0;i<t.length;i++){var r=t[i].slt();r&&(!n||r.getTime()<n.getTime())&&(n=r)}return n}function mF(t,n){return function(t,n){return t&&n?t.getTime()===n.getTime():t===n}(t.q_t,n.q_t)&&function(t,n){return t&&n?t.Jh.if(n.Jh)&&t.$h.if(n.$h):t===n}(t.H_t,n.H_t)}var pF=function(t){function n(n,i,r){var e;(e=t.call(this)||this).wlt=n,e.Hk=i,e.G_t=r.slice();for(var u=0;u<r.length;u++){r[u].Iu("nlt",e.jdt)}return e}ut(n,t);var i=n.prototype;return i.Qdt=function(){return wF(this.G_t)},i.slt=function(){for(var t,n=0,i=this.G_t;n<i.length;n++){var r=i[n].slt();r&&(!t||r.getTime()<t.getTime())&&(t=r)}return t},i.Va=function(){this.Du();for(var t=0,n=this.G_t;t<n.length;t++){n[t].Cu("nlt",this.jdt)}},b(n,[{key:"pg",get:function(){return this.G_t}},{key:"I_",get:function(){return this.pg.reduce(function(t,n){for(var i=0,r=n.I_;i<r.length;i++){var e=r[i];Tn(t,e)||t.push(e)}return t},[])}},{key:"qU",get:function(){return this.I_.length>0?this.I_[0]:""}},{key:"ru",get:function(){return this.G_t[0].ru}},{key:"ic",get:function(){return this.Hk}},{key:"elt",get:function(){return this.wlt.elt}},{key:"L_",get:function(){return this.G_t[0].L_}},{key:"Xdt",get:function(){return this.wlt}},{key:"hg",get:function(){return function(t,n){for(var i=[],r=0;r<t.length;r++){var e=t[r];i.push.apply(i,n(e))}return i}(this.pg,function(t){return t.hg})}}]),n}(ZU),kF=function(t){function n(){return t.call(this,"z_t")||this}return ut(n,t),n}(Un);function AF(t){for(var n=[],i=function(i){var r=t[i],e=void 0,u=r.tg;void 0===u||(e=pn(n,function(t){return t.ic===u})),e||(e={ic:u,pg:[]},n.push(e)),e.pg.push(r)},r=0;r<t.length;r++)i(r);return n}var bF=function(t){function n(n,i){var r;return(r=t.call(this)||this).G_t=[],r.j_t=[],r.Y_t=!1,r.Q_t=n,r.tlt=i,r.tlt.Iu("nlt",r.jdt),r}ut(n,t);var i=n.prototype;return i.Z_t=function(t,n){if(0!==this.j_t.length){for(var i=t,r=0,e=this.j_t;r<e.length;r++){var u=e[r],s=u.ru;if("audio"===s||"video"===s){var o=u.Zdt;if(!o)return;i=n(i,o)}}return i}},i.J_t=function(){this.Y_t||(this.Y_t=!0,this.Su(new kF),this.Va())},i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.G_t.length){t.next=7;break}return t.next=3,this.K_t(this.tlt.pg,n,i);case 3:this.$_t(this.G_t),Dn(i),t.next=9;break;case 7:return t.next=9,this.tgt(n,i);case 9:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.K_t=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=17;break}return u=n[e],s=new tF(this,u),t.prev=4,t.next=7,s.qs(i,r);case 7:this.G_t.push(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),Cn(t.t0);case 14:e++,t.next=1;break;case 17:case"end":return t.stop()}},t,this,[[4,10]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.$_t=function(t){for(var n=AF(t),i=0;i<n.length;i++){var r=n[i],e=new pF(this,r.ic,r.pg);this.j_t.push(e)}},i.tgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0,e=this.G_t;case 1:if(!(r<e.length)){t.next=8;break}return u=e[r],t.next=5,u.qs(n,i);case 5:r++,t.next=1;break;case 8:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Qdt=function(){return this.tlt.Qdt()},i.slt=function(){return this.tlt.slt()},i.Va=function(){this.Du(),this.tlt.Cu("nlt",this.jdt);for(var t=0,n=this.j_t;t<n.length;t++){n[t].Va()}for(var i=0,r=this.G_t;i<r.length;i++){r[i].Va()}Sn(this.G_t),Sn(this.j_t)},b(n,[{key:"pg",get:function(){return this.G_t}},{key:"Pdt",get:function(){return this.j_t}},{key:"kg",get:function(){return this.tlt.kn.kg}},{key:"e_",get:function(){return this.tlt.e_.Sl()}},{key:"$h",get:function(){return this.Jh.Df(this.e_)}},{key:"Ag",get:function(){return this.tlt.kn.Ag||[]}},{key:"ic",get:function(){return this.tlt.ic}},{key:"z_t",get:function(){return this.Y_t}},{key:"elt",get:function(){return this.Q_t}},{key:"ngt",get:function(){return this.Q_t.igt(this)}},{key:"Xdt",get:function(){return this}},{key:"rgt",get:function(){return this.Q_t.egt(this)}},{key:"ugt",get:function(){return this.Z_t(Mc.Bd,Mc.cf)}},{key:"sgt",get:function(){return this.Z_t(Mc.xd,Mc.hf)}},{key:"Jh",get:function(){return this.tlt.Jh.Sl()}},{key:"tw",get:function(){return this.elt.tw}}]),n}(ZU),TF=function(t){function n(){return t.call(this,Ia.Oh)||this}return ut(n,t),n}(Un),EF=function(t){function n(){return t.call(this,"ogt")||this}return ut(n,t),n}(Un),SF=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.X_)||this).agt=void 0,r.$dt=i,r.F_t(!0),r}ut(n,t);var i=n.prototype;return i.dlt=function(){return this.llt.dlt(this)},i.Wdt=function(t){return this.llt.Wdt(t,this)},i.rlt=function(t){return this.llt.rlt(t,this)},i.ult=function(){return this.agt},i.X_t=function(t){var n=this.p_.ult(t),i=n&&function(t){var n,i=t.Llt,r=t.Ult,e=t.Blt,u=i.u_;if(r.Eg.getTime()<=e.getTime())n=r.Ck;else{var s=Yc.yl(r.Eg.getTime()-e.getTime(),1e3),o=Yc.hf(r.e_.Hf(s),Yc.xd);n=r.u_.Df(o)}return{Jh:u,$h:n}}(n),r=this.p_.slt(t,n);return this.agt=n,{Blt:t,H_t:i,q_t:r}},i.qs=function(t){this.M_t(t,this.$dt.X_)},b(n,[{key:"flt",get:function(){return this.$dt}},{key:"Xdt",get:function(){return this.$dt.Xdt}},{key:"Plt",get:function(){return this.$dt.Plt}},{key:"llt",get:function(){return this.U_t()}},{key:"p_",get:function(){return this.llt.p_}}]),n}(_F),RF=function(t){function n(n,i){var r;return(r=t.call(this,n,i,i.X_)||this).wlt=i,r.F_t(!1),r.glt=n.hg.map(function(t){return new SF(t,st(r))}),r}ut(n,t);var i=n.prototype;return i.qs=function(t){this.M_t(t,this.wlt.X_);var n=t.hg||[];if(this.glt.length!==n.length)throw new v("Expected "+this.glt.length+' representations in adaptation set "'+t.ic+'", found '+n.length);for(var i=0;i<n.length;i++)this.glt[i].qs(n[i])},i.W_t=function(n){for(var i=0,r=this.glt;i<r.length;i++){r[i].W_t(n)}t.prototype.W_t.call(this,n)},i.X_t=function(t){return{Blt:t,H_t:wF(this.glt),q_t:yF(this.glt)}},i.bu=function(){for(var n=0,i=this.glt;n<i.length;n++){i[n].bu()}t.prototype.bu.call(this)},b(n,[{key:"hg",get:function(){return this.glt}},{key:"Xdt",get:function(){return this.wlt}},{key:"Plt",get:function(){return this.wlt.Plt}},{key:"tg",get:function(){return this.Xe.tg}}]),n}(_F),IF=function(t){function n(n,i,r,e){var u;return(u=t.call(this,i,void 0,n.X_)||this).j_t=[],u.cgt=n,u.Jk=r,u.WH=e,u.F_t(!1),u.G_t=(i.pg||[]).map(function(t){return new RF(t,st(u))}),u.j_t=AF(u.G_t),u}ut(n,t);var i=n.prototype;return i.qs=function(t,n){this.M_t(t,this.cgt.X_),this.WH=n;var i=t.pg||[];if(this.G_t.length!==i.length)throw new v("Expected "+this.G_t.length+' adaptation sets in period "'+t.ic+'", found '+i.length);for(var r=0;r<i.length;r++)this.G_t[r].qs(i[r])},i.W_t=function(n){for(var i=0,r=this.G_t;i<r.length;i++){r[i].W_t(n)}t.prototype.W_t.call(this,n)},i.X_t=function(t){return{Blt:t,H_t:wF(this.G_t),q_t:yF(this.G_t)}},i.bu=function(){for(var n=0,i=this.G_t;n<i.length;n++){i[n].bu()}t.prototype.bu.call(this)},b(n,[{key:"pg",get:function(){return this.G_t}},{key:"Pdt",get:function(){return this.j_t}},{key:"Xdt",get:function(){return this}},{key:"Plt",get:function(){return this.cgt}},{key:"ic",get:function(){return this.Xe.ic}},{key:"Jh",get:function(){return this.Jk}},{key:"e_",get:function(){return this.WH}}]),n}(_F),NF=new Date("2000-01-01"),DF=function(t){function n(n,i,r,e){var u;if((u=t.call(this)||this).L_t=void 0,u.hgt=void 0,u.fgt=void 0,u.vgt=[],u.dgt=i,u.qs(n,r,e),"dynamic"===n.ru){var s=u.e_t(),o=null==s?void 0:s.Tg;s&&o&&o.getTime()<NF.getTime()&&(u.fgt=Yc.bl(u.xg).Hf(s.u_).Hf(s.e_).El(),u.W_t(e))}return u}ut(n,t);var i=n.prototype;return i.Qdt=function(){var t;return null===(t=this.L_t)||void 0===t?void 0:t.H_t},i.slt=function(){var t;return null===(t=this.L_t)||void 0===t?void 0:t.q_t},i.qs=function(t,n,i){var e;this.Xe=t,this.lgt=n,this.XA=i;var u,s=[(u=n,r.aa(".",u))];this.V_t=t.X_&&t.X_.length>0?nF(t.X_.map(function(t){return t.Zl}),s):s,this._gt=t.Sg&&t.Sg.length>0?nF(t.Sg,this.V_t):[];var o=this._gt.map(function(t){return t.href}),a=n.href;Tn(o,a)||(this._gt.push(n),o.push(a));var c=this.dgt.href;Tn(o,c)||(this._gt.push(this.dgt),o.push(c)),this.hgt=null===(e=t.Dg)||void 0===e?void 0:e.Ql;var h="dynamic"===t.ru,f=function(t,n,i){for(var r=[],e=0;e<t.length;e++){var u=t[e],s=void 0;if(u.Jh)s=u.Jh.Ql.Rd(1e3);else if(e>0&&t[e-1].e_){var o=r[e-1],a=t[e-1].e_.Ql.Rd(1e3);s=o.Df(a)}else{if(0!==e||n)break;s=Yc.xd.Rd(1e3)}r.push(s)}for(var c=[],h=0;h<r.length-1;h++)c.push({kn:t[h],Jh:r[h],e_:r[h+1].Hf(r[h])});if(r.length>0){var f=r.length-1,v=t[f],d=r[f],l=Yc.pl;n||(l=v.e_?v.e_.Ql.Rd(1e3):i.Hf(d)),c.push({kn:v,Jh:d,e_:l})}return c}(t.Pg,h,this.hgt);this.ggt(f),this.W_t(i)},i.ggt=function(t){var n=this.vgt;if(0!==t.length){for(var i=t[0].kn.ic,r=0;r<n.length&&n[r].ic!==i;)r++;for(var e=n.splice(0,r),u=0;u<e.length;u++){e[u].bu()}for(var s=0;s<t.length;s++){var o=t[s];if(s<n.length){var a=n[s];0,a.qs(o.kn,o.e_)}else n.push(new IF(this,o.kn,o.Jh,o.e_))}}else Sn(n)},i.W_t=function(t){for(var n=0,i=this.vgt;n<i.length;n++){i[n].W_t(t)}var r=this.L_t,e=this.X_t(t);r&&mF(r,e)||(this.L_t=e,this.Su(new lF))},i.X_t=function(t){return{Blt:t,H_t:gF(this.vgt),q_t:yF(this.vgt)}},i.e_t=function(){if(0!==this.vgt.length){var t=this.vgt[this.vgt.length-1];if(t.e_.Cd()&&0!==t.pg.length){var n=t.pg[0];if(0!==n.hg.length)return n.hg[0].p_.e_t()}}},i.bu=function(){this.Du();for(var t=0,n=this.vgt;t<n.length;t++){n[t].bu()}},b(n,[{key:"kn",get:function(){return this.Xe}},{key:"ru",get:function(){return this.Xe.ru||"static"}},{key:"Eg",get:function(){return this.fgt||this.Xe.Eg||this.xg}},{key:"Tg",get:function(){return this.Xe.Tg}},{key:"Dg",get:function(){return this.hgt}},{key:"X_",get:function(){return this.V_t}},{key:"Sg",get:function(){return this._gt}},{key:"Pg",get:function(){return this.vgt}},{key:"xg",get:function(){return this.Xe.xg||this.XA}},{key:"y_",get:function(){return this.Xe.y_}},{key:"wgt",get:function(){return this.XA}}]),n}(Mn);var CF=function(){function t(t,n,i){this.$T=t,this.ygt=n,this.mgt=i,this.pgt=0}var n=t.prototype;return n.ab=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.kgt(n,this.$T,this.ygt,this.mgt).catch(On);case 2:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Agt=function(){return new Date(rt()+this.pgt)},n.kgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.next=3,this.bgt(i,e,r);case 3:u=t.sent;case 4:if(void 0!==u){t.next=17;break}Dn(r),s=0;case 7:if(!(s<n.length)){t.next=17;break}return o=n[s],t.next=11,this.Tgt(i,o,r);case 11:if(void 0===(u=t.sent)){t.next=14;break}return t.abrupt("break",17);case 14:s++,t.next=7;break;case 17:this.pgt=void 0===u?0:u-rt();case 18:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),n.Tgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=i.n_,t.t0=e,t.next="urn:mpeg:dash:utc:http-xsdate:2012"===t.t0?4:"urn:mpeg:dash:utc:http-xsdate:2014"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2012"===t.t0?4:"urn:mpeg:dash:utc:http-iso:2014"===t.t0?4:"urn:mpeg:dash:utc:direct:2012"===t.t0?10:"urn:mpeg:dash:utc:direct:2014"===t.t0?10:16;break;case 4:if(!(u=i.an)){t.next=9;break}return t.next=8,this.bgt(n,u,r);case 8:return t.abrupt("return",t.sent);case 9:return t.abrupt("break",17);case 10:if(!(s=i.an)){t.next=15;break}if(o=new Date(s).getTime(),y(o)){t.next=15;break}return t.abrupt("return",o);case 15:return t.abrupt("break",17);case 16:return t.abrupt("return");case 17:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.bgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.SA({Zl:i,Qg:"GET",Zg:Oh.Hg,bs:r});case 3:return e=t.sent,t.next=6,e.KC();case 6:if(u=t.sent,s=new Date(u).getTime(),y(s)){t.next=10;break}return t.abrupt("return",s);case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),Cn(t.t0);case 16:case"end":return t.stop()}},t,null,[[0,12]])}));return function(n,i,r){return t.apply(this,arguments)}}(),t}(),OF=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).tlt=void 0,u.zj=!0,u.vgt=[],u.Egt=void 0,u.Sgt=n,u.Rgt=n.wc,u.Igt=i,u.$T=r,u.Ngt=e,u.Dgt=new CF(u.$T,u.Ngt,u.Sgt.Cgt),u}ut(n,t);var i=n.prototype;return i.P7=function(t){var n=this.UT;this.zj=t,n!==this.UT&&this.Su(new EF)},i.qs=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var e,u,s,o,a,c,h,f,v,d,l,_,g;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u=[],s=[],o=n.Rg?r.aa(n.Rg,this.Rgt):this.Rgt,void 0!==this.tlt){t.next=9;break}return t.next=6,this.Dgt.ab(n.Lg);case 6:this.tlt=new DF(n,this.Rgt,o,this.Agt()),t.next=10;break;case 9:this.tlt.qs(n,o,this.Agt());case 10:if(0===(a=this.tlt.Pg).length)c=this.vgt.slice(),Sn(this.vgt);else{for(h=a[0].ic,f=0;f<this.vgt.length&&this.vgt[f].ic!==h;)f++;for(c=this.vgt.splice(0,f),v=0;v<a.length;v++)d=a[v],l=void 0,v<this.vgt.length?l=this.vgt[v]:(l=new bF(this,d),u.push(l)),s.push(l.qs(this.Igt,i))}return t.next=14,Tt.all(s);case 14:for((e=this.vgt).push.apply(e,u),_=0,g=c;_<g.length;_++)g[_].J_t();this.Su(new TF);case 17:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.Agt=function(){return this.Dgt.Agt()},i.egt=function(t){var n=this.vgt.indexOf(t);if(n>0)return this.vgt[n-1]},i.igt=function(t){var n=this.vgt.indexOf(t);if(n>=0&&n+1<this.vgt.length)return this.vgt[n+1]},i.Qdt=function(){return this.tlt?this.tlt.Qdt():void 0},i.slt=function(){return this.tlt&&this.tlt.slt()},i.W_t=function(t){this.tlt&&this.tlt.W_t(t)},i.Va=function(){this.Du(),this.Egt=void 0,this.P7(!1);for(var t=0,n=this.vgt;t<n.length;t++){n[t].Va()}Sn(this.vgt),this.tlt&&this.tlt.bu()},b(n,[{key:"Tg",get:function(){return this.tlt&&this.tlt.Tg}},{key:"Eg",get:function(){return this.tlt&&this.tlt.Eg}},{key:"ic",get:function(){return this.tlt&&this.tlt.kn.ic}},{key:"Ogt",get:function(){var t;return null===(t=this.tlt)||void 0===t?void 0:t.wgt}},{key:"Sg",get:function(){return this.tlt?this.tlt.Sg.map(function(t){return t.href}):[this.Odt]}},{key:"Odt",get:function(){return this.Rgt.href}},{key:"Ig",get:function(){return this.tlt&&this.tlt.kn.Ig}},{key:"Ng",get:function(){return this.tlt&&this.tlt.kn.Ng}},{key:"Dg",get:function(){return this.tlt&&this.tlt.kn.Dg}},{key:"Cg",get:function(){return this.tlt&&this.tlt.kn.Cg}},{key:"Og",get:function(){var t,n,i=(null===(n=null===(t=this.tlt)||void 0===t?void 0:t.kn.Og)||void 0===n?void 0:n.Vl())||0;return _.max(i,BF)}},{key:"UT",get:function(){return this.zj}},{key:"Pg",get:function(){return this.vgt}},{key:"Pgt",get:function(){return"static"===this.ru?this.xgt:this.Alt}},{key:"Bgt",get:function(){var t=this.Pgt;if(t)for(var n=0,i=this.Pg;n<i.length;n++){var r=i[n];if(r.Jh.af(t)&&r.$h.Id(t))return r}}},{key:"M_",get:function(){return this.tlt&&this.tlt.kn.M_}},{key:"xg",get:function(){return this.tlt&&this.tlt.xg}},{key:"Alt",get:function(){for(var t=this.vgt.length-1;t>=0;t-=1){var n=this.vgt[t].ugt;if(n){var i=n.Hf(this.Lgt);return Mc.hf(i,this.xgt)}}}},{key:"xgt",get:function(){for(var t=0,n=this.vgt;t<n.length;t++){var i=n[t].Ydt;if(i)return i}}},{key:"tw",get:function(){return Boolean(this.Sgt.tw)}},{key:"Lgt",get:function(){var t=this.tlt&&this.tlt.kn.Bg;return t?t.Yl:"dynamic"===this.ru?this.N6:Mc.xd}},{key:"N6",get:function(){return this.Sgt.N6?new Mc(this.Sgt.N6,1):this.Cg.Yl.Dd(1.5)}},{key:"y_",get:function(){return this.tlt&&this.tlt.y_}},{key:"ru",get:function(){return this.tlt?this.tlt.ru:"static"}}]),n}(Mn),PF=function(){function t(t,n,i,r){this.Q_t=new OF(t,n,i,r)}return b(t,[{key:"elt",get:function(){return this.Q_t}}]),t}();function xF(t){switch(t.name){case"HttpOpenError":case"HttpResponseError":case"HttpTimeoutError":return!0;default:return!1}}var BF=1e3,LF=_.pow(2,31)-1,MF=function(){function t(t,n,i,r){var e=this;this.Mgt=new Rr,this.Ugt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.Fgt(e.tlt.elt.Sg,n);case 3:return i=t.sent,t.next=6,e.tlt.elt.qs(i,n);case 6:t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),xF(t.t0)&&e.tlt.elt.P7(!1),t.t0;case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),this.h4=r,this.tlt=new PF(t,n,i,this.Mgt.bs)}var n=t.prototype;return n.zO=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.tlt.elt.Su(new DR),t.prev=1,t.next=4,MB(this.Ugt,n);case 4:this.tlt.elt.P7(!0),t.next=13;break;case 7:throw t.prev=7,t.t0=t.catch(1),Cn(t.t0),this.Vgt=void 0,this.tlt.elt.P7(!1),new v("The provided MPEG-DASH document could not be loaded - "+t.t0.message);case 13:this.Hgt=this.qgt(this.Mgt.bs);case 14:case"end":return t.stop()}},t,this,[[1,7]])}));return function(n){return t.apply(this,arguments)}}(),n.qgt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0;case 1:if("static"===this.tlt.elt.ru){t.next=6;break}return t.next=4,Pn(this.Wgt,n);case 4:t.next=1;break;case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},t,this,[[0,8]])}));return function(n){return t.apply(this,arguments)}}(),n.Xgt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Dn(n),!((i=this.Ggt())>0)){t.next=6;break}return r=_.min(i,LF),t.next=6,Pr(r,n);case 6:return t.prev=6,t.next=9,MB(this.Ugt,n,1/0,BF,3e4);case 9:this.tlt.elt.P7(!0);case 10:return t.prev=10,this.zgt=void 0,t.finish(10);case 13:case"end":return t.stop()}},t,this,[[6,,10,13]])}));return function(n){return t.apply(this,arguments)}}(),n.Ggt=function(){var t=this.tlt.elt.Agt().getTime()-this.tlt.elt.Ogt.getTime();return this.tlt.elt.Og-t},n.jgt=function(t){var n=this.tlt.elt.slt();if(n){var i=n.getTime()-t.getTime();if(i>0)return i}this.tlt.elt.W_t(t);var r=this.tlt.elt.slt();return r?r.getTime()-t.getTime():NaN},n.Ygt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.zgt||(this.zgt=this.Xgt(n)),(i=new Rr).ks(n),t.prev=3,t.next=6,Tt.race([this.zgt,this.Qgt(i.bs)].filter(B));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),On(t.t0);case 11:return t.prev=11,i.fs(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[3,8,11,14]])}));return function(n){return t.apply(this,arguments)}}(),n.Qgt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.tlt.elt.Agt(),r=this.jgt(i),!y(r)){t.next=4;break}return t.abrupt("return",void 0);case 4:return t.abrupt("return",this.Zgt(r,n));case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.Zgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pr(n,i);case 2:r=this.tlt.elt.Agt(),this.tlt.elt.W_t(r);case 4:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Fgt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.h4.s4(n,{},!1,i);case 2:return r=t.sent,e=new Ph,t.abrupt("return",e.Mg(r.r4,r.DA));case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.Va=function(){return this.Mgt.fs(),this.Hgt=void 0,this.Vgt=void 0,this.zgt=void 0,this.tlt.elt.Va(),Tt.resolve()},b(t,[{key:"Jgt",get:function(){return this.tlt}},{key:"xJ",get:function(){return this.Vgt||(this.Vgt=this.zO(this.Mgt.bs),Dr(this.Vgt)),this.Vgt}},{key:"Wgt",get:function(){return this.tlt.elt.Ogt&&"static"!==this.tlt.elt.ru?this.Ygt(this.Mgt.bs):this.xJ}}]),t}(),UF=function(){function t(t,n,i){this.h4=t,this.Kgt=n,this.$gt=i}var n=t.prototype;return n.twt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.src){t.next=2;break}throw new v("Invalid typed source");case 2:if(!If(i=n.type)){t.next=9;break}return t.next=6,this.nwt(n);case 6:return t.abrupt("return",t.sent);case 9:if(!Rf(i)){t.next=15;break}return t.next=12,this.iwt(n);case 12:return t.abrupt("return",t.sent);case 15:throw new v("Unexpected source type");case 16:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.nwt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,SU(n.src,this.h4);case 3:return i=t.sent,t.next=6,IU(i,this.h4);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch HLS manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),n.iwt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=new MF({wc:r.aa(n.src),N6:n.liveOffset,Cgt:n.timeServer,tw:n.useCredentials},this.$gt,IT.WP,this.h4),t.next=4,i.xJ;case 4:return t.next=6,sU(i.Jgt.elt,n.contentProtection,this.Kgt);case 6:return t.abrupt("return",t.sent);case 9:throw t.prev=9,t.t0=t.catch(0),new v("Unable to fetch DASH manifest");case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(n){return t.apply(this,arguments)}}(),t}(),FF=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.K_,MediaSource.isTypeSupported(i)||Yd(n.L_,n.I_)){t.next=3;break}return t.abrupt("return",!1);case 3:if(!n.D_){t.next=17;break}e=n.D_,u=e.map(function(t){return rn(t.n_)}).filter(B),s=0;case 7:if(!(s<u.length)){t.next=16;break}return o=u[s],t.next=11,r.gu(o,i);case 11:if(!t.sent){t.next=13;break}return t.abrupt("return",!0);case 13:s++,t.next=7;break;case 16:return t.abrupt("return",!1);case 17:return t.abrupt("return",!0);case 18:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),VF=function(){function t(t){this.rwt=[],this.ewt=0,this.uwt=t}var n=t.prototype;return n.swt=function(){var t=new kr;return this.rwt.push(t),this.owt(),t.as},n.awt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:this.ewt-=1,this.owt(),0===this.rwt.length&&0===this.ewt&&i.cs(!0);case 5:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),n.owt=function(){this.rwt.length>0&&this.ewt<this.uwt&&(this.rwt.shift().cs(),this.ewt+=1)},t}();function HF(t,n){for(var i=0,r=0,e=t.Dk.aJ.map(function(t){return t.e_});r<e.length;r++){if((i+=e[r])>=n)return i}return i}var qF=function(t){function n(n,i,r,e,u,s,o){var a;void 0===o&&(o=FF),(a=t.call(this)||this).cwt=new kr,a.hwt=jM.Rdt(),a.v4=n,a._J=i,a.h4=r,a.fwt=e,a.vwt=u,a.Kgt=s,a.$gt=o,a.dwt=-1;var c=a.v4.zI.sources[0];return a.lwt=c,a.rT=a.kT(),a._wt=new VF(a.v4.pdt.parallelTasksThreshold),a}ut(n,t);var i=n.prototype;return i.kT=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e,u,s,o,a,c,h,f,v,d,l,g,w,y,m,p,k,A,b,T,E,S,R,I,N,D=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=new UF(this.h4,this.Kgt,this.$gt),t.next=3,i.twt(this.lwt);case 3:return this.QY=t.sent,r=this.v4.pdt.amount,e=this.QY.e_,u=ZM(r,e),this.bdt=u,o=lD(this.QY.Cdt[0]),t.next=11,this._J.oJ.eJ(o,"manifestURL");case 11:for(a=t.sent.filter(function(t){return Tn(t.references,D.v4.ic)}),c=[],h=this.v4.pdt.bandwidth,f=0,v=this.QY.Pg;f<v.length;f++)for(d=v[f],l=0,g=d.xdt;l<g.length;l++)for(w=g[l],y=0,m=GF(w.im);y<m.length;y++)for(p=m[y],k=0,A=zF(p.oc,h);k<A.length;k++)b=A[k],c.push(b);if(this.dwt=_.ceil(c.map(function(t){return t.W_*HF(t,u)/8}).reduce(function(t,n){return t+n},0)),T=Rt(),a&&0!==a.length){for(E=a.reduce(function(t,n){return t+n.byteSize},0),S=function(t){var i=a[t],r=i.qualityId,e=new Ca(i.startsAndEnds);if(T.has(r))T.get(r).timeRanges=T.get(r).timeRanges.Cf(e).Nf(5e-4);else{var u=pn(c,function(t){return t.ic===r}),s=_.min(D.bdt,null!==(n=null==u?void 0:u.Dk.e_)&&void 0!==n?n:1/0);T.set(r,{timeRanges:e,totalQualityDurationToCache:s})}},R=0;R<a.length;R++)S(R);s=new jM(E,T,this.bdt)}else{for(I=0;I<c.length;I++)N=c[I],T.set(N.ic,{timeRanges:new Ca([]),totalQualityDurationToCache:_.min(N.Dk.e_,this.bdt)});s=new jM(0,T,this.bdt)}this.gwt=s;case 19:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.wwt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rT;case 2:return t.next=4,this.ywt(this.QY,n);case 4:return t.next=6,this.cwt.as;case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.ywt=function(){var t=Tt.coroutine(bt.mark(function t(n,i){var r,e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.Cdt){t.next=2;break}throw new v("Unexpected - manifest is missing locations");case 2:return t.next=4,this.mwt();case 4:for(r=[],e=0,u=n.Pg;e<u.length;e++)s=u[e],r.push(this.pwt(s,n.Cdt[0],i));return t.abrupt("return",Tt.all(r));case 7:case"end":return t.stop()}},t,this)}));return function(n,i){return t.apply(this,arguments)}}(),i.mwt=function(){var t=Tt.coroutine(bt.mark(function t(){var n,i,r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fwt.rJ();case 2:n=t.sent,i=0;case 4:if(!(i<n.length)){t.next=25;break}return r=n[i],t.next=8,this._J.cJ.ju(r.key);case 8:if(!(e=t.sent)){t.next=14;break}return t.next=12,WF(e,this.v4.ic,this._J.cJ);case 12:t.next=22;break;case 14:return t.prev=14,t.next=17,this._J.cJ.tJ(r);case 17:t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(14),new JM("Unable to store manifest with url: "+r.locationURL,t.t0);case 22:i++,t.next=4;break;case 25:return t.next=27,this.fwt.sJ();case 27:case"end":return t.stop()}},t,this,[[14,19]])}));return function(){return t.apply(this,arguments)}}(),i.pwt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],u=0,s=n.xdt;u<s.length;u++)for(o=s[u],a=GF(o.im),c=0;c<a.length;c++)h=a[c],e.push(this.kwt(h,i,r));return t.abrupt("return",Tt.all(e));case 3:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.kwt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.v4.pdt.bandwidth,u=zF(n.oc,e),"video"!==n.ru||!n.Ldt||!n.Ldt.GE.widevine||"persistent"!==n.Ldt.GE.widevine.licenseType){t.next=6;break}return t.next=5,this.Awt(n.Ldt);case 5:Dn(r);case 6:for(s=[],o=0;o<u.length;o++)a=u[o],s.push(this.bwt(a,i,r));return t.abrupt("return",Tt.all(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.bwt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.H3){t.next=6;break}return e={u_:0,e_:0,qdt:n.H3},t.next=4,this._wt.swt();case 4:Dr(this._wt.awt(this.Twt(e,n,i),this.cwt)),Dn(r);case 6:u=n.Dk.aJ[0].u_,s=u+this.bdt,o=0,a=n.Dk.aJ;case 9:if(!(o<a.length)){t.next=20;break}if(!((c=a[o]).u_>=s)){t.next=13;break}return t.abrupt("break",20);case 13:return Dn(r),t.next=16,this._wt.swt();case 16:Dr(this._wt.awt(this.Twt(c,n,i),this.cwt));case 17:o++,t.next=9;break;case 20:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Ewt=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.rT;case 2:return t.abrupt("return",this.QY);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),i.Awt=function(t){return Tt.resolve()},i.Swt=function(){var t=Tt.coroutine(bt.mark(function t(){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return tt("License renewal unsupported in this SDK."),t.abrupt("return");case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),i.Twt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s,o,a,c,h;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this._J.oJ,u=_D(n.qdt.Zl,n.qdt.r_),t.next=4,e.ju(u);case 4:if(!(s=t.sent)){t.next=11;break}return t.next=8,WF(s,this.v4.ic,e);case 8:this.Rwt(s,!1),t.next=24;break;case 11:return t.prev=11,t.next=14,this.Iwt(n.qdt);case 14:return o=t.sent,a=this.Nwt(n,i,r,o),c=a.segmentMetadataEntry,h=a.segmentEntry,t.next=18,this._J.vJ(function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.oJ.tJ(c);case 2:return t.next=4,n.aJ.tJ(h);case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 18:this.Rwt(c,!0),t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(11),new JM("Unable to store segment with url: "+n.qdt.Zl,t.t0);case 24:case"end":return t.stop()}},t,this,[[11,21]])}));return function(n,i,r){return t.apply(this,arguments)}}(),i.Iwt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.vwt.Dwt(n,!1);case 2:return i=t.sent,t.next=5,this.Cwt(i);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.Cwt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.RS();case 2:return i=t.sent,t.abrupt("return",{buffer:i});case 4:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}(),i.Nwt=function(t,n,i,r){var e=_D(t.qdt.Zl,t.qdt.r_),u=t.u_,s=t.e_,o=this.Owt(r);return{segmentMetadataEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:lD(i),qualityId:n.ic,byteSize:o,startsAndEnds:new Ca([u,u+s]).nf,references:[this.v4.ic]},segmentEntry:{key:e,segmentURLsegmentByteRange:e,manifestURL:lD(i),data:r}}},i.Owt=function(t){return t.buffer.byteLength},i.Rwt=function(t,n){var i=t.qualityId,r=this.hwt,e=r.XT;e.get(i).timeRanges=e.get(i).timeRanges.Cf(new Ca(t.startsAndEnds)).Nf(5e-4),this.gwt=new jM(n?r.Idt+t.byteSize:r.Idt,e,this.bdt)},b(n,[{key:"Pwt",get:function(){return this.dwt}},{key:"gwt",get:function(){return this.hwt},set:function(t){this.hwt.if(t)||(this.hwt=t,t.if(jM.Rdt())||this.Su(new zM))}}]),n}(Mn);function WF(t,n,i){return XF.apply(this,arguments)}function XF(){return(XF=Tt.coroutine(bt.mark(function t(n,i,r){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Tn(n.references,i)){t.next=4;break}return n.references.push(i),t.next=4,r.tJ(n);case 4:case"end":return t.stop()}},t)}))).apply(this,arguments)}function GF(t){return t.length?[t[0]]:[]}function zF(t,n){if(!t.length)return[];var i=[].concat(t).sort(XM),r=i.filter(function(t){return t.W_<=n});return r.length>0?[r.pop()]:[i.shift()]}var jF=function(){function t(t){this.nR=new m_,this.$T=t}var n=t.prototype;return n.SA=function(t){var n=this,i=new kr;return this.nR.oE(function(r){return n.xwt(i,t,r)},t.bs).catch(G),i.as},n.HD=function(t){return this.$T.HD(t)},n.xwt=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r){var e,u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(r),e=new Xh({Zl:i.Zl,bs:r},i),u=this.$T.SA(e),n.cs(u),t.next=6,u;case 6:return s=t.sent,t.next=9,s.sO();case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r){return t.apply(this,arguments)}}(),n.Va=function(){this.nR.Va()},t}(),YF=function(){function t(t){this.$T=t,this.Bwt=new jF(this.$T)}var n=t.prototype;return n.Dwt=function(t,n,i){return this.n8(t,n,!0,!1,i)},n.Lwt=function(t,n,i){return this.n8(t,n,!1,!1,i)},n.Mwt=function(t,n,i){return this.n8(t,n,!1,!0,i)},n.n8=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e,u){var s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Dn(u),t.next=3,this.Uwt(n,r,e,u);case 3:if(s=t.sent,!i){t.next=8;break}return t.abrupt("return",this.Fwt(s));case 8:return t.abrupt("return",this.Vwt(s));case 9:case"end":return t.stop()}},t,this)}));return function(n,i,r,e,u){return t.apply(this,arguments)}}(),n.Vwt=function(t){return t},n.Fwt=function(t){var n=t.nO();return new UA({kn:n,SA:t.SA},t)},n.Uwt=function(t,n,i,r){var e=new Xh({Zl:t.Zl,Zg:Ch.Ug,Yg:t.r_?{Range:"bytes="+t.r_[0]+"-"+t.r_[1]}:void 0,tw:t.tw,Qg:"GET",ru:"segment",Kg:i?"initialization-segment":"",$g:this.Hwt,bs:r});return n?this.Bwt.SA(e):this.$T.SA(e)},b(t,[{key:"Hwt",get:function(){return""}}]),t}();function QF(t){return void 0!==t}var ZF=function(){function t(){this.qwt=[]}var n=t.prototype;return n.tJ=function(t){return this.Hs(t.key),this.qwt.push(t),Tt.resolve()},n.nJ=function(t){var n=this;return t.forEach(function(t){return n.tJ(t)}),Tt.resolve()},n.zu=function(t){return Tt.resolve(Boolean(this.ju(t)))},n.ju=function(t,n){return Tt.resolve(this.Wwt(t,n))},n.iJ=function(t){var n=this,i=t?t.map(function(t){return n.Wwt(t)}):this.qwt;return Tt.resolve(i.filter(QF))},n.rJ=function(){return Tt.resolve([].concat(this.qwt))},n.eJ=function(t,n){var i=n||"key",r=this.qwt.filter(function(n){return n[i]===t});return Tt.resolve(r)},n.Hs=function(t){var n=this.Wwt(t);return n&&An(this.qwt,n),Tt.resolve()},n.uJ=function(t){for(var n=0;n<t.length;n++){var i=t[n];this.Hs(i)}return Tt.resolve()},n.sJ=function(){return Sn(this.qwt),Tt.resolve()},n.Wwt=function(t,n){n=n||"key";for(var i=0,r=this.qwt;i<r.length;i++){var e=r[i];if(e[n]===t)return e}},t}(),JF=function(){function t(t){this.Xwt=t}return t.prototype.P_t=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=0,o=this.Xwt;case 1:if(!(s<o.length)){t.next=16;break}return a=o[s],t.prev=3,t.next=6,a.P_t(n,i,r,e);case 6:return t.abrupt("return",t.sent);case 9:t.prev=9,t.t0=t.catch(3),Cn(t.t0),u=t.t0;case 13:s++,t.next=1;break;case 16:throw u;case 17:case"end":return t.stop()}},t,this,[[3,9]])}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),KF=function(){function t(t){this.$T=t}return t.prototype.P_t=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$T.SA({Zl:n,Zg:Oh.Ug,Yg:{Range:"bytes="+i[0]+"-"+i[1]},tw:r,Qg:"GET",ru:"",bs:e});case 2:return u=t.sent,t.next=5,u.RS();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}(),$F=function(t){function n(n,i,r){var e;return(e=t.call(this,i,r)||this).ast=n,e}return ut(n,t),n}(at),tV=function(){function t(t){this.o4=t}return t.prototype.P_t=function(){var t=Tt.coroutine(bt.mark(function t(n,i,r,e){var u,s;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.o4.m4(n,i);case 2:if(!(u=t.sent)){t.next=5;break}return t.abrupt("return",u.buffer);case 5:return t.next=7,this.o4.m4(n);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",wr(new m(s.buffer),i[0],i[1]));case 10:throw new $F({Zl:n,r_:i,tw:!1});case 11:case"end":return t.stop()}},t,this)}));return function(n,i,r,e){return t.apply(this,arguments)}}(),t}();var nV=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.Gwt=function(t,n,i,r,e,u){return new qF(t,n,i,r,e,u)},n}(function(){function t(t){this.$T=t}return t.prototype.vz=function(t,n){var i=Boolean(t.zI.sources[0].useCredentials),r=new YF(this.$T),e=new qO(this.$T,i),u=new YO(n.cJ,n.oJ,n.aJ,n.fJ),s=function(t,n){return new JF([new tV(n),new KF(t)])}(this.$T,u),o=new ZF,a=new jO(zO(e,u),o,t);return this.Gwt(t,n,a,o,r,s)},t}());function iV(t){var n,i={get id(){return t.ic},get status(){return t.IA},get source(){return t.zI},get parameters(){return t.pdt},get duration(){return t.e_},get cached(){return t.zwt.lf()},get secondsCached(){return t.jwt},get percentageCached(){return t.Ywt},get bytes(){return t.Qwt},get bytesCached(){return t.Zwt},get license(){return t.xD.Na},start:function(){t.Jh()},pause:function(){t.lT()},remove:function(){t.Hs()},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)}};return n=new qs(t,i),i}var rV=function(){function t(t,n,i){this.v4=t,this._J=n,this.QY=i}var n=t.prototype;return n.Jwt=function(){var t=Tt.coroutine(bt.mark(function t(){var n=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._J.vJ(function(){var t=Tt.coroutine(bt.mark(function t(i){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.Kwt(i);case 2:return t.next=4,n.$wt(i);case 4:return t.next=6,n.tyt(i);case 6:return t.next=8,n.nyt(i);case 8:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n.Kwt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.hJ,r=this.v4.ic,t.next=4,i.Hs(r);case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.$wt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o,a=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.oJ,r=n.aJ,e=lD(this.v4.zI.sources[0].src),t.next=5,i.eJ(e,"manifestURL");case 5:u=t.sent.filter(function(t){return Tn(t.references,a.v4.ic)}),s=0;case 7:if(!(s<u.length)){t.next=22;break}if(An((o=u[s]).references,this.v4.ic),0!==o.references.length){t.next=17;break}return t.next=13,i.Hs(o.key);case 13:return t.next=15,r.Hs(o.key);case 15:t.next=19;break;case 17:return t.next=19,i.tJ(o);case 19:s++,t.next=7;break;case 22:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.tyt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s,o=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.cJ,r=this.iyt(),t.next=4,i.iJ(r);case 4:e=t.sent.filter(function(t){return Tn(t.references,o.v4.ic)}),u=0;case 6:if(!(u<e.length)){t.next=19;break}if(An((s=e[u]).references,this.v4.ic),0!==s.references.length){t.next=14;break}return t.next=12,i.Hs(s.key);case 12:t.next=16;break;case 14:return t.next=16,i.tJ(s);case 16:u++,t.next=6;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.iyt=function(){if(!this.QY)return[];var t=lD(this.v4.zI.sources[0].src),n=function(t){if(!t)return[];for(var n=[],i=0,r=t.Pg;i<r.length;i++)for(var e=0,u=r[i].xdt;e<u.length;e++)for(var s=0,o=u[e].im;s<o.length;s++)for(var a=0,c=o[s].oc;a<c.length;a++){var h=c[a];h.Gdt&&n.push(h.Gdt)}return n.reduce(function(t,n){return t.indexOf(n)<0&&t.push(n),t},[])}(this.QY).map(function(t){return{src:t}}).map(function(t){return lD(t.src)});return[t].concat(n)},n.nyt=function(){var t=Tt.coroutine(bt.mark(function t(n){var i,r,e,u,s=this;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.fJ,t.next=3,i.rJ();case 3:r=t.sent.filter(function(t){return Tn(t.references,s.v4.ic)}),e=0;case 5:if(!(e<r.length)){t.next=19;break}if(An((u=r[e]).references,this.v4.ic),0!==u.references.length){t.next=14;break}return t.next=11,i.Hs(u.key);case 11:this.ryt(u),t.next=16;break;case 14:return t.next=16,i.tJ(u);case 16:e++,t.next=5;break;case 19:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),n.ryt=function(t){},t}(),eV=new(function(){function t(){}return t.prototype.vz=function(t,n,i){return new rV(t,n,i)},t}());var uV=function(){function t(t,n){this.Xi=t,this.eyt=n}var n=t.prototype;return n.n1=function(t){this.uyt(t)},n.uyt=function(){var t=Tt.coroutine(bt.mark(function t(n){return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.eyt.Swt(n);case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),this.Xi.ddt(CM.ERROR);case 9:case"end":return t.stop()}},t,this,[[0,5]])}));return function(n){return t.apply(this,arguments)}}(),b(t,[{key:"Na",get:function(){var t;return this.Ia||(this.Ia=(t=this,{renew:function(n){t.n1(n)}})),this.Ia}}]),t}(),sV=function(t){function n(n,i,r,e,u){var s;(s=t.call(this)||this).syt=new Rr,s.evictOnLoading=function(){s.Cu("$vt",s.evictOnLoading),s.oyt()},s.Hk=n,s.Uat=i,s.ayt=r,s._J=e,s.eyt=u.vz(st(s),s._J),s.cyt=new uV(st(s),s.eyt),s.hdt=1===s.eyt.gwt.Ndt?CM.DONE:CM.IDLE,s.eyt.Iu("RZ",function(t){s.Eu(t),1===s.Ywt&&s.ddt(CM.DONE)});var o=new Date,c=s.ayt.expirationDate.getTime()-o.getTime();return c<2147483647&&a(function(){return s.oyt()},c),s}ut(n,t);var i=n.prototype;return i.ddt=function(t){this.hdt!==t&&(this.hdt=t,this.Su(new PM))},i.Jh=function(){this.hdt===CM.EVICTED||this.hdt===CM.DONE||this.hyt()},i.hyt=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.ddt(CM.LOADING),n=new Rr,this.syt=n,t.next=6,this.eyt.wwt(n.bs);case 6:this.ddt(CM.DONE),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),Nn(t.t0)?this.ddt(CM.IDLE):this.ddt(CM.ERROR);case 12:return t.prev=12,this.syt.bu(),t.finish(12);case 15:case"end":return t.stop()}},t,this,[[0,9,12,15]])}));return function(){return t.apply(this,arguments)}}(),i.lT=function(){this.syt.fs()},i.Hs=function(){this.IA===CM.LOADING?(this.Iu("$vt",this.evictOnLoading),this.lT()):this.oyt()},i.oyt=function(){var t=Tt.coroutine(bt.mark(function t(){var n;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.eyt.Ewt();case 3:return n=t.sent,t.next=6,eV.vz(this,this._J,n).Jwt();case 6:this.eyt.gwt=jM.Rdt(),this.ddt(CM.EVICTED),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),this.ddt(CM.ERROR);case 14:case"end":return t.stop()}},t,this,[[0,10]])}));return function(){return t.apply(this,arguments)}}(),b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=iV(this)),this.Ia}},{key:"ic",get:function(){return this.Hk}},{key:"xD",get:function(){return this.cyt}},{key:"IA",get:function(){return this.hdt}},{key:"zI",get:function(){return this.Uat}},{key:"pdt",get:function(){return this.ayt}},{key:"e_",get:function(){return this.eyt.gwt.zf}},{key:"zwt",get:function(){return this.eyt.gwt.Sdt}},{key:"jwt",get:function(){return this.eyt.gwt.Edt}},{key:"Ywt",get:function(){return this.eyt.gwt.Ndt}},{key:"Qwt",get:function(){return this.eyt.Pwt}},{key:"Zwt",get:function(){return this.eyt.gwt.Idt}}]),n}(Ds);var oV=function(){function t(t,n){this._J=t,this.fyt=n}var n=t.prototype;return n.wdt=function(t,n){var i=Gy();return this._dt(i,t,n)},n._dt=function(t,n,i){return new sV(t,n,i,this._J,this.fyt)},t}(),aV=30,cV=5;function hV(t){if(!t)throw new v("Unexpected - The cache parameters are undefined");var n=function(t){if(V(t)&&!un(t,"%"))return g(t);return t}(t.amount);!function(t){if(i=t,V(i)&&un(i,"%")){var n=w(t);if(y(n)||n<0||n>100)throw new v("The amount as percentage must be between 0 and 100 percent.")}var i;if(!V(t)&&y(t))throw new v("The amount must be a number or a string")}(n);var i=function(t){if(!t)return(n=new Date).setMinutes(n.getMinutes()+aV),n;var n;return t}(t.expirationDate);!function(t){if(t&&(n=t,n&&!(W(n)&&n>new Date)))throw new v("Invalid expiration date for the cache parameters");var n}(i);var r=function(t){if(void 0===t)return 1/0;return t}(t.bandwidth);return function(t){if(y(t)||t<0)throw new v("The bandwidth must be between zero and infinity.")}(r),{amount:n,expirationDate:i,bandwidth:r,parallelTasksThreshold:function(t){if(!t)return cV;if(y(t))throw new v("The amount must be a number");return t}(t.numberOfParallelTasks)}}var fV=function(t){function n(n,i){var r;return(r=t.call(this)||this).vyt=n,r.VM=i,r.vyt.Iu("$vt",r.Eu),r}return ut(n,t),n.prototype.dyt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=qf(t),r=hV(n),yf(i))throw new v("Invalid source description");return this.vyt._dt(i,r).Na},b(n,[{key:"Na",get:function(){var t,n,i;return this.Ia||(this.Ia=(i={get status(){return t.IA},get tasks(){return t.kdt},get network(){return t.JM.Na},createTask:function(n,i){return t.dyt(n,i)},addEventListener:function(t,i){n.Iu(t,i)},removeEventListener:function(t,i){n.Cu(t,i)}},n=new qs(t=this,i),i)),this.Ia}},{key:"IA",get:function(){return this.vyt.IA}},{key:"kdt",get:function(){return this.vyt.kdt.Na}},{key:"JM",get:function(){return this.VM}}]),n}(Ds);(vV=new uE(IT.HP,!1),dV=dD.$t,lV=new nV(vV),_V=new oV(dV,lV),gV=new oE(vV),wV=new WM(dV.hJ,_V),new fV(wV,gV)).Na;var vV,dV,lV,_V,gV,wV,yV=function(t){function n(n,i,r,e){var u;return(u=t.call(this)||this).WH=0,u.lyt=new Ca([]),u._yt=0,u.gyt=0,u.Hk=n,u.hdt=CM.IDLE,u.Uat=i,u.ayt=r,u.vyt=e,u}ut(n,t);var i=n.prototype;return i.Jh=function(){this.vyt.startCachingTask(this)},i.Hs=function(){this.vyt.removeCachingTask(this)},b(n,[{key:"Na",get:function(){return this.Ia||(this.Ia=iV(this)),this.Ia}},{key:"ic",get:function(){return this.Hk}},{key:"IA",get:function(){return this.hdt},set:function(t){this.hdt!==t&&(this.hdt=t,this.Su(new PM))}},{key:"zI",get:function(){return this.Uat}},{key:"pdt",get:function(){return this.ayt}},{key:"e_",get:function(){return this.WH},set:function(t){this.WH=t}},{key:"zwt",get:function(){return this.lyt},set:function(t){this.lyt=t}},{key:"jwt",get:function(){return this._yt},set:function(t){this._yt=t}},{key:"Ywt",get:function(){return this.gyt},set:function(t){this.gyt=t,this.Su(new zM)}}]),n}(Cs),mV=30;function pV(t){var n,i;if(!t)throw new v("Unexpected - The cache parameters are undefined");if(t.expirationDate?n=t.expirationDate:(n=new Date).setMinutes(n.getMinutes()+mV),n&&((i=n)&&!(W(i)&&i>new Date)))throw new v("Invalid expiration date for the cache parameters");return{expirationDate:n}}var kV=function(t){function n(){var n;return(n=t.call(this)||this).hdt=MM.UNINITIALISED,n.iE=new qM,n.wyt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);i&&(i.IA=CM.EVICTED,i.Ywt=0,i.jwt=0,i.e_=0,i.zwt=new Ca([]),n.iE.Hs(i))}},n.yyt=function(t){if(t.detail){var i=n.findTaskWithId(t.detail.id);if(i){var r=t.detail.status;r&&(i.IA=r);var e=t.detail.percentage;e&&(i.Ywt=e);var u=t.detail.duration;u&&(i.e_=u);var s=t.detail.seconds;s&&(i.jwt=s);var o=t.detail.cached;if(o){for(var a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}i.zwt=new Ca(a)}}}},n.myt=function(t){if(t.detail){var i=qf(JSON.parse(t.detail.source));if(!n.pyt(i)){var r={},e=t.detail.expirationDate;e&&(r={expirationDate:new Date(e)});var u=t.detail.uuid;n._dt(i,pV(r),u)}}},n.kyt=function(t){if(t.detail){var i={},r=t.detail.expirationDate;r&&(i={expirationDate:new Date(r)});var e=JSON.parse(t.detail.source),u=t.detail.uuid,s=n._dt(qf(e),pV(i),u);s.IA=t.detail.status,s.Ywt=t.detail.percentage,s.e_=t.detail.duration,s.jwt=t.detail.seconds;for(var o=t.detail.cached,a=[],c=0;c<o.length;c++){var h=o[c];a.push(h.start,h.end)}s.zwt=new Ca(a)}},n.Ayt=function(t){t.detail&&n.ddt(t.detail.status)},n.evt=new EM,n.wvt=new aM,rM().cache={sdkEventBus:n.wvt},n.SQ(),n}ut(n,t);var i=n.prototype;return i.ddt=function(t){this.hdt!==t&&(this.hdt=t,this.Su(new PM))},i._dt=function(t,n,i){void 0===i&&(i=void 0);var r=new yV(i||Gy(),t,n,this);return this.iE.Df(r),i||this.evt.rvt("THEOplayerCacheCreateCachingTask",{source:t,parameters:n,id:r.ic}),r},i.findTaskWithId=function(t){for(var n=0,i=this.iE.sdt;n<i.length;n++){var r=i[n];if(r.ic===t)return r}},i.pyt=function(t){for(var n=bV(t.sources),i=0,r=this.iE.sdt;i<r.length;i++){if(bV(r[i].zI.sources).src===n.src)return!0}return!1},i.SQ=function(){this.wvt.addEventListener("deleteTask",this.wyt),this.wvt.addEventListener("updateValues",this.yyt),this.wvt.addEventListener("newTask",this.myt),this.wvt.addEventListener("restoreTask",this.kyt),this.wvt.addEventListener("setCacheStatus",this.Ayt)},i.startCachingTask=function(t){this.evt.rvt("THEOplayerCacheStartCachingTask",{id:t.ic})},i.removeCachingTask=function(t){this.evt.rvt("THEOplayerCacheRemoveCachingTask",{id:t.ic})},b(n,[{key:"IA",get:function(){return this.hdt}},{key:"kdt",get:function(){return this.iE}}]),n}(Mn),AV=function(t){function n(n){var i;return(i=t.call(this,n)||this).byt=n,i.byt.Iu("$vt",i.Eu),i}return ut(n,t),n.prototype.dyt=function(t,n){var i,r;if(!t)throw new v("Unexpected - The source description is undefined");if(i=qf(t),r=pV(n),yf(i))throw new v("Invalid source description");if(!bV(i.sources))throw new v("The provided sources can't be cached");return this.byt._dt(i,r).Na},n}(fV);function bV(t){for(var n=0;n<t.length;n++){var i=t[n];if(If(i.type))return i}}var TV,EV,SV=function(){var t=new kV;return new AV(t)}().Na,RV=function(t){function n(){var n;return(n=t.apply(this,arguments)||this).evt=new EM,n.Tyt="natural",n.Eyt="portrait-primary",n.Syt="portrait-primary",n.Ryt="portrait-primary",n}ut(n,t);var i=n.prototype;return i.lock=function(t){var n=this;return new e.Promise(function(i,r){n.Tyt=t,n.evt.rvt("THEOplayerOrientationLock",t),n.Iyt(),i()})},i.unlock=function(){var t=this;return new e.Promise(function(n,i){t.Tyt="natural",t.evt.rvt("THEOplayerOrientationUnlock"),t.type=t.Syt,t.Iyt(),n()})},i.Iyt=function(){var t=this.Ryt,n=this.type;t!==n&&(this.Ryt=n,this.Su(new Un("change")))},i.addEventListener=function(t,n){this.Iu(t,n)},i.removeEventListener=function(t,n){this.Cu(t,n)},n.Nyt=function(t){switch(t){case"portrait-primary":return["portrait-primary"];case"portrait-secondary":return["portrait-secondary"];case"portrait":return["portrait-primary","portrait-secondary"];case"landscape-primary":return["landscape-primary"];case"landscape-secondary":return["landscape-secondary"];case"landscape":return["landscape-primary","landscape-secondary"];case"natural":return["portrait-primary","landscape-primary","landscape-secondary"];case"any":return["portrait-primary","portrait-secondary","landscape-primary","landscape-secondary"]}},n.Dyt=function(t,i){return n.Nyt(i).indexOf(t)>=0},b(n,[{key:"type",get:function(){return this.Eyt},set:function(t){this.Syt=t,n.Dyt(t,this.Tyt)?(this.Eyt=t,this.Iyt()):("landscape-primary"===t&&"landscape-secondary"===this.Tyt&&(this.Eyt="landscape-secondary",this.Iyt()),"landscape-secondary"===t&&"landscape-primary"===this.Tyt&&(this.Eyt="landscape-primary",this.Iyt()))}},{key:"angle",get:function(){switch(this.type){case"landscape-primary":return-90;case"landscape-secondary":return 90;case"portrait-primary":return 0;case"portrait-secondary":return 180;default:return 0}}}]),n}(Cs);RV.$t=new RV,e.screen.orientation=RV.$t,o&&-1===o.userAgent.indexOf("OS 9")&&l.defineProperty(e,"orientation",{get:function(){return e.screen.orientation.angle}}),e.screen.orientation.addEventListener("change",function(){e.dispatchEvent(new CustomEvent("orientationchange"))}),function(t){t.Cyt="unavailable",t.Oyt="available",t.Pyt="presenting"}(TV||(TV={})),zE(function(t){return function(t){function n(n,i){return t.call(this,n,i)||this}return ut(n,t),n.prototype.wT=function(n){t.prototype.wT.call(this,n);var i=this.Na;this.Na.vr&&n&&n.vr&&i.vr.addEventListener("statechange",function(){i.vr.state===TV.Pyt?screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-secondary").catch(function(t){console.error("screen.orientation.lock() failed due to",t.message)}):screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock()})},n}(t)},ME.$M),function(t){t.xyt="addtrack",t.Byt="removetrack",t.Lyt="change",t.Myt="update"}(EV||(EV={}));var IV=function(t,n,i){this.mediaType=t,this.mediaTrack=n,this.mediaTrackList=i,this.type=EV.Lyt},NV=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=EV.xyt},DV=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=EV.Byt},CV=function(t,n){this.mediaType=t,this.mediaTrack=n,this.type=EV.Myt},OV=function(){function t(t,n,i){var r=this;this.Uyt=function(t){var n=new IV(r.type,t.track,r.mediaTracks);r.messageDispatcher.Fyt(n)},this.Vyt=function(t){var n=new NV(r.type,t.track);r.messageDispatcher.Fyt(n),t.track.addEventListener("update",r.Hyt)},this.qyt=function(t){var n=new DV(r.type,t.track);r.messageDispatcher.Fyt(n)},this.Hyt=function(t){var n=new CV(r.type,t.track);r.messageDispatcher.Fyt(n)},this.type=t,this.mediaTracks=n,this.messageDispatcher=i,this.SQ()}return t.prototype.SQ=function(){this.mediaTracks.addEventListener("change",this.Uyt),this.mediaTracks.addEventListener("addtrack",this.Vyt),this.mediaTracks.addEventListener("removetrack",this.qyt)},t}(),PV=function(){function t(){this.Wyt=new EM}return t.prototype.Fyt=function(t){this.Wyt.rvt(t.type,GL(t))},t}();QE(function(t){if(t.Na.audioTracks){var n=new PV;new OV("audio",t.Na.audioTracks,n)}if(t.Na.videoTracks){var i=new PV;new OV("video",t.Na.videoTracks,i)}});var xV,BV,LV=function(t){function n(){return t.apply(this,arguments)||this}return ut(n,t),n.prototype.dispatchEvent=function(t,n){switch(t){case xV.Xyt:var i={integrationId:n.integrationId,keySystem:n.keySystem};this.Su(new MV(i));break;default:0}},n}(aM),MV=function(t){function n(n){var i;return(i=t.call(this,xV.Xyt)||this).detail=n,i}return ut(n,t),n}(Un);!function(t){t.Xyt="registerContentProtectionIntegration"}(xV||(xV={})),function(t){t.Gyt="certifiateRequest",t.zyt="certifiateResponse",t.jyt="licenseRequest",t.Yyt="licenseResponse",t.Qyt="extractFairplayContentId",t.Zyt="buildContentProtection",t.Jyt="registerContentProtectionCallback"}(BV||(BV={}));var UV,FV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.Jyt};!function(t){t.VOD="vod",t.LIVE="live"}(UV||(UV={}));var VV,HV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.Zyt},qV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.Gyt},WV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.zyt},XV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.Qyt},GV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.jyt},zV=function(t,n){this.value=t,this.integrationId=n,this.type=BV.Yyt},jV=function(){function t(t,n){this.Kyt=t,this.Sc=n}var i=t.prototype;return i.onCertificateRequest=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e=new qV(r,this.Sc),t.next=4,this.Kyt.$yt(e);case 4:if(!(u=t.sent)){t.next=11;break}return s=JSON.parse(u),o=Et({},s),t.abrupt("return",o);case 11:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateRequest");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onCertificateResponse=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u,s,o;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e={request:r,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},u=new WV(e,this.Sc),t.next=5,this.Kyt.$yt(u);case 5:if(!(s=t.sent)){t.next=11;break}return o=JSON.parse(s),t.abrupt("return",new m(o));case 11:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_CERTIFICATE_ERROR,"received undefined instead of string in onCertificateResponse");case 12:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseRequest=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i),e={url:r.url,method:r.method,headers:r.headers,body:r.body?Array.from(r.body):null,useCredentials:r.useCredentials,fairplaySkdUrl:i.fairplaySkdUrl},u=new GV(e,this.Sc),t.next=5,this.Kyt.$yt(u);case 5:if(!(s=t.sent)){t.next=12;break}return o=JSON.parse(s),a={url:o.url,method:o.method,headers:o.headers,body:o.body?new m(o.body):null,useCredentials:o.useCredentials,fairplaySkdUrl:o.fairplaySkdUrl},t.abrupt("return",a);case 12:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseRequest");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.onLicenseResponse=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e,u,s,o,a;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.toCertificateRequestDTO(i.request),e=Et(Et({},r),{fairplaySkdUrl:i.request.fairplaySkdUrl}),u={request:e,url:i.url,status:i.status,statusText:i.statusText,headers:i.headers,body:Array.from(i.body)},s=new zV(u,this.Sc),t.next=6,this.Kyt.$yt(s);case 6:if(!(o=t.sent)){t.next=12;break}return a=JSON.parse(o),t.abrupt("return",new m(a));case 12:throw new Ho(n.ErrorCode.CONTENT_PROTECTION_LICENSE_ERROR,"received undefined instead of string in onLicenseResponse");case 13:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.extractFairplayContentId=function(){var t=Tt.coroutine(bt.mark(function t(i){var r,e;return bt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new XV(i,this.Sc),t.next=3,this.Kyt.$yt(r);case 3:if(!(e=t.sent)){t.next=6;break}return t.abrupt("return",e);case 6:return t.abrupt("return",Tt.reject(new Ho(n.ErrorCode.CONTENT_PROTECTION_CONFIGURATION_INVALID,"received undefined instead of string in extractFairplayContentId")));case 7:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}(),i.toCertificateRequestDTO=function(t){return{url:t.url,method:t.method,headers:t.headers,body:t.body?Array.from(t.body):null,useCredentials:t.useCredentials}},t}(),YV=function(){function t(t){this.Kyt=t}return t.prototype.build=function(t){if(!t.integration)throw new v("integrationId is undefined");var n=new jV(this.Kyt,t.integration),i=new HV({drmConfiguration:t},t.integration);return this.Kyt.$yt(i),n},t}(),QV=function(){var t=this;this.tmt=function(n){var i=new YV(t.messageDispatcher),r=n.detail,e=r.integrationId,u=r.keySystem,s={state:Xo.Oc.Ic(e,u,i)};t.messageDispatcher.$yt(new FV(s,e))},this.wvt=new LV,rM().contentProtectionIntegration={sdkEventBus:this.wvt},this.wvt.addEventListener(xV.Xyt,this.tmt)},ZV="nativePromiseCallback",JV=function(t){function n(n){var i;return(i=t.call(this,ZV)||this).detail=n,i}return ut(n,t),n}(Un);!function(t){t.RESOLVE="NATIVE_PROMISE_RESOLVE",t.REJECT="NATIVE_PROMISE_REJECT"}(VV||(VV={}));var KV=function(t){function n(){return t.apply(this,arguments)||this}ut(n,t);var i=n.prototype;return i.dispatchEvent=function(t,n){this.Su(new JV(n))},i.addEventListener=function(t,n){this.Iu(t,n)},i.removeEventListener=function(t,n){this.Cu(t,n)},n}(aM),$V=function(){function t(){var t=this;this.promisesMap={},this.handleNativePromiseEvent=function(n){var i=t.promisesMap[n.detail.promiseId];if(!i)throw new v("Could not find a promise with id "+n.detail.promiseId);switch(n.detail.type){case VV.RESOLVE:i.cs(n.detail.data);break;case VV.REJECT:i.hs(n.detail.data)}delete t.promisesMap[n.detail.promiseId]};var n=new KV;rM().nativePromise={sdkEventBus:n},n.addEventListener(ZV,this.handleNativePromiseEvent)}return t.prototype.$yt=function(n){var i;t.messageIdTracker+=1;var r=t.messageIdTracker.toString(),e=Et(Et({},n),{promiseId:r}),u=new kr;return this.promisesMap[r]=u,null===(i=this.Wyt)||void 0===i||i.rvt(n.type,WL(e)),u.as},t}();$V.messageIdTracker=-1;var tH,nH=function(t){function n(){var n;return(n=t.call(this)||this).Wyt=new EM,n}return ut(n,t),n}($V),iH=function(t){function n(){var n;return(n=t.call(this)||this).Kyt=new nH,n}return ut(n,t),b(n,[{key:"messageDispatcher",get:function(){return this.Kyt}}]),n}(QV);QE(function(t){new iH}),function(t){t.nmt="airplaystatechange"}(tH||(tH={}));var rH=function(t){this.state=t,this.type=tH.nmt},eH=function(t){function n(n){var i;return(i=t.call(this)||this).imt=function(t){var n=new rH(t.state);i.Fyt(n)},i.rmt=n,i.SQ(n),i}return ut(n,t),n.prototype.SQ=function(t){t.addEventListener("statechange",this.imt)},n}(PV);QE(function(t){var n;(null===(n=t.Na.cast)||void 0===n?void 0:n.airplay)&&new eH(t.Na.cast.airplay)}),n.ChromelessPlayer=wS,n.Player=wS,n.cache=SV,n.createGlobals=sM,n.features=["hls","airplay","texttrackrendering"],n.getCueMirrorMap=eM,n.getGlobalId=uM,n.getSdkEventBridge=rM,n.playerSuiteVersion="2020.4.1",n.players=mS,n.registerContentProtectionIntegration=pS,n.utils=yS,n.version="2.78.0",l.defineProperty(n,"__esModule",{value:!0})})}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this);
